window.webix||(webix={});webix.version="3.0";webix.codebase="./";webix.name="Core";webix.clone=function(a){var b=webix.clone.sn;b.prototype=a;return new b};webix.clone.sn=function(){};webix.extend=function(a,b,c){if(a.pd)return webix.PowerArray.insertAt.call(a.pd,b,1),a;for(var d in b)if(!a[d]||c)a[d]=b[d];b.defaults&&webix.extend(a.defaults,b.defaults);b.$init&&b.$init.call(a);return a};
webix.copy=function(a){if(1<arguments.length){var b=arguments[0];a=arguments[1]}else b=webix.isArray(a)?[]:{};for(var c in a)a[c]&&"object"==typeof a[c]&&!webix.isDate(a[c])?(b[c]=webix.isArray(a[c])?[]:{},webix.copy(b[c],a[c])):b[c]=a[c];return b};webix.single=function(a){var b=null,c=function(c){b||(b=new a({}));b.yp&&b.yp.apply(b,arguments);return b};return c};
webix.protoUI=function(){var a=arguments,b=a[0].name,c=function(a){if(!c)return webix.ui[b].prototype;var e=c.pd;if(e){for(var f=[e[0]],g=1;g<e.length;g++)f[g]=e[g],f[g].pd&&(f[g]=f[g].call(webix,f[g].name)),f[g].prototype&&f[g].prototype.name&&(webix.ui[f[g].prototype.name]=f[g]);webix.ui[b]=webix.proto.apply(webix,f);if(c.qd)for(g=0;g<c.qd.length;g++)webix.Type(webix.ui[b],c.qd[g]);c=null}return this!=webix?new webix.ui[b](a):webix.ui[b]};c.pd=Array.prototype.slice.call(arguments,0);return webix.ui[b]=
c};
webix.proto=function(){for(var a=arguments,b=a[0],c=!!b.$init,d=[],e=a.length-1;0<e;e--){"function"==typeof a[e]&&(a[e]=a[e].prototype);a[e].$init&&d.push(a[e].$init);if(a[e].defaults){var f=a[e].defaults;b.defaults||(b.defaults={});for(var g in f)webix.isUndefined(b.defaults[g])&&(b.defaults[g]=f[g])}if(a[e].type&&b.type)for(g in a[e].type)b.type[g]||(b.type[g]=a[e].type[g]);for(var h in a[e])!b[h]&&!1!==b[h]&&(b[h]=a[e][h])}c&&d.push(b.$init);b.$init=function(){for(var a=0;a<d.length;a++)d[a].apply(this,arguments)};
c=function(a){this.$ready=[];this.$init(a);this.ge&&this.ge(a,this.defaults);for(a=0;a<this.$ready.length;a++)this.$ready[a].call(this)};c.prototype=b;b=a=null;return c};webix.bind=function(a,b){return function(){return a.apply(b,arguments)}};
webix.require=function(a,b,c,d,e){if("string"!=typeof a){var f=a.length||0,g=b;if(f)b=function(){if(f)f--,webix.require(a[a.length-f-1],b,c);else return g.apply(this,arguments)},b();else{for(var h in a)f++;b=function(){f--;0===f&&g.apply(this,arguments)};for(h in a)webix.require(h,b,c)}}else!0!==webix.sb[a]&&(".css"==a.substr(-4)?(d=webix.html.create("LINK",{type:"text/css",rel:"stylesheet",href:webix.codebase+a}),document.head.appendChild(d),b&&b.call(c||window)):b?webix.sb[a]?webix.sb[a].push([b,
c]):(webix.sb[a]=[[b,c]],webix.ajax(webix.codebase+a,function(b){webix.exec(b);b=webix.sb[a];webix.sb[a]=!0;for(var c=0;c<b.length;c++)b[c][0].call(b[c][1]||window,!c)})):(webix.exec(webix.ajax().sync().get(webix.codebase+a).responseText),webix.sb[a]=!0))};webix.sb={};webix.exec=function(a){window.execScript?window.execScript(a):window.eval(a)};webix.wrap=function(a,b){return!a?b:function(){var c=a.apply(this,arguments);b.apply(this,arguments);return c}};
webix.isUndefined=function(a){return"undefined"==typeof a};webix.delay=function(a,b,c,d){return window.setTimeout(function(){var d=a.apply(b,c||[]);a=b=c=null;return d},d||1)};webix.uid=function(){this.ug||(this.ug=(new Date).valueOf());this.ug++;return this.ug};webix.toNode=function(a){return"string"==typeof a?document.getElementById(a):a};webix.toArray=function(a){return webix.extend(a||[],webix.PowerArray,!0)};webix.toFunctor=function(a){return"string"==typeof a?eval(a):a};
webix.isArray=function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)};webix.isDate=function(a){return a instanceof Date};webix.Xa={};webix.event=function(a,b,c,d){a=webix.toNode(a);var e=webix.uid();d&&(c=webix.bind(c,d));webix.Xa[e]=[a,b,c];a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,function(){c.apply(a,arguments)});return e};
webix.eventRemove=function(a){if(a){var b=webix.Xa[a];b[0].removeEventListener?b[0].removeEventListener(b[1],b[2],!1):b[0].detachEvent&&b[0].detachEvent("on"+b[1],b[2]);delete this.Xa[a]}};
webix.EventSystem={$init:function(){this.Ha||(this.Ha={},this.Ic={},this.Id={})},blockEvent:function(){this.Ha.gh=!0},unblockEvent:function(){this.Ha.gh=!1},mapEvent:function(a){webix.extend(this.Id,a,!0)},on_setter:function(a){if(a)for(var b in a)if("function"==typeof a[b]){var c=b.indexOf("->");-1!==c?this[b.substr(0,c)].attachEvent(b.substr(c+2),webix.bind(a[b],this)):this.attachEvent(b,a[b])}},callEvent:function(a,b){if(this.Ha.gh)return!0;a=a.toLowerCase();var c=this.Ha[a.toLowerCase()],d=!0;
if(c)for(var e=0;e<c.length;e++)if(!1===c[e].apply(this,b||[]))d=!1;this.Id[a]&&!this.Id[a].callEvent(a,b)&&(d=!1);return d},attachEvent:function(a,b,c){a=a.toLowerCase();c=c||webix.uid();b=webix.toFunctor(b);var d=this.Ha[a]||webix.toArray();d.push(b);this.Ha[a]=d;this.Ic[c]={f:b,t:a};return c},detachEvent:function(a){if(this.Ic[a]){var b=this.Ic[a].t,c=this.Ic[a].f,b=this.Ha[b];b.remove(c);delete this.Ic[a]}},hasEvent:function(a){a=a.toLowerCase();return this.Ha[a]?!0:!1}};webix.extend(webix,webix.EventSystem);
webix.PowerArray={removeAt:function(a,b){0<=a&&this.splice(a,b||1)},remove:function(a){this.removeAt(this.find(a))},insertAt:function(a,b){if(!b&&0!==b)this.push(a);else{var c=this.splice(b,this.length-b);this[b]=a;this.push.apply(this,c)}},find:function(a){for(var b=0;b<this.length;b++)if(a==this[b])return b;return-1},each:function(a,b){for(var c=0;c<this.length;c++)a.call(b||this,this[c])},map:function(a,b){for(var c=0;c<this.length;c++)this[c]=a.call(b||this,this[c]);return this},filter:function(a,
b){for(var c=0;c<this.length;c++)a.call(b||this,this[c])||(this.splice(c,1),c--);return this}};webix.env={};
(function(){-1!=navigator.userAgent.indexOf("Mobile")&&(webix.env.mobile=!0);if(webix.env.mobile||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("Android"))webix.env.touch=!0;if(-1!=navigator.userAgent.indexOf("Opera"))webix.env.isOpera=!0;else{webix.env.isIE=!!document.all;if(webix.env.isIE){var a=parseFloat(navigator.appVersion.split("MSIE")[1]);8==a&&(webix.env.isIE8=!0)}webix.env.isFF=!document.all;webix.env.isWebKit=-1!=navigator.userAgent.indexOf("KHTML");webix.env.isSafari=
webix.env.isWebKit&&-1!=navigator.userAgent.indexOf("Mac")}-1!=navigator.userAgent.toLowerCase().indexOf("android")&&(webix.env.isAndroid=!0);webix.env.transform=!1;webix.env.transition=!1;for(var a={names:["transform","transition"],transform:["transform","WebkitTransform","MozTransform","OTransform","msTransform"],transition:["transition","WebkitTransition","MozTransition","OTransition","msTransition"]},b=document.createElement("DIV"),c=0;c<a.names.length;c++)for(var d=a[a.names[c]],e=0;e<d.length;e++)if("undefined"!=
typeof b.style[d[e]]){webix.env[a.names[c]]=d[e];break}b.style[webix.env.transform]="translate3d(0,0,0)";webix.env.translate=b.style[webix.env.transform]?"translate3d":"translate";a="";b=!1;webix.env.isOpera&&(a="-o-",b="O");webix.env.isFF&&(a="-Moz-");webix.env.isWebKit&&(a="-webkit-");webix.env.isIE&&(a="-ms-");webix.env.transformCSSPrefix=a;webix.env.transformPrefix=b||webix.env.transformCSSPrefix.replace(/-/gi,"");webix.env.transitionEnd="-Moz-"==webix.env.transformCSSPrefix?"transitionend":webix.env.transformPrefix+
"TransitionEnd"})();webix.env.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}();
webix.html={Vc:0,denySelect:function(){webix.Vc||(webix.Vc=document.onselectstart);document.onselectstart=webix.html.stopEvent},allowSelect:function(){0!==webix.Vc&&(document.onselectstart=webix.Vc||null);webix.Vc=0},index:function(a){for(var b=0;a=a.previousSibling;)b++;return b},Jk:{},createCss:function(a){var b="",c;for(c in a)b+=c+":"+a[c]+";";a=this.Jk[b];a||(a="s"+webix.uid(),this.addStyle("."+a+"{"+b+"}"),this.Jk[b]=a);return a},addStyle:function(a){var b=document.createElement("style");b.setAttribute("type",
"text/css");b.setAttribute("media","screen");b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a));document.getElementsByTagName("head")[0].appendChild(b)},create:function(a,b,c){b=b||{};a=document.createElement(a);for(var d in b)a.setAttribute(d,b[d]);b.style&&(a.style.cssText=b.style);b["class"]&&(a.className=b["class"]);c&&(a.innerHTML=c);return a},getValue:function(a){a=webix.toNode(a);return!a?"":webix.isUndefined(a.value)?a.innerHTML:a.value},remove:function(a){if(a instanceof
Array)for(var b=0;b<a.length;b++)this.remove(a[b]);else a&&a.parentNode&&a.parentNode.removeChild(a)},insertBefore:function(a,b,c){a&&(b&&b.parentNode?b.parentNode.insertBefore(a,b):c.appendChild(a))},locate:function(a,b){if(a.tagName)var c=a;else a=a||event,c=a.target||a.srcElement;for(;c;){if(c.getAttribute){var d=c.getAttribute(b);if(d)return d}c=c.parentNode}return null},offset:function(a){if(a.getBoundingClientRect){var b=a.getBoundingClientRect(),c=document.body,d=document.documentElement,e=
window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft,g=d.clientTop||c.clientTop||0,c=d.clientLeft||c.clientLeft||0,e=b.top+e-g,b=b.left+f-c;return{y:Math.round(e),x:Math.round(b),width:a.offsetHeight,height:a.offsetWidth}}for(b=e=0;a;)e+=parseInt(a.offsetTop,10),b+=parseInt(a.offsetLeft,10),a=a.offsetParent;return{y:e,x:b,width:a.offsetHeight,height:a.offsetWidth}},posRelative:function(a){a=a||event;return webix.isUndefined(a.offsetX)?{x:a.layerX,y:a.layerY}:
{x:a.offsetX,y:a.offsetY}},pos:function(a){a=a||event;if(a.pageX||a.pageY)return{x:a.pageX,y:a.pageY};var b=webix.env.isIE&&"BackCompat"!=document.compatMode?document.documentElement:document.body;return{x:a.clientX+b.scrollLeft-b.clientLeft,y:a.clientY+b.scrollTop-b.clientTop}},preventEvent:function(a){a&&a.preventDefault&&a.preventDefault();return webix.html.stopEvent(a)},stopEvent:function(a){(a||event).cancelBubble=!0;return!1},addCss:function(a,b){a.className+=" "+b},removeCss:function(a,b){a.className=
a.className.replace(RegExp(" "+b,"g"),"")}};webix.ready=function(a){this.tp?a.call():this.je.push(a)};webix.je=[];(function(){var a=document.getElementsByTagName("SCRIPT");a.length&&(a=(a[a.length-1].getAttribute("src")||"").split("/"),a.splice(a.length-1,1),webix.codebase=a.slice(0,a.length).join("/")+"/");webix.event(window,"load",function(){webix.callEvent("onReady",[]);webix.delay(function(){webix.tp=!0;for(var a=0;a<webix.je.length;a++)webix.je[a].call();webix.je=[]})})})();
webix.locale=webix.locale||{};webix.ready(function(){webix.event(document.body,"click",function(a){webix.callEvent("onClick",[a||event])})});webix.skin={topLayout:"wide",barHeight:34,tabbarHeight:35,rowHeight:34,toolbarHeight:22,listItemHeight:28,inputHeight:34,inputPadding:2,menuHeight:34,menuMargin:0,labelTopHeight:16,layoutMargin:{space:10,wide:4,clean:0,head:4,line:-1,toolbar:4,form:8},layoutPadding:{space:10,wide:0,clean:0,head:0,line:0,toolbar:4,form:8},tabMargin:-1,calendarHeight:70,padding:0};
webix.Destruction={$init:function(){webix.destructors.push(this)},destructor:function(){this.destructor=function(){};if(this.j)for(var a=0;a<this.j.length;a++)this.j[a].destructor();this.po&&(a=webix.ui.get(this.po))&&a.destructor();delete webix.ui.views[this.h.id];this.Za=this.s=null;this.V&&document.body.appendChild(this.V);this.V=null;this.m&&(this.m.innerHTML="",this.m.s=null);this.m=this.l=null;this.i&&this.i.parentNode&&this.i.parentNode.removeChild(this.i);this.data=null;this.Xa=this.er={};
webix.UIManager.w==this&&(webix.UIManager.w=null)}};webix.destructors=[];webix.event(window,"unload",function(){webix.callEvent("unload",[]);webix.en=!0;for(var a=0;a<webix.destructors.length;a++)webix.destructors[a].destructor();webix.destructors=[];for(var b in webix.Xa)a=webix.Xa[b],a[0].removeEventListener?a[0].removeEventListener(a[1],a[2],!1):a[0].detachEvent&&a[0].detachEvent("on"+a[1],a[2]),delete webix.Xa[b]});
(function(){var a={},b=RegExp("(\\r\\n|\\n)","g"),c=RegExp('(\\")',"g");webix.Template=function(d){if("function"==typeof d)return d;if(a[d])return a[d];d=(d||"").toString();if(-1!=d.indexOf("->"))switch(d=d.split("->"),d[0]){case "html":d=webix.html.getValue(d[1]);break;case "http":d=(new webix.ajax).sync().get(d[1],{uid:webix.uid()}).responseText}d=(d||"").toString();d=d.replace(b,"\\n");d=d.replace(c,'\\"');d=d.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'"+(obj.$1?"$2":"$3")+"');d=d.replace(/\{common\.([^}\(]*)\}/g,
"\"+(common.$1||'')+\"");d=d.replace(/\{common\.([^\}\(]*)\(\)\}/g,'"+(common.$1?common.$1.apply(this, arguments):"")+"');d=d.replace(/\{obj\.([^}]*)\}/g,'"+(obj.$1)+"');d=d.replace("{obj}",'"+obj+"');d=d.replace(/#([^#'";, ]+)#/gi,'"+(obj.$1)+"');try{a[d]=Function("obj","common",'return "'+d+'";')}catch(e){}return a[d]};webix.Template.empty=function(){return""};webix.Template.bind=function(a){return webix.bind(webix.Template(a),this)};webix.Type=function(a,b){if(a.pd)a.qd||(a.qd=[]),a.qd.push(b);
else{"function"==typeof a&&(a=a.prototype);a.types||(a.types={"default":a.type},a.type.name="default");var c=b.name,g=a.type;c&&(g=a.types[c]=webix.clone(b.baseType?a.types[b.baseType]:a.type));for(var h in b)g[h]=0===h.indexOf("template")?webix.Template(b[h]):b[h];return c}}})();
webix.Settings={$init:function(){this.h=this.config={}},define:function(a,b){return"object"==typeof a?this.ag(a):this.Gh(a,b)},Gh:function(a,b){var c=this[a+"_setter"];return this.h[a]=c?c.call(this,b,a):b},ag:function(a){if(a)for(var b in a)this.Gh(b,a[b])},ge:function(a,b){var c={};b&&(c=webix.extend(c,b));"object"==typeof a&&!a.tagName&&webix.extend(c,a,!0);this.ag(c)},ya:function(a,b){for(var c in b)switch(typeof a[c]){case "object":a[c]=this.ya(a[c]||{},b[c]);break;case "undefined":a[c]=b[c]}return a}};
webix.ajax=function(a,b,c){if(0!==arguments.length){var d=new webix.ajax;c&&(d.master=c);return d.get(a,null,b)}return!this.getXHR?new webix.ajax:this};webix.ajax.count=0;
webix.ajax.prototype={master:null,getXHR:function(){return webix.env.isIE?new ActiveXObject("Microsoft.xmlHTTP"):new XMLHttpRequest},sc:function(a,b,c){var d=this.getXHR();webix.isArray(c)||(c=[c]);if("object"==typeof b){var e=[],f;for(f in b){var g=b[f];if(null===g||g===webix.undefined)g="";e.push(f+"="+encodeURIComponent(g))}b=e.join("&")}b&&"GET"===this.request&&(a=a+(-1!=a.indexOf("?")?"&":"?")+b,b=null);d.open(this.request,a,!this.tq);if(this.M)for(var h in this.M)d.setRequestHeader(h,this.M[h]);
else"POST"===this.request&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded");var i=this;d.onreadystatechange=function(){if(!d.readyState||4==d.readyState){webix.ajax.count++;if(c&&i)for(var a=400<=d.status||!d.status&&!d.responseText,b=d.responseText||"",e=i.pm(d),f=0;f<c.length;f++)if(c[f]){var g=c[f].success||c[f];a&&(g=c[f].error);g&&g.call(i.master||i,b,e,d)}i&&(i.master=null);c=i=null}};d.send(b||null);return d},pm:function(a){return{xml:function(){return webix.DataDriver.xml.tagToObject(webix.DataDriver.xml.toObject(a.responseText,
this))},rawxml:function(){return a.responseText},text:function(){return a.responseXML},json:function(){try{eval("webix.temp = "+a.responseText);var b=webix.temp;webix.temp=null;return b}catch(c){}}}},get:function(a,b,c){if(2==arguments.length&&(a.success||a.error))c=b,b=null;this.request="GET";return this.sc(a,b,c)},post:function(a,b,c){this.request="POST";return this.sc(a,b,c)},put:function(a,b,c){this.request="PUT";return this.sc(a,b,c)},del:function(a,b,c){this.request="DELETE";return this.sc(a,
b,c)},sync:function(){this.tq=!0;return this},header:function(a){this.M=a;return this},bind:function(a){this.master=a;return this}};webix.send=function(a,b,c,d){a=webix.html.create("FORM",{target:d||"_self",action:a,method:c||"POST"},"");for(var e in b)c=webix.html.create("INPUT",{type:"hidden",name:e,value:b[e]},""),a.appendChild(c);a.style.display="none";document.body.appendChild(a);a.submit();document.body.removeChild(a)};
webix.AtomDataLoader={$init:function(a){this.data={};a&&(this.h.datatype=a.datatype||"json",this.$ready.push(this.Eo))},Eo:function(){this.Dj=!0;this.h.url&&this.url_setter(this.h.url);this.h.data&&this.data_setter(this.h.data)},url_setter:function(a){if(!this.Dj)return a;this.load(a,this.h.datatype);return a},data_setter:function(a){if(!this.Dj)return a;this.parse(a,this.h.datatype);return!0},load:function(a,b,c){if(a.$proxy&&a.load)a.load(this,"string"==typeof b?c:b);else return this.callEvent("onXLS",
[]),"string"==typeof b?(this.data.driver=webix.DataDriver[b],b=c):this.data.driver||(this.data.driver=webix.DataDriver.json),c=[{success:this.ce,error:this.Wc}],b&&(webix.isArray(b)?c.push.apply(c,b):c.push(b)),webix.ajax(a,c,this)},parse:function(a,b){this.callEvent("onXLS",[]);this.data.driver=webix.DataDriver[b||"json"];this.ce(a,null)},ce:function(a,b,c){var d=this.data.driver,e=d.toObject(a,b);e?(b=d.getRecords(e)[0],this.data=d?d.getDetails(b):a):this.Wc(a,b,c);this.callEvent("onXLE",[])},Wc:function(a,
b,c){this.callEvent("onXLE",[]);this.callEvent("onLoadError",arguments);webix.callEvent("onLoadError",[a,b,c,this])},oh:function(a){if(!this.h.dataFeed||this.Di||!a)return!0;var b=this.h.dataFeed;if("function"==typeof b)return b.call(this,a.id||a,a);b=b+(-1==b.indexOf("?")?"?":"&")+"action=get&id="+encodeURIComponent(a.id||a);this.callEvent("onXLS",[]);webix.ajax(b,function(a,b,e){this.Di=!0;var f=webix.DataDriver.toObject(a,b);f?this.setValues(f.getDetails(f.getRecords()[0])):this.Wc(a,b,e);this.Di=
!1;this.callEvent("onXLE",[])},this);return!1}};webix.DataDriver={};
webix.DataDriver.json={toObject:function(a){a||(a="[]");if("string"==typeof a)try{eval("webix.temp="+a),a=webix.temp}catch(b){return null}if(a.data){var c=a.data.config={},d;for(d in a)"data"!=d&&(c[d]=a[d]);a=a.data}return a},getRecords:function(a){return a&&!webix.isArray(a)?[a]:a},getDetails:function(a){return"string"==typeof a?{id:webix.uid(),value:a}:a},getInfo:function(a){a=a.config;return!a?{}:{Fb:a.total_count||0,Ya:a.pos||0,vj:a.parent||0,Ue:a.config,Rc:a.webix_security}},child:"data"};
webix.DataDriver.html={toObject:function(a){if("string"==typeof a){var b=null;-1==a.indexOf("<")&&(b=webix.toNode(a));b||(b=document.createElement("DIV"),b.innerHTML=a);return b.getElementsByTagName(this.tag)}return a},getRecords:function(a){for(var b=[],c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];1==d.nodeType&&b.push(d)}return b},getDetails:function(a){return webix.DataDriver.xml.tagToObject(a)},getInfo:function(a){return{Fb:0,Ya:0}},tag:"LI"};
webix.DataDriver.jsarray={toObject:function(a){return"string"==typeof a?(eval("webix.temp="+a),webix.temp):a},getRecords:function(a){return a},getDetails:function(a){for(var b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(a){return{Fb:0,Ya:0}}};
webix.DataDriver.csv={toObject:function(a){return a},getRecords:function(a){return a.split(this.row)},getDetails:function(a){a=this.stringToArray(a);for(var b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(a){return{Fb:0,Ya:0}},stringToArray:function(a){a=a.split(this.cell);for(var b=0;b<a.length;b++)a[b]=a[b].replace(/^[ \t\n\r]*(\"|)/g,"").replace(/(\"|)[ \t\n\r]*$/g,"");return a},row:"\n",cell:","};
webix.DataDriver.xml={Oi:function(a){return!a||!a.documentElement||a.getElementsByTagName("parsererror").length?null:a},toObject:function(a,b){var c=b?b.rawxml():null;if(this.Oi(c))return c;c="string"==typeof a?this.fromString(a.replace(/^[\s]+/,"")):a;return this.Oi(c)?c:null},getRecords:function(a){return this.xpath(a,this.records)},records:"/*/item",child:"item",config:"/*/config",getDetails:function(a){return this.tagToObject(a,{})},getInfo:function(a){var b=this.xpath(a,this.config),b=b.length?
this.assignTypes(this.tagToObject(b[0],{})):null;return{Fb:a.documentElement.getAttribute("total_count")||0,Ya:a.documentElement.getAttribute("pos")||0,vj:a.documentElement.getAttribute("parent")||0,Ue:b,Rc:a.documentElement.getAttribute("webix_security")||null}},xpath:function(a,b){if(window.XPathResult){var c=a;-1==a.nodeName.indexOf("document")&&(a=a.ownerDocument);for(var d=[],c=a.evaluate(b,c,null,XPathResult.ANY_TYPE,null),e=c.iterateNext();e;)d.push(e),e=c.iterateNext();return d}d=!0;try{"undefined"==
typeof a.selectNodes&&(d=!1)}catch(f){}if(d)return a.selectNodes(b);d=b.split("/").pop();return a.getElementsByTagName(d)},assignTypes:function(a){for(var b in a){var c=a[b];"object"==typeof c?this.assignTypes(c):"string"==typeof c&&""!==c&&("true"==c?a[b]=!0:"false"==c?a[b]=!1:c==1*c&&(a[b]*=1))}return a},tagToObject:function(a,b){b=b||{};var c=!1,d=a.attributes;if(d&&d.length){for(var e=0;e<d.length;e++)b[d[e].name]=d[e].value;c=!0}d=a.childNodes;for(e=0;e<d.length;e++)1==d[e].nodeType&&(c=d[e].tagName,
"undefined"!=typeof b[c]?(webix.isArray(b[c])||(b[c]=[b[c]]),b[c].push(this.tagToObject(d[e],{}))):b[d[e].tagName]=this.tagToObject(d[e],{}),c=!0);if(!c)return this.nodeValue(a);b.value=b.value||this.nodeValue(a);return b},nodeValue:function(a){return a.firstChild?a.firstChild.data:""},fromString:function(a){try{if(window.DOMParser)return(new DOMParser).parseFromString(a,"text/xml");if(window.ActiveXObject){var b=new ActiveXObject("Microsoft.xmlDOM");b.loadXML(a);return b}}catch(c){return null}}};
webix.DataLoader=webix.proto({$init:function(a){this.Ac=webix.toArray();this.data=new webix.DataStore;this.data.attachEvent("onClearAll",webix.bind(this.Kl,this));this.data.attachEvent("onServerConfig",webix.bind(this.Jl,this));this.data.feed=this.$m},$m:function(a,b,c){if(this.Tc)return this.Tc=[a,b,c];this.Tc=!0;this.Zh=[a,b];this.Yh.call(this,a,b,c)},Yh:function(a,b,c){var d=this.data.url;0>a&&(a=0);this.load(d+(-1==d.indexOf("?")?"?":"&")+(this.dataCount()?"continue=true&":"")+"start="+a+"&count="+
b,[this.Xh,c])},Xh:function(){var a=this.Tc,b=this.Zh;this.Tc=!1;"object"==typeof a&&(a[0]!=b[0]||a[1]!=b[1])&&this.data.feed.apply(this,a)},load:function(a,b){var c=webix.AtomDataLoader.load.apply(this,arguments);this.Ac.push(c);this.data.url||(this.data.url=a)},loadNext:function(a,b,c,d,e){this.h.datathrottle&&!e?(this.Sk&&window.clearTimeout(this.Sk),this.Sk=webix.delay(function(){this.loadNext(a,b,c,d,!0)},this,0,this.h.datathrottle)):(!b&&0!==b&&(b=this.dataCount()),this.data.url=this.data.url||
d,this.callEvent("onDataRequest",[b,a,c,d])&&this.data.url&&this.data.feed.call(this,b,a,c))},aj:function(a,b){var c=this.Zh;return this.Tc&&c&&c[0]<=b&&c[1]+c[0]>=a+b?!0:!1},ce:function(a,b,c){this.Ac.remove(c);var d=this.data.driver.toObject(a,b);if(d)this.data.gp(d);else return this.Wc(a,b,c);this.Nl();this.callEvent("onXLE",[])},removeMissed_setter:function(a){return this.data.Ap=a},ko:function(){webix.dp({master:this,url:this.h.save})},save_setter:function(a){a&&this.$ready.push(this.ko);return a},
scheme_setter:function(a){this.data.scheme(a)},dataFeed_setter:function(a){this.data.attachEvent("onBeforeFilter",webix.bind(function(a,c){if(this.h.dataFeed){var d={};if(a||c){if("function"==typeof a){if(!c)return;a(c,d)}else c&&"object"==typeof c&&(c=c.id),d[a||"id"]=c;this.clearAll();var e=this.h.dataFeed,f=[];if("function"==typeof e)return e.call(this,c,d);for(var g in d)f.push("filter["+g+"]="+encodeURIComponent(d[g]));this.load(e+(0>e.indexOf("?")?"?":"&")+f.join("&"),this.h.datatype);return!1}}},
this));return a},Nl:function(){if(this.h.ready&&!this.vp){var a=webix.toFunctor(this.h.ready);a&&webix.delay(a,this,arguments);this.vp=!0}},Kl:function(){for(var a=0;a<this.Ac.length;a++)this.Ac[a].abort();this.Ac=webix.toArray()},Jl:function(a){this.ag(a)}},webix.AtomDataLoader);webix.DataStore=function(){this.name="DataStore";webix.extend(this,webix.EventSystem);this.setDriver("json");this.pull={};this.order=webix.toArray();this.S={}};
webix.DataStore.prototype={setDriver:function(a){this.driver=webix.DataDriver[a]},gp:function(a,b){this.callEvent("onParse",[this.driver,a]);this.H&&this.filter();var c=this.driver.getInfo(a);c.Rc&&(webix.securityKey=c.Rc);c.Ue&&this.callEvent("onServerConfig",[c.Ue]);var d=this.driver.getRecords(a);this.Ni(c,d);this.bk&&this.wf&&this.wf(this.bk);this.ck&&(this.blockEvent(),this.sort(this.ck),this.unblockEvent());this.callEvent("onStoreLoad",[this.driver,a]);this.refresh()},Ni:function(a,b){var c=
1*(a.Ya||0),d=!0,e=!1;if(0===c&&this.order[0]){if(this.Ap)for(var e={},f=0;f<this.order.length;f++)e[this.order[f]]=!0;d=!1;c=this.order.length}for(var g=0,f=0;f<b.length;f++){var h=this.driver.getDetails(b[f]),i=this.id(h);this.pull[i]?d&&this.order[g+c]&&g++:(this.order[g+c]=i,g++);this.pull[i]?(webix.extend(this.pull[i],h,!0),this.pe&&this.pe(this.pull[i]),e&&delete e[i]):(this.pull[i]=h,this.Pa&&this.Pa(h))}if(e){this.blockEvent();for(var j in e)this.remove(j);this.unblockEvent()}this.order[a.Fb-
1]||(this.order[a.Fb-1]=webix.undefined)},id:function(a){return a.id||(a.id=webix.uid())},changeId:function(a,b){this.pull[a]&&(this.pull[b]=this.pull[a]);this.pull[b].id=b;this.order[this.order.find(a)]=b;this.H&&(this.H[this.H.find(a)]=b);this.S[a]&&(this.S[b]=this.S[a],delete this.S[a]);this.callEvent("onIdChange",[a,b]);this.og&&this.og(a,b);delete this.pull[a]},item:function(a){return this.pull[a]},update:function(a,b){webix.isUndefined(b)&&(b=this.item(a));this.pe&&this.pe(b);if(!1===this.callEvent("onBeforeUpdate",
[a,b]))return!1;this.pull[a]=b;this.callEvent("onStoreUpdated",[a,b,"update"])},refresh:function(a){this.we||(a?this.exists(a)&&this.callEvent("onStoreUpdated",[a,this.pull[a],"paint"]):this.callEvent("onStoreUpdated",[null,null,null]))},silent:function(a,b){this.we=!0;a.call(b||this);this.we=!1},getRange:function(a,b){a=a?this.indexById(a):this.$min||this.startOffset||0;b?b=this.indexById(b):(b=0===this.$max?0:Math.min(this.$max||this.endOffset||Infinity,this.dataCount()-1),0>b&&(b=0));if(a>b){var c=
b;b=a;a=c}return this.getIndexRange(a,b)},getIndexRange:function(a,b){b=Math.min(0===b?0:b||Infinity,this.dataCount()-1);for(var c=webix.toArray(),d=a||0;d<=b;d++)c.push(this.item(this.order[d]));return c},dataCount:function(){return this.order.length},exists:function(a){return!!this.pull[a]},move:function(a,b){if(a!=b){var c=this.idByIndex(a),d=this.item(c);this.H&&this.jj(this.H,0,0,this.idByIndex(a),this.idByIndex(b));this.jj(this.order,a,b);this.callEvent("onStoreUpdated",[c,d,"move"])}},jj:function(a,
b,c,d,e){if(d||e){b=c=-1;for(var f=0;f<a.length;f++)a[f]==d&&0>b&&(b=f),a[f]==e&&0>c&&(c=f)}d=a[b];a.removeAt(b);a.insertAt(d,Math.min(a.length,c))},scheme:function(a){this.oe={};this.Pa=a.$init||a.$change;this.pe=a.$update||a.$change;this.xb=a.$serialize;this.bk=a.$group;this.ck=a.$sort;for(var b in a)"$"!=b.substr(0,1)&&(this.oe[b]=a[b])},sync:function(a,b,c){"string"==typeof a&&(a=$$("source"));"function"!=typeof b&&(c=b,b=null);this.Me=!1;"DataStore"!=a.name&&(a.data&&"DataStore"==a.data.name?
a=a.data:this.Me=!0);var d=webix.bind(function(d,f,g){if(!this.Bk){if(this.Me){if(!d)return;if(0===d.indexOf("change")){"change"==d&&(this.pull[f.id]=f.attributes,this.refresh(f.id));return}"reset"==d&&(g=f);this.order=[];this.pull={};this.H=null;for(d=0;d<g.models.length;d++)f=g.models[d].id,this.order.push(f),this.pull[f]=g.models[d].attributes}else this.H=null,this.order=webix.toArray([].concat(a.order)),this.pull=a.pull;b&&this.silent(b);this.qj&&this.qj();this.callEvent("onSyncApply",[]);c?c=
!1:this.refresh()}},this);this.Me?a.bind("all",d):this.Pk=[a.attachEvent("onStoreUpdated",d),a.attachEvent("onIdChange",webix.bind(function(a,b){this.changeId(a,b);this.refresh(b)},this))];this.attachEvent("onStoreUpdated",function(b,c,d){"update"==d&&(this.Bk=1,a.update(b,c),this.Bk=0)});d()},add:function(a,b,c){if(this.oe)for(var d in this.oe)webix.isUndefined(a[d])&&(a[d]=this.oe[d]);this.Pa&&this.Pa(a);d=this.id(a);c=c||this.order;var e=c.length;if(webix.isUndefined(b)||0>b)b=e;b>e&&(b=Math.min(c.length,
b));if(!1===this.callEvent("onBeforeAdd",[d,a,b]))return!1;this.pull[d]=a;c.insertAt(d,b);this.H&&(c=this.H.length,!b&&this.order.length&&(c=0),this.H.insertAt(d,c));this.callEvent("onAfterAdd",[d,b]);this.callEvent("onStoreUpdated",[d,a,"add"]);return d},remove:function(a){if(webix.isArray(a))for(var b=0;b<a.length;b++)this.remove(a[b]);else{if(!1===this.callEvent("onBeforeDelete",[a]))return!1;b=this.item(a);this.order.remove(a);this.H&&this.H.remove(a);delete this.pull[a];this.S[a]&&delete this.S[a];
this.callEvent("onAfterDelete",[a]);this.callEvent("onStoreUpdated",[a,b,"delete"])}},clearAll:function(){this.pull={};this.order=webix.toArray();this.H=this.url=null;this.callEvent("onClearAll",[]);this.refresh()},idByIndex:function(a){return this.order[a]},indexById:function(a){return a=this.order.find(a)},next:function(a,b){return this.order[this.indexById(a)+(b||1)]},first:function(){return this.order[0]},last:function(){return this.order[this.order.length-1]},previous:function(a,b){return this.order[this.indexById(a)-
(b||1)]},sort:function(a,b,c){var d=a;"function"==typeof a?d={as:a,dir:b}:"string"==typeof a&&(d={by:a.replace(/#/g,""),dir:b,as:c});a=[d.by,d.dir,d.as];this.callEvent("onBeforeSort",a)&&(this.Ck(d),this.refresh(),this.callEvent("onAfterSort",a))},Ck:function(a){if(this.order.length){a=this.jd.vh(a);var b=this.getRange(this.first(),this.last());b.sort(a);this.order=b.map(function(a){return this.id(a)},this)}},bi:function(a){this.H&&!a&&(this.order=this.H,delete this.H)},ai:function(a,b,c){for(var d=
webix.toArray(),e=0;e<this.order.length;e++){var f=this.order[e];a(this.item(f),b)&&d.push(f)}if(!c||!this.H)this.H=this.order;this.order=d},filter:function(a,b,c){if(this.callEvent("onBeforeFilter",[a,b])&&(this.bi(c),this.order.length)){if(a){var d=a;b=b||"";"string"==typeof a&&(a=a.replace(/#/g,""),"function"==typeof b?d=function(c){return b(c[a])}:(b=b.toString().toLowerCase(),d=function(b,c){return-1!=(b[a]||"").toString().toLowerCase().indexOf(c)}));this.ai(d,b,c,this.kf)}this.refresh();this.callEvent("onAfterFilter",
[])}},each:function(a,b){for(var c=0;c<this.order.length;c++)a.call(b||this,this.item(this.order[c]))},bj:function(a,b){return function(){return a[b].apply(a,arguments)}},addMark:function(a,b,c,d,e){e=this.S[a]||{};this.S[a]=e;e[b]||(e[b]=d||!0,c&&(d=e.$css||"",e.$css=d+" "+b,-1!==c&&this.refresh(a)));return e[b]},removeMark:function(a,b,c,d){if(d=this.S[a])if(d[b]&&delete d[b],c){var e=d.$css;e&&(d.$css=e.replace(b,"").replace("  "," "),-1!==c&&this.refresh(a))}},getMark:function(a,b){var c=this.S[a];
return c?c[b]:!1},clearMark:function(a,b){for(var c in this.S){var d=this.S[c];d[a]&&(delete d[a],b&&(d.$css&&(d.$css=d.$css.replace(a,"").replace("  "," ")),this.refresh(c)))}},provideApi:function(a,b){b&&this.mapEvent({onbeforesort:a,onaftersort:a,onbeforeadd:a,onafteradd:a,onbeforedelete:a,onafterdelete:a,onbeforeupdate:a});for(var c="sort add remove exists idByIndex indexById item update refresh dataCount filter next previous clearAll first last serialize sync addMark removeMark getMark".split(" "),
d=0;d<c.length;d++)a[c[d]]=this.bj(this,c[d])},serialize:function(a){var b=this.order;a&&this.H&&(b=this.H);a=[];for(var c=0;c<b.length;c++){var d=this.pull[b[c]];if(this.xb&&(d=this.xb(d),!1===d))continue;a.push(d)}return a},jd:{vh:function(a){return this.ym(a.dir,this.Hl(a.by,a.as))},wl:{date:function(a,b){a-=0;b-=0;return a>b?1:a<b?-1:0},"int":function(a,b){a*=1;b*=1;return a>b?1:a<b?-1:0},string_strict:function(a,b){a=a.toString();b=b.toString();return a>b?1:a<b?-1:0},string:function(a,b){if(!b)return 1;
if(!a)return-1;a=a.toString().toLowerCase();b=b.toString().toLowerCase();return a>b?1:a<b?-1:0}},Hl:function(a,b){if(!a)return b;"function"!=typeof b&&(b=this.wl[b||"string"]);return function(c,d){return b(c[a],d[a])}},ym:function(a,b){return"asc"==a||!a?b:function(a,d){return-1*b(a,d)}}}};
webix.BaseBind={bind:function(a,b,c){"string"==typeof a&&(a=webix.ui.get(a));a.Df&&a.Df();this.Df&&this.Df();a.getBindData||webix.extend(a,webix.BindSource);if(!this.zl){var d=this.render;if(this.filter){var e=this.h.id;this.data.qj=function(){a.Kb[e]=!1}}this.render=function(){if(!this.Fi){this.Fi=!0;var a=this.callEvent("onBindRequest");this.Fi=!1;return d.apply(this,!1===a?arguments:[])}};if(this.getValue||this.getValues)this.save=function(){if(this.validate&&!this.validate())return!1;a.setBindData(this.getValue?
this.getValue:this.getValues(),this.h.id);this.setDirty&&this.setDirty(!1)};this.zl=!0}a.addBind(this.h.id,b,c);var f=this.h.id;this.attachEvent(this.touchable?"onAfterRender":"onBindRequest",function(){return a.getBindData(f)});!this.h.dataFeed&&this.loadNext&&this.data.attachEvent("onStoreLoad",function(){a.Kb[f]=!1});this.isVisible(this.h.id)&&this.refresh()},pr:function(a){a.removeBind(this.h.id);var b=this.Pk||(this.data?this.data.Pk:0);if(b&&a.data)for(var c=0;c<b.length;c++)a.data.detachEvent(b[c])}};
webix.BindSource={$init:function(){this.Bc={};this.Kb={};this.Td={};this.Al(this)},saveBatch:function(a){this.Kh=!0;a.call(this);this.Kh=!1;this.md()},setBindData:function(a,b){b&&(this.Td[b]=!0);if(this.setValue)this.setValue(a);else if(this.setValues)this.setValues(a);else{var c=this.getCursor();c&&(a=webix.extend(this.item(c),a,!0),this.update(c,a))}this.callEvent("onBindUpdate",[a,b]);this.save&&this.save();b&&(this.Td[b]=!1)},getBindData:function(a,b){if(this.Kb[a])return!1;var c=webix.ui.get(a);
c.isVisible(c.h.id)&&(this.Kb[a]=!0,this.Ne(c,this.Bc[a][0],this.Bc[a][1]),b&&c.filter&&c.refresh())},addBind:function(a,b,c){this.Bc[a]=[b,c]},removeBind:function(a){delete this.Bc[a];delete this.Kb[a];delete this.Td[a]},Al:function(a){a.filter?webix.extend(this,webix.CollectionBind):a.setValue?webix.extend(this,webix.ValueBind):webix.extend(this,webix.RecordBind)},md:function(){if(!this.Kh)for(var a in this.Bc)this.Td[a]||(this.Kb[a]=!1,this.getBindData(a,!0))},fh:function(a,b,c){a.setValue?a.setValue(c?
c[b]:c):a.filter?a.data.silent(function(){this.filter(b,c)}):!c&&a.clear?a.clear():a.oh(c)&&a.setValues(webix.clone(c));a.callEvent("onBindApply",[c,b,this])}};
webix.DataValue=webix.proto({name:"DataValue",isVisible:function(){return!0},$init:function(a){if(!a||webix.isUndefined(a.value))this.data=a||"";a=a&&a.id?a.id:webix.uid();this.h={id:a};webix.ui.views[a]=this},setValue:function(a){this.data=a;this.callEvent("onChange",[a])},getValue:function(){return this.data},refresh:function(){this.callEvent("onBindRequest")}},webix.EventSystem,webix.BaseBind);
webix.DataRecord=webix.proto({name:"DataRecord",isVisible:function(){return!0},$init:function(a){this.data=a||{};a=a&&a.id?a.id:webix.uid();this.h={id:a};webix.ui.views[a]=this},getValues:function(){return this.data},setValues:function(a){this.data=a;this.callEvent("onChange",[a])},refresh:function(){this.callEvent("onBindRequest")}},webix.EventSystem,webix.BaseBind,webix.AtomDataLoader,webix.Settings);
webix.DataCollection=webix.proto({name:"DataCollection",isVisible:function(){return!this.data.order.length&&!this.data.H&&!this.h.dataFeed?!1:!0},$init:function(a){this.data.provideApi(this,!0);a=a&&a.id?a.id:webix.uid();this.h.id=a;webix.ui.views[a]=this;this.data.attachEvent("onStoreLoad",webix.bind(function(){this.callEvent("onBindRequest",[])},this))},refresh:function(){this.callEvent("onBindRequest",[])}},webix.DataLoader,webix.EventSystem,webix.BaseBind,webix.Settings);
webix.ValueBind={$init:function(){this.attachEvent("onChange",this.md)},Ne:function(a,b,c){var d=this.getValue()||"";c&&(d=c(d));a.setValue?a.setValue(d):a.filter?a.data.silent(function(){this.filter(b,d)}):(c={},c[b]=d,a.oh(d)&&a.setValues(c));a.callEvent("onBindApply",[d,b,this])}};webix.RecordBind={$init:function(){this.attachEvent("onChange",this.md)},Ne:function(a,b){var c=this.getValues()||null;this.fh(a,b,c)}};
webix.CollectionBind={$init:function(){this.jb=null;this.attachEvent("onSelectChange",function(a){a=this.getSelected();this.setCursor(a?a.id||a:null)});this.attachEvent("onAfterCursorChange",this.md);this.data.attachEvent("onStoreUpdated",webix.bind(function(a,b,c){a&&(a==this.getCursor()&&"paint"!=c)&&this.md()},this));this.data.attachEvent("onClearAll",webix.bind(function(){this.jb=null},this));this.data.attachEvent("onIdChange",webix.bind(function(a,b){this.jb==a&&(this.jb=b)},this))},setCursor:function(a){a==
this.jb||null!==a&&!this.item(a)||(this.callEvent("onBeforeCursorChange",[this.jb]),this.jb=a,this.callEvent("onAfterCursorChange",[a]))},getCursor:function(){return this.jb},Ne:function(a,b){var c=this.item(this.getCursor())||this.h.defaultData||null;this.fh(a,b,c)}};
webix.DragControl={na:webix.toArray(["dummy"]),addDrop:function(a,b,c){a=webix.toNode(a);a.webix_drop=this.li(b);c&&(a.webix_master=!0)},li:function(a){a=a||webix.DragControl;var b=this.na.find(a);0>b&&(b=this.na.length,this.na.push(a));return b},addDrag:function(a,b){a=webix.toNode(a);a.webix_drag=this.li(b);webix.event(a,"mousedown",this.mp,a);webix.event(a,"dragstart",webix.html.preventEvent)},mp:function(a){webix.DragControl.qa&&(webix.DragControl.fg(),webix.DragControl.destroyDrag());webix.DragControl.qa=
this;webix.DragControl.Fk={x:a.pageX,y:a.pageY};webix.DragControl.ak=a;webix.DragControl.nd=webix.event(document.body,"mousemove",webix.DragControl.lq);webix.DragControl.od=webix.event(document.body,"mouseup",webix.DragControl.fg);return webix.html.preventEvent(a)},fg:function(a){webix.DragControl.nd=webix.eventRemove(webix.DragControl.nd);webix.DragControl.od=webix.eventRemove(webix.DragControl.od)},lq:function(a){var b={x:a.pageX,y:a.pageY};5>Math.abs(b.x-webix.DragControl.Fk.x)&&5>Math.abs(b.y-
webix.DragControl.Fk.y)||(webix.DragControl.fg(),webix.DragControl.createDrag(webix.DragControl.ak)&&(webix.DragControl.sendSignal("start"),webix.DragControl.nd=webix.event(document.body,"mousemove",webix.DragControl.ij),webix.DragControl.od=webix.event(document.body,"mouseup",webix.DragControl.nq),webix.DragControl.ij(a)))},nq:function(a){webix.DragControl.nd=webix.eventRemove(webix.DragControl.nd);webix.DragControl.od=webix.eventRemove(webix.DragControl.od);webix.DragControl.ak=null;webix.DragControl.ba&&
(webix.DragControl.$drop(webix.DragControl.qa,webix.DragControl.ba,this.Sc,a),webix.DragControl.$dragOut(webix.DragControl.qa,webix.DragControl.ba,null,a));webix.DragControl.destroyDrag();webix.DragControl.sendSignal("stop")},ij:function(a){var b=webix.html.pos(a);webix.DragControl.$dragPos(b,a);webix.DragControl.V.style.top=b.y+webix.DragControl.top+"px";webix.DragControl.V.style.left=b.x+webix.DragControl.left+"px";webix.DragControl.ve?webix.DragControl.ve=!1:webix.DragControl.Ql(a.srcElement||
a.target,a);a.cancelBubble=!0;return!1},Ql:function(a,b){for(;a&&"BODY"!=a.tagName;){if(a.webix_drop){this.ba&&(this.ba!=a||a.webix_master)&&this.$dragOut(this.qa,this.ba,a,b);if(!this.ba||this.ba!=a||a.webix_master)if(this.ba=null,this.Sc=this.$dragIn(webix.DragControl.qa,a,b))this.ba=a;return}a=a.parentNode}this.ba&&(this.ba=this.Sc=this.$dragOut(this.qa,this.ba,null,b))},sendSignal:function(a){webix.DragControl.active="start"==a},getMaster:function(a){return this.na[a.webix_drag||a.webix_drop]},
getContext:function(){return this.ta},getNode:function(){return this.V},createDrag:function(a){var b=webix.DragControl.qa;webix.DragControl.ta={};var c=this.na[b.webix_drag];if(c.$dragCreate){a=c.$dragCreate(b,a);if(!a)return!1;a.style.position="absolute"}else{c=webix.DragControl.$drag(b,a);if(!c)return!1;a=document.createElement("DIV");a.innerHTML=c;a.className="webix_drag_zone";document.body.appendChild(a)}a.style.zIndex=Math.max(a.style.zIndex,webix.ui.zIndex());a.onmousemove=webix.DragControl.iq;
webix.DragControl.ta.from||(webix.DragControl.ta={source:b,from:b});webix.DragControl.V=a;return!0},iq:function(){webix.DragControl.ve=!0},destroyDrag:function(){var a=webix.DragControl.qa,b=this.na[a.webix_drag];b&&b.$dragDestroy?b.$dragDestroy(a,webix.DragControl.V):webix.html.remove(webix.DragControl.V);webix.DragControl.Sc=webix.DragControl.qa=webix.DragControl.ba=webix.DragControl.V=null},top:5,left:5,$dragPos:function(a,b){var c=this.na[webix.DragControl.qa.webix_drag];c.$dragPos&&c.$dragPos(a,
b,webix.DragControl.V)},$dragIn:function(a,b,c){var d=this.na[b.webix_drop];if(d.$dragIn&&d!=this)return d.$dragIn(a,b,c);b.className+=" webix_drop_zone";return b},$dragOut:function(a,b,c,d){var e=this.na[b.webix_drop];if(e.$dragOut&&e!=this)return e.$dragOut(a,b,c,d);b.className=b.className.replace("webix_drop_zone","");return null},$drop:function(a,b,c,d){c=this.na[b.webix_drop];webix.DragControl.ta.from=webix.DragControl.getMaster(a);if(c.$drop&&c!=this)return c.$drop(a,b,d);b.appendChild(a)},
$drag:function(a,b){var c=this.na[a.webix_drag];return c.$drag&&c!=this?c.$drag(a,b):"<div style='"+a.style.cssText+"'>"+a.innerHTML+"</div>"}};
webix.DataMove={copy:function(a,b,c,d){d=d||{};d=d.newId||a;c=c||this;a=this.item(a);c&&(a=c.Tb(a));return c.data.add(c.Tb(a,d),b)},Xf:function(a,b,c){if(b&&a)return a=this.indexById(a),a+(c==this&&c.indexById(b)<a?0:1)},move:function(a,b,c,d){d=d||{};var e=d.newId||a;c=c||this;if(c.data)if(webix.isArray(a)){3<a.length&&(this.$blockRender=c.$blockRender=!0);for(e=0;e<a.length;e++){var f=this.move(a[e],b,c,d);b=c.Xf(f,a[e+1],this)}this.$blockRender=c.$blockRender=!1;3<a.length&&(this.refresh(),c!=
this&&c.refresh())}else if(f=a,!(0>b)){var g=this.item(a);!c||c==this?this.data.move(this.indexById(a),b):(f=c.data.add(c.Tb(g,e),b,d.parent||0),this.data.remove(a));return f}},moveUp:function(a,b){return this.move(a,this.indexById(a)-(b||1))},moveDown:function(a,b){return this.moveUp(a,-1*(b||1))},moveTop:function(a){return this.move(a,0)},moveBottom:function(a){return this.move(a,this.data.dataCount()-1)},Tb:function(a,b){var c=webix.extend({},a);c.id=!b||this.data.pull[b]?webix.uid():b;c.$template=
null;this.h.externalData&&(c=this.h.externalData.call(this,c,b));return c}};
webix.Movable={move_setter:function(a){a&&(this.ae=webix.clone(this.ae),this.ae.master=this,webix.DragControl.addDrag(this.U,this.ae))},ae:{$dragCreate:function(a,b){var c=webix.html.offset(a),d=webix.html.pos(b);webix.DragControl.top=c.y-d.y;webix.DragControl.left=c.x-d.x;return webix.toNode(this.master.i)},$dragDestroy:function(a,b){var c=this.master;c.h&&(c.h.top=parseInt(b.style.top,10),c.h.left=parseInt(b.style.left,10));webix.DragControl.top=webix.DragControl.left=5}}};
webix.Scrollable={$init:function(a){if(a&&!a.scroll&&this.$o)return this.l=this.l||this.m;(this.l||this.m).appendChild(webix.html.create("DIV",{"class":"webix_scroll_cont"},""));this.l=(this.l||this.m).firstChild},scroll_setter:function(a){if(!a)return!1;a="x"==a?"x":"xy"==a?"xy":"y";if(webix.Touch&&webix.Touch.$active)this.l.setAttribute("touch_scroll",a),this.attachEvent&&this.attachEvent("onAfterRender",webix.bind(this.wp,this)),this.Jq=!0;else if(webix.env.$customScroll)webix.CustomScroll.enable(this,
a);else{var b=this.l.parentNode.style;-1!=a.indexOf("x")&&(this.pc=!0,b.overflowX="scroll");-1!=a.indexOf("y")&&(this.qc=!0,b.overflowY="scroll")}return a},sj:function(a){if(!!this.h.scroll!=!!a){var b=this.l.parentNode.style;b.overflowX=b.overflowY=a?"auto":"hidden";this.pc=this.qc=!!a}},scrollState:function(){if(webix.Touch&&webix.Touch.$active){var a=webix.Touch.Vb(this.l);return{x:-a.e,y:-a.f}}return{x:this.l.parentNode.scrollLeft,y:this.l.parentNode.scrollTop}},scrollTo:function(a,b){webix.Touch&&
webix.Touch.$active?(b=Math.max(0,Math.min(b,this.l.offsetHeight-this.q)),a=Math.max(0,Math.min(a,this.l.offsetWidth-this.p)),webix.Touch.F(this.l,-a,-b,this.h.scrollSpeed||"100ms")):(this.l.parentNode.scrollLeft=a,this.l.parentNode.scrollTop=b)},wp:function(){-1!=this.h.scroll.indexOf("x")&&(this.l.style.width=this.p+"px",this.l.style.width=this.l.scrollWidth+"px");webix.Touch&&(webix.Touch.$active&&this.Jq)&&(webix.Touch.zd(),webix.Touch.oc(),webix.Touch.F(this.l,0,0,0))}};
webix.AtomRender={ha:function(a){return a.$empty?"":this.h.template(a,this)},render:function(){if(this.isVisible(this.h.id)){if(!this.callEvent||this.callEvent("onBeforeRender",[this.data]))this.data&&!this.h.content&&(this.l.innerHTML=this.ha(this.data)),this.callEvent&&this.callEvent("onAfterRender",[]);return!0}return!1},sync:function(a){this.bh=!1;"DataStore"!=a.name&&(a.data&&"DataStore"==a.name?a=a.data:this.bh=!0);this.bh?a.bind("change",webix.bind(function(a){a.id==this.data.id&&(this.data=
a.attributes,this.refresh())},this)):a.attachEvent("onStoreUpdated",webix.bind(function(b){if(!b||b==this.data.id)this.data=a.pull[b],this.refresh()},this))},template_setter:webix.Template};webix.SingleRender=webix.proto({template_setter:function(a){this.type.template=webix.Template(a)},ha:function(a){var b=this.type;return(b.templateStart?b.templateStart(a,b):"")+b.template(a,b)+(b.templateEnd?b.templateEnd(a,b):"")},customize:function(a){webix.Type(this,a)}},webix.AtomRender).prototype;
webix.UIManager={w:null,qb:{},hi:0,gm:{enter:13,tab:9,esc:27,escape:27,up:38,down:40,left:37,right:39,pgdown:34,pagedown:34,pgup:33,pageup:33,end:35,home:36,"delete":46,backspace:8,space:32,meta:91,win:91,mac:91},Tm:function(){webix.event(document.body,"click",webix.bind(this.ln,this));webix.event(document.body,"keydown",webix.bind(this.xo,this));document.body.addEventListener&&document.body.addEventListener("focus",webix.bind(this.mn,this),!0);webix.destructors.push(this)},destructor:function(){webix.UIManager.w=
null},getFocus:function(){return this.w},kn:function(a){this.Kd=this.Kd||a.h.id},setFocus:function(a){a=webix.ui.get(a);this.hi=new Date;if(this.w===a)return!0;this.w&&this.w.callEvent&&this.w.callEvent("onBlur",[this.w]);a&&a.callEvent&&a.callEvent("onFocus",[a,this.w]);webix.callEvent("onFocusChange",[a,this.w]);this.w&&this.w.blur&&this.w.blur();(this.w=a)&&a.focus&&a.focus();return!0},hasFocus:function(a){return a===this.w?!0:!1},fi:function(a,b){var c=webix.html.locate(a,"view_id")||this.Kd,
c=webix.ui.get(c);this.Kd=null;if(c!=this.w)return b||(this.Kd=null),c?(c=webix.ui.get(c),this.canFocus(c)&&this.setFocus(c)):b||this.setFocus(null),!0},ln:function(a){return 100>new Date-this.hi?!1:this.fi(a,!0)},mn:function(a){return this.fi(a,!0)},canFocus:function(a){return a.isVisible()&&a.isEnabled()},Wf:function(a){var b=this.getFocus();if(a&&!this.ro(a,b))return!1;this.gi("getPrev",a)?this.w=null:this.setFocus(this.getPrev(a))},ro:function(a,b){if(!a||!b)return!1;for(;b;){if(b===a)return!0;
b=b.getParent()}return!1},yo:function(){this&&this.callEvent&&this.callEvent("onTimedKeyPress",[])},xo:function(a){var b=a.which,c=a.ctrlKey,d=a.shiftKey,e=a.altKey,f=a.metaKey,g=this.Mf(b,c,d,e,f);if((g=this.getFocus())&&g.callEvent)!1===g.callEvent("onKeyPress",[b,a])&&webix.html.preventEvent(a),g.hasEvent("onTimedKeyPress")&&(clearTimeout(g.vo),g.vo=webix.delay(this.yo,g,[],g.h.keyPressTimeout||250));this.tabControl&&(9===b&&!c&&!e&&!f)&&(this.gi(!d?"getNext":"getPrev"),webix.html.preventEvent(a));
g=this.Mf(String.fromCharCode(b),c,d,e,f);!1===this.Rl(g,!c&&!e&&!f&&9!=b&&27!=b&&13!=b)&&webix.html.preventEvent(a);return!1},gi:function(a){if(!this.getFocus())return null;a=a||"getNext";for(var b=this.getFocus(),c=b;;){if((b=this[a](b))&&b.h.tabFocus&&this.canFocus(b))return this.setFocus(b);if(b===c)return null}},getTop:function(a){var b;for(a=webix.ui.get(a);a&&(b=a.getParent());)a=b;return a},getNext:function(a,b){var c=a.getChildViews();if(c.length&&!b)return c[0];c=a.getParent();if(!c)return a;
var d=c.getChildViews();if(d.length)for(var e=webix.PowerArray.find.call(d,a)+1;e<d.length;){if(this.canFocus(d[e]))return d[e];e++}return this.getNext(c,!0)},getPrev:function(a,b){var c=a.getChildViews();if(c.length&&b)return this.getPrev(c[c.length-1],!0);if(b)return a;c=a.getParent();if(!c)return this.getPrev(a,!0);var d=c.getChildViews();if(d)for(var e=webix.PowerArray.find.call(d,a)-1;0<=e;){if(this.canFocus(d[e]))return this.getPrev(d[e],!0);e--}return c},addHotKey:function(a,b,c){a=this.jp(a);
c||(c=null);a.handler=b;a.view=c;b=this.Mf(a.letter,a.ctrl,a.shift,a.alt,a.meta);this.qb[b]||(this.qb[b]=[]);this.qb[b].push(a)},Mf:function(a,b,c,d,e){return a+"_"+[,b?"1":"0",c?"1":"0",d?"1":"0",e?"1":"0"].join("")},Rl:function(a,b){var c=this.getFocus();return this.qb[a]?this.Bj(this.qb[a],c):b&&this.qb.ANY_0000?this.Bj(this.qb.ANY_0000,c):!0},Bj:function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(!(null!==d.view&&b!==d.view&&("string"!==typeof d.view||!b||b.name!==d.view)))if(d=d.handler(b),
!!d===d)return d}return!0},jp:function(a){var b=this.gm;a=a.toLowerCase().split(/[\+\-_]/);var c,d,e,f;c=d=e=f=0;for(var g="",h=0;h<a.length;h++)"ctrl"===a[h]?c=1:"shift"===a[h]?d=1:"alt"===a[h]?e=1:"command"===a[h]?f=1:g=b[a[h]]?String.fromCharCode(b[a[h]]):a[h];return{letter:g.toUpperCase(),ctrl:c,shift:d,alt:e,meta:f}},getState:function(a,b){b=b||!1;a=webix.ui.get(a);var c={id:a.config.id,width:a.config.width,height:a.config.height,gravity:a.config.gravity};webix.isUndefined(a.config.collapsed)||
(c.collapsed=a.config.collapsed);if("tabs"===a.name||"tabbar"===a.name)c.activeCell=a.getValue();if(b&&(c=[c],a.j))for(var d=0;d<a.j.length;d++)c=c.concat(this.getState(a.j[d],b));return c},setState:function(a){webix.isArray(a)||(a=[a]);for(var b=0;b<a.length;b++){var c=a[b],d=webix.ui.get(c.id);d&&(webix.isUndefined(c.collapsed)||d.define("collapsed",c.collapsed),webix.isUndefined(c.activeCell)||d.setValue(c.activeCell),d.define("width",c.width),d.define("height",c.height),d.define("gravity",c.gravity))}(a=
webix.ui.get(a[0].id))&&a.resize()}};webix.ready(function(){webix.UIManager.Tm()});webix.IdSpace={$init:function(){var a=webix.Wb;this.kb={};webix.Wb=this;this.$k={};this.getTopParent=webix.bind(function(){return this},this);this.$ready.push(function(){webix.Wb=a;for(var b in this.kb)this.kb[b].mapEvent&&!this.kb[b].Id.onitemclick&&this.kb[b].mapEvent({onbeforetabclick:this,onaftertabclick:this,onitemclick:this}),this.kb[b].getTopParent=this.getTopParent})},$$:function(a){return this.kb[a]},innerId:function(a){return this.$k[a]}};
(function(){var a=[],b=webix.ui;webix.ui||(b=webix.ui=function(c,d,e){webix.Lg=!0;var f=c,f=webix.toNode(c.container||d||document.body);d=c.h||f&&f.j&&!e&&0!==e?c:b.w(c);f==document.body&&!d.setPosition&&(c.borderless=!0,webix.ui.ei());d.$apiOnly||(f.appendChild?(f.appendChild(d.i),!d.setPosition&&f==document.body&&a.push(d),c.skipResize||d.adjust()):f.dd&&(d.getParent&&d.getParent()&&d.getParent().jg(d),f.dd(d,e)));webix.Lg=!1;return d});webix.ui.xm=function(){if(webix.env.$customScroll)return 0;
var a=webix.html.create("div");a.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:100px;overflow-y:scroll;";document.body.appendChild(a);var b=a.offsetWidth-a.clientWidth;document.body.removeChild(a);return b};webix.ui.scrollSize=webix.env.touch||webix.env.$customScroll?0:17;webix.ready(function(){webix.env.touch||(webix.ui.scrollSize=webix.ui.xm())});webix.ui.bl=function(a){return a+(this.kj[a]=(this.kj[a]||0)+1)};webix.ui.kj={};webix.ui.ei=
function(){webix.html.addStyle("html, body{ height:100%; }");document.body.className+=" webix_full_screen";webix.ui.ei=function(){}};webix.ui.resize=function(){if(!webix.ui.ki)for(var b=0;b<a.length;b++)a[b].adjust()};webix.event(window,"resize",webix.ui.resize);b.cf={};b.delay=function(a){webix.ui.cf[a.id]=a};webix.ui.construct=[];webix.ui.zIndex=function(){return webix.ui.Yq++};webix.ui.Yq=100;b.w=function(){var a=webix.html.create("DIV",{"class":"webix_skin_settings"});document.body.appendChild(a);
webix.html.remove(a);b.w=b.gl;return b.w.apply(this,arguments)};b.gl=function(a){if(a.view){var d=a.view;return webix.ui.construct[d]?b.gl(webix.ui.construct[d](a)):new b[d](a)}if(a.rows||a.cols){for(var d=a.rows||a.cols,e=!1,f=0;f<d.length;f++)d[f].body&&(e=!0);return e?new b.headerlayout(a):new b.layout(a)}return a.cells?new b.multiview(a):a.template||a.content?new b.template(a):new b.spacer(a)};b.views={};b.get=function(a){if(!a)return null;if(b.views[a])return b.views[a];if(b.cf[a])return webix.ui(b.cf[a]);
var d=a;if("object"==typeof a){if(a.h)return a;d=a.target||a.srcElement||a}return b.views[webix.html.locate({target:webix.toNode(d)},"view_id")]};webix.isUndefined(window.$$)&&($$=b.get);webix.UIExtension=window.webix_UIExtension||{};webix.protoUI({name:"baseview",$init:function(a){a.id||(a.id=webix.ui.bl(this.name));this.ja=webix.ja;webix.ja=null;this.i||(this.$view=this.m=this.i=webix.html.create("DIV",{"class":"webix_view"}))},defaults:{width:0,height:0,gravity:1},getNode:function(){return this.i},
getParent:function(){return this.ja||null},getChildViews:function(){return[]},isVisible:function(a,b){if(this.h.hidden)return a&&(this.Xb||(this.Xb=[],this.yf={}),this.yf[a]||(this.yf[a]=!0,this.Xb.push(a))),!1;var e=this.getParent();return e?e.isVisible(a,this.h.id):!0},isEnabled:function(){return!this.Qb},disable:function(){this.Qb||(this.Qb=webix.html.create("div",{"class":"webix_disabled"}),window.getComputedStyle&&(this.df=window.getComputedStyle(this.i,null).getPropertyValue("position")),"absolute"!=
this.df&&(this.i.style.position="relative"),this.i.appendChild(this.Qb),webix.UIManager.Wf(this))},enable:function(){this.Qb&&(webix.html.remove(this.Qb),this.Qb=null,this.df&&(this.i.style.position=this.df))},container_setter:function(a){return!0},css_setter:function(a){"object"==typeof a&&(a=webix.html.createCss(a));this.i.className+=" "+a;return a},id_setter:function(a){if(webix.Wb&&webix.Wb!=this){var b=a;webix.Wb.kb[a]=this;a=webix.ui.bl(this.name);webix.Wb.$k[a]=b}webix.ui.views[a]=this;this.i.setAttribute("view_id",
a);return a},$setSize:function(a,b){var e=this.ac;if(e&&e[0]==a&&e[1]==b)return!1;this.ac=[a,b];this.$width=this.p=a-(this.qc?webix.ui.scrollSize:0);this.$height=this.q=b-(this.pc?webix.ui.scrollSize:0);this.i.style.width=a+"px";this.i.style.height=b+"px";return!0},$getSize:function(a,b){var e=this.h;this.qc&&(a+=webix.ui.scrollSize);this.pc&&(b+=webix.ui.scrollSize);e=[e.width||e.minWidth||0,e.width||e.maxWidth||1E5,e.height||e.minHeight||0,e.height||e.maxHeight||1E5,e.gravity];e[0]+=a;e[1]+=a;e[2]+=
b;e[3]+=b;return e},show:function(a,b,e){var f=this.getParent();if(f){!b&&this.h.animate&&f.h.animate&&(b=webix.extend(f.h.animate?webix.extend({},f.h.animate):{},this.h.animate,!0));if((e=!e)?f.Eb:f.pb)(e?f.Eb:f.pb).call(f,this,b);a&&e&&f.show(a)}},hidden_setter:function(a){a&&this.hide();return this.h.hidden},hide:function(){this.show(null,null,!0);webix.UIManager.Wf(this)},adjust:function(){if(!this.i.parentNode)return!1;var a=this.i.parentNode.offsetWidth||0,b=this.i.parentNode.offsetHeight||
0,e=this.$getSize(0,0);e[0]>a&&(a=e[0]);e[2]>b&&(b=e[2]);a>e[1]&&(a=e[1]);b>e[3]&&(b=e[3]);this.$setSize(a,b)},resize:function(a){webix.yd||((a=this.getParent())?a.resizeChildren&&a.resizeChildren():this.adjust())}},webix.Settings,webix.Destruction,webix.BaseBind,webix.UIExtension);webix.protoUI({name:"view",$init:function(a){this.nk(a);a=a.name;this.$formElement&&(a&&webix.$f)&&(webix.$f.elements[a]=this)},nk:function(a){!0!==this.defaults.borderless&&!(a.borderless&&!1!==this.defaults.borderless)&&
(this.m.style.borderWidth="1px");a&&!a.u?this.h.u=this.defaults.borderless||a&&a.borderless?{top:!0,left:!0,bottom:!0,right:!0}:{}:this.defaults.borderless&&(a.u={top:!0,left:!0,bottom:!0,right:!0})},$getSize:function(a,b){var e=this.h.u;e&&(a+=(e.left?0:1)+(e.right?0:1),b+=(e.top?0:1)+(e.bottom?0:1));return e=webix.ui.baseview.prototype.$getSize.call(this,a,b)},$setSize:function(a,b){var e=this.h.u;this.hr=[a,b];e&&(a-=(e.left?0:1)+(e.right?0:1),b-=(e.top?0:1)+(e.bottom?0:1));return webix.ui.baseview.prototype.$setSize.call(this,
a,b)}},webix.ui.baseview)})();webix.ui.view.call(webix);webix.protoUI({name:"spacer",defaults:{borderless:!0},$init:function(){this.i.className+=" webix_spacer"}},webix.ui.view);
webix.protoUI({name:"baselayout",$init:function(){this.$ready.push(this.ka);this.l=this.m},rows_setter:function(a){this.v=1;this.Ah="";this.Ea=a},cols_setter:function(a){this.v=0;this.Ah="left";this.Ea=a},jg:function(a){webix.PowerArray.removeAt.call(this.j,webix.PowerArray.find.call(this.j,a));this.resizeChildren(!0)},dd:function(a,b){if(webix.isUndefined(b)){for(var c=0;c<this.j.length;c++)this.j[c].destructor();this.Ea=a;this.ub&&(this.elements={},webix.Yc=this);this.ka()}else{if("number"==typeof b){if(0>
b||b>this.j.length)b=this.j.length;c=(this.j[b]||{}).i;webix.PowerArray.insertAt.call(this.j,a,b);webix.html.insertBefore(a.i,c,this.l)}else c=webix.ui.get(b),b=webix.PowerArray.find.call(this.j,c),c.i.parentNode.insertBefore(a.i,c.i),c.destructor(),this.j[b]=a;a.i.style.cssFloat=a.i.style.styleFloat=this.Ah;this.j[b].ja=this}this.resizeChildren(!0)},reconstruct:function(){for(var a=0;a<this.j.length;a++)webix.html.remove(this.j[a].i);this.ka();this.$setSize(this.ac[0],this.ac[1])},pb:function(a,
b,c){a.h.hidden||(a.h.hidden=!0,webix.html.remove(a.i),this.Oc++,!c&&!webix.Lg&&this.resizeChildren(!0))},resizeChildren:function(){if(this.cc){var a=this.getParent();if(a&&a.resizeChildren)return a.resizeChildren();var b=this.$getSize(0,0),c,d,e,f;e=c=this.cc[0];f=d=this.cc[1];a?this.tc(c,d):(b[0]>c&&(e=b[0]),b[2]>d&&(f=b[2]),c>b[1]&&(e=b[1]),d>b[3]&&(f=b[3]),this.$setSize(e,f))}},getChildViews:function(){return this.j},index:function(a){a.h&&(a=a.h.id);for(var b=0;b<this.j.length;b++)if(this.j[b].h.id==
a)return b;return-1},Eb:function(a,b,c){a.h.hidden&&(a.h.hidden=!1,webix.html.insertBefore(a.i,(this.j[this.index(a)+1]||{}).i,this.l||this.i),this.Oc--,c||this.resizeChildren(!0))},showBatch:function(a){if(this.h.visibleBatch!=a){this.h.visibleBatch=a;for(var b=[],c=0;c<this.j.length;c++)this.j[c].h.batch||b.push(this.j[c]),this.j[c].h.batch==a?b.push(this.j[c]):this.pb(this.j[c],null,!0);for(c=0;c<b.length;c++)this.Eb(b[c],null,!0);this.resizeChildren()}},ka:function(a){a=this.Ea||a;this.Ea=null;
this.j=[];this.i.style.verticalAlign="top";for(var b=0;b<a.length;b++)webix.ja=this,a[b].u||(a[b].borderless=!0),this.j[b]=webix.ui.w(a[b],this),this.v||(this.j[b].i.style.cssFloat=this.j[b].i.style.styleFloat="left"),this.h.visibleBatch&&(this.h.visibleBatch!=this.j[b].h.batch&&this.j[b].h.batch)&&(this.j[b].h.hidden=!0),this.j[b].h.hidden||(this.l||this.m).appendChild(this.j[b].i),this.j[b].$nospace&&this.Oc++},vd:function(a,b,c){if(this.v!=c)for(var d=0;d<this.j.length;d++)this.j[d].h[a]=b,this.j[d].vd&&
this.j[d].vd(a,b,c)},$getSize:function(a,b){var c=0,d=1E5,e=1E5,f=0;this.v?e=0:c=0;var g=0,h=0,i=0;this.Dg=[];for(var j=0;j<this.j.length;j++)if(!this.j[j].h.hidden){var k=this.Dg[j]=this.j[j].$getSize(0,0);this.j[j].$nospace?h++:this.v?(k[0]>c&&(c=k[0]),k[1]<d&&(d=k[1]),f+=k[2],e+=k[3],k[2]==k[3]&&-1!=k[2]?(g+=k[2],h++):i+=k[4]):(k[2]>f&&(f=k[2]),k[3]<e&&(e=k[3]),c+=k[0],d+=k[1],k[0]==k[1]&&-1!=k[0]?(g+=k[0],h++):i+=k[4])}f>e&&(e=f);c>d&&(d=c);this.Zi=[g,this.j.length-h,i];g=webix.ui.baseview.prototype.$getSize.call(this,
0,0);1E5<=g[1]&&(g[1]=0);1E5<=g[3]&&(g[3]=0);g[0]=(g[0]||c)+a;g[1]=(g[1]||d)+a;g[2]=(g[2]||f)+b;g[3]=(g[3]||e)+b;return g},$setSize:function(a,b){this.cc=[a,b];webix.ui.baseview.prototype.$setSize.call(this,a,b);this.tc(a,b)},jk:function(a,b,c){b=a[b];c=a[c];var d=b;if(b!=c)if(d=this.fb*a[4]/this.gb,d<b)d=b,this.gb-=a[4],this.fb-=d;else if(d>c)d=c,this.gb-=a[4],this.fb-=d;else return-1;return d},tc:function(a,b){webix.yd=(webix.yd||0)+1;this.fb=(this.v?b:a)-this.Zi[0];this.gb=this.Zi[2];for(var c=
a,d=b,e=[],f=0;f<this.j.length;f++)if(!this.j[f].h.hidden){var g=this.Dg[f];if(this.v){if(d=this.jk(g,2,3),0>d){e.push(f);continue}}else if(c=this.jk(g,0,1),0>c){e.push(f);continue}this.j[f].$setSize(c,d)}for(f=0;f<e.length;f++){var h=e[f],g=this.Dg[h],i=Math.round(this.fb*g[4]/this.gb);this.fb-=i;this.gb-=g[4];this.v?d=i:c=i;this.j[h].$setSize(c,d)}webix.yd-=1},Qo:function(a,b){var c=this.index(a);return-1==c?null:this.j[c+b]},first:function(){return this.j[0]}},webix.ui.baseview);
webix.protoUI({name:"layout",$init:function(a){this.Oc=0},defaults:{type:"line"},ka:function(){this.i.className+=" webix_layout_"+(this.h.type||"");this.h.margin!==webix.undefined&&(this.La=this.h.margin);this.h.padding!=webix.undefined&&(this.ab=this.bb=this.h.padding);this.h.paddingX!==webix.undefined&&(this.ab=this.h.paddingX);this.h.paddingY!==webix.undefined&&(this.bb=this.h.paddingY);if(this.bb||this.ab)this.de=!0;this.de&&0<this.La&&(this.m.style.borderWidth="1px",this.ke=!0);var a=this.Ea;
this.h.borderless?this.h.u={top:!0,left:!0,right:!0,bottom:!0}:this.h.u||(this.h.u={});this.dh(a);webix.ui.baselayout.prototype.ka.call(this,a);this.Tg(a)},$getSize:function(){var a=0,b=0;if(-1<this.La){var c=this.La*(this.j.length-this.Oc-1),d=this.h.u;d&&(a=(d.left?0:1)+(d.right?0:1),b=(d.top?0:1)+(d.bottom?0:1));this.v?b+=c:a+=c}return webix.ui.baselayout.prototype.$getSize.call(this,a+2*(this.ab||0),b+2*(this.bb||0))},$setSize:function(a,b){this.cc=[a,b];this.de&&0<this.La||this.ke?webix.ui.view.prototype.$setSize.call(this,
a,b):webix.ui.baseview.prototype.$setSize.call(this,a,b);this.tc(this.p,this.q)},tc:function(a,b){var c=this.La*(this.j.length-this.Oc-1);this.v?(b-=c+2*this.bb,a-=2*this.ab):(a-=c+2*this.ab,b-=2*this.bb);return webix.ui.baselayout.prototype.tc.call(this,a,b)},resizeChildren:function(a){if(a&&"clean"!=this.type){a=[];for(var b=0;b<this.j.length;b++){var c=this.j[b];a[b]=c.h;var d=c.cc&&!c.ke?"0px":"1px";c.i.style.borderTopWidth=c.i.style.borderBottomWidth=c.i.style.borderLeftWidth=c.i.style.borderRightWidth=
d}this.dh(a);this.Tg(this.j)}webix.ui.baselayout.prototype.resizeChildren.call(this)},dh:function(a){if(this.de&&this.La)for(var b=0;b<a.length;b++)a[b].u={top:!1,left:!1,right:!1,bottom:!1};else{for(b=0;b<a.length;b++)a[b].u=webix.clone(this.h.u);var c=!1;"clean"==this.h.type&&(c=!0);var d=a.length;if(this.v){for(b=1;b<d-1;b++)a[b].u.top=a[b].u.bottom=c;if(1<d){"head"!=this.h.type&&(a[0].u.bottom=c);for(;a[d-1].hidden&&0<d;)d--;0<d&&(a[d-1].u.top=c)}}else{for(b=1;b<d-1;b++)a[b].u.left=a[b].u.right=
c;if(1<d){"head"!=this.h.type&&(a[0].u.right=c);for(a[d-1].u.left=c;a[d-1].hidden&&0<d;)d--;0<d&&(a[d-1].u.left=c)}}}},jn:function(a,b){b.top&&(a.borderTopWidth="0px");b.left&&(a.borderLeftWidth="0px");b.right&&(a.borderRightWidth="0px");b.bottom&&(a.borderBottomWidth="0px")},Tg:function(a){for(var b=0,c=0;c<a.length;c++){var d=this.j[c],e=d.h.u;if(e.hidden&&this.j[c+1]){var f=this.j[c+1].h.u;e.top||(f.top=!1);e.left||(f.left=!1);c==b&&b++}this.jn(d.i.style,d.h.u)}var e=this.v?"marginLeft":"marginTop",
d=this.v?"marginTop":"marginLeft",f=this.v?this.ab:this.bb,g=this.v?this.bb:this.ab;if(this.de)for(c=0;c<a.length;c++)this.j[c].i.style[e]=f+"px";this.j.length&&(this.j[b].i.style[d]=(g||0)+"px");for(b+=1;b<a.length;b++)this.j[b].i.style[d]=this.La+"px"},type_setter:function(a){this.La="undefined"!=typeof this.Zd[a]?this.Zd[a]:this.Zd.line;this.ab=this.bb="undefined"!=typeof this.Zd[a]?this.uj[a]:this.uj.line;return a},Zd:webix.skin.layoutMargin,uj:webix.skin.layoutPadding},webix.ui.baselayout);webix.ui.layout.call(webix);
webix.protoUI({name:"template",$init:function(a){var b=this.xq[a.type];b&&(webix.extend(a,b),delete a.u,this.nk(a));this.l==this.i?(this.l=webix.html.create("DIV"),this.l.className=" webix_template",this.i.appendChild(this.l)):this.l.className+=" webix_template";this.attachEvent("onXLE",this.render);this.attachEvent("onAfterRender",this.Ye)},setValues:function(a){this.data=a;this.render()},xq:{header:{height:webix.skin.barHeight,css:"webix_header"},section:{height:webix.skin.barHeight,css:"webix_section",
borderless:!0}},defaults:{template:webix.Template.empty},gg:function(){this.be||(this.render(),this.be=!0)},src_setter:function(a){this.be=!0;this.callEvent("onXLS",[]);webix.ajax(a,webix.bind(function(a){this.h.template=webix.Template(a);this.be=!1;this.gg();this.callEvent("onXLE",[])},this));return a},Ye:function(){this.h.autoheight&&this.resize();this.h.scroll&&-1!=this.h.scroll.indexOf("x")&&(this.l.style.width=this.l.scrollWidth+"px")},content_setter:function(a){a&&(this.be=!0,this.l.appendChild(webix.toNode(a)))},
refresh:function(){this.render()},setHTML:function(a){this.h.template=function(){return a};this.refresh()},waitMessage_setter:function(a){webix.extend(this,webix.OverlayBox);return a},$setSize:function(a,b){webix.ui.view.prototype.$setSize.call(this,a,b)&&this.gg()},$getSize:function(a,b){this.h.autoheight&&(this.gg(),this.h.height=this.l.scrollHeight);return webix.ui.view.prototype.$getSize.call(this,a,b)},$o:!0},webix.Scrollable,webix.AtomDataLoader,webix.AtomRender,webix.EventSystem,webix.ui.view);
webix.protoUI({name:"iframe",$init:function(){this.l=this.m;this.m.innerHTML="<iframe style='width:100%; height:100%' frameborder='0' src='about:blank'></iframe>"},load:function(a){this.src_setter(a)},src_setter:function(a){this.getWindow().src=a;this.callEvent("onXLS",[]);webix.delay(this.bq,this);return a},bq:function(){try{webix.event(this.getWindow(),"load",webix.bind(function(){this.callEvent("onXLE",[])},this))}catch(a){this.callEvent("onXLE",[])}},getWindow:function(){return this.m.getElementsByTagName("iframe")[0]},
waitMessage_setter:function(a){a&&webix.extend(this,webix.OverlayBox);return a}},webix.ui.view,webix.EventSystem);
webix.OverlayBox={$init:function(){webix.isUndefined(this.tb)&&this.attachEvent&&(this.attachEvent("onXLS",this.showOverlay),this.attachEvent("onXLE",this.hideOverlay),this.tb=null)},showOverlay:function(a){this.tb||(this.tb=webix.html.create("DIV",{"class":"webix_loading_overlay"},a||""),webix.html.insertBefore(this.tb,this.i.firstChild,this.i),this.i.style.position="relative")},hideOverlay:function(){this.tb&&(webix.html.remove(this.tb),this.tb=null)}};
webix.protoUI({name:"scrollview",defaults:{scroll:"y",scrollSpeed:"0ms"},$init:function(){this.i.className+=" webix_scrollview"},body_setter:function(a){a.borderless=!0;this.n=webix.ui.w(a);this.n.ja=this;this.l.appendChild(this.n.i)},$getSize:function(a,b){var c=this.Ih=this.n.$getSize(a,b),d=webix.ui.view.prototype.$getSize.call(this);"x"==this.h.scroll?(d[2]=Math.max(d[2],c[2]),d[3]=Math.min(d[3],c[3])):"y"==this.h.scroll&&(d[0]=Math.max(d[0],c[0]),d[1]=Math.min(d[1],c[1]));return d},$setSize:function(a,
b){if(webix.ui.view.prototype.$setSize.call(this,a,b)){var c=Math.max(this.p,this.Ih[0]),d=Math.max(this.q,this.Ih[2]);this.n.$setSize(c,d);this.l.style.width=this.n.p+"px";this.l.style.height=this.n.q+"px"}},dd:function(a){this.n.destructor();this.n=a;this.n.ja=this;this.Va.appendChild(this.n.i);this.resize()},focusView:function(a){a=$$(a).$view.offsetTop-$$(a).$view.parentNode.offsetTop;this.scrollTo(0,a)}},webix.Scrollable,webix.ui.view);
webix.animate=function(a,b){var c=b;if(webix.isArray(a))for(var d=0;d<a.length;d++){webix.isArray(b)&&(c=b[d]);if("slide"==c.type){if("out"==c.subtype&&0===d)continue;if("in"==c.subtype&&1==d)continue}if("flip"==c.type){var e=webix.clone(c);0===d&&(e.type="flipback");1==d&&(e.callback=null);webix.animate(a[d],e)}else webix.animate(a[d],c)}else d=webix.toNode(a),d.Rd?webix.animate.end(d,c):webix.animate.start(d,c)};
webix.animate.end=function(a,b){a.style[webix.env.transformPrefix+"TransitionDuration"]="1ms";a.Rd=null;webix.hl&&window.clearTimeout(webix.hl);webix.hl=webix.delay(webix.animate,webix,[a,b],10)};webix.animate.isSupported=function(){return webix.env.transform&&webix.env.transition&&!webix.env.isOpera};
webix.animate.formLine=function(a,b,c){var d=c.direction;b.parentNode.style.position="relative";b.style.position="absolute";a.style.position="absolute";"top"==d||"bottom"==d?(a.style.left="0px",a.style.top=(c.top||0)+("top"==d?1:-1)*b.offsetHeight+"px"):(a.style.top=(c.top||0)+"px",a.style.left=("left"==d?1:-1)*b.offsetWidth+"px");b.parentNode.appendChild(a);"slide"==c.type&&"out"==c.subtype&&(a.style.left="0px",a.style.top=(c.top||0)+"px",b.parentNode.removeChild(b),a.parentNode.appendChild(b));
return[a,b]};webix.animate.breakLine=function(a){webix.html.remove(a[1]);webix.animate.clear(a[0]);webix.animate.clear(a[1]);a[0].style.position=""};webix.animate.clear=function(a){a.style[webix.env.transformPrefix+"Transform"]="";a.style[webix.env.transformPrefix+"Transition"]="";a.style.top=a.style.left=""};webix.animate.defaults={type:"slide",delay:"0",duration:"500",timing:"ease-in-out",x:0,y:0};
webix.animate.start=function(a,b){"string"==typeof b&&(b={type:b});b=webix.Settings.ya(b,webix.animate.defaults);var c=webix.env.transformPrefix,d=a.Rd=b;switch("slide"==d.type&&d.direction){case "right":d.x=a.offsetWidth;break;case "left":d.x=-a.offsetWidth;break;case "top":d.y=-a.offsetHeight;break;default:d.y=d.y||a.offsetHeight}if("flip"==d.type||"flipback"==d.type){var e=[0,0],f="scaleX";"vertical"==d.subtype?(e[0]=20,f="scaleY"):e[1]=20;if("right"==d.direction||"bottom"==d.direction)e[0]*=-1,
e[1]*=-1}var g=d.duration+"ms "+d.timing+" "+d.delay+"ms",h=c+"TransformStyle: preserve-3d;",i="",j="";switch(d.type){case "fade":i="opacity "+g;h="opacity: 0;";break;case "show":i="opacity "+g;h="opacity: 1;";break;case "flip":g=d.duration/2+"ms "+d.timing+" "+d.delay+"ms";j="skew("+e[0]+"deg, "+e[1]+"deg) "+f+"(0.00001)";i="all "+g;break;case "flipback":d.delay+=d.duration/2;g=d.duration/2+"ms "+d.timing+" "+d.delay+"ms";a.style[c+"Transform"]="skew("+-1*e[0]+"deg, "+-1*e[1]+"deg) "+f+"(0.00001)";
a.style.left="0";j="skew(0deg, 0deg) "+f+"(1)";i="all "+g;break;case "slide":e=d.x+"px",f=d.y+"px",j=webix.env.translate+"("+e+", "+f+("translate3d"==webix.env.translate?", 0":"")+")",i=webix.env.transformCSSPrefix+"transform "+g}webix.delay(function(){a.style[c+"Transition"]=i;webix.delay(function(){h&&(a.style.cssText+=h);j&&(a.style[c+"Transform"]=j);var b=!1,e=webix.event(a,webix.env.transitionEnd,function(c){a.Rd=null;d.callback&&d.callback.call(d.master||window,a,d,c);b=!0;webix.eventRemove(e)});
window.setTimeout(function(){b||(a.Rd=null,d.callback&&d.callback.call(d.master||window,a,d),b=!0,webix.eventRemove(e))},1.3*(1*d.duration+1*d.delay))})})};
webix.MouseEvents={$init:function(a){this.Se=0;this.vm=300;this.Kf=null;a.onClick&&(this.on_click=webix.extend(this.on_click||{},a.onClick));a.onContext&&(this.on_context=webix.extend(this.on_context||{},a.onContext));a.onDblClick&&(this.on_dblclick=webix.extend(this.on_dblclick||{},a.onDblClick));a.onMouseMove&&(this.on_mouse_move=webix.extend(this.on_mouse_move||{},a.onMouseMove));this.on_click&&webix.event(this.m,"click",this.Ro,this);this.on_context&&webix.event(this.m,"contextmenu",this.So,this);
this.on_mouse_move&&(webix.event(this.m,"mousemove",this.oj,this),webix.event(this.m,webix.env.isIE?"mouseleave":"mouseout",this.oj,this))},Ro:function(a){webix.UIManager.kn(this);if(!this.isEnabled())return!1;if(this.on_dblclick){var b=(new Date).valueOf();if(b-this.Se<=this.vm&&this.locate){var c=this.locate(a);if(""+c==this.Kf)return this.Se=0,this.To(a)}this.Se=b}return a=this.hc(a,this.on_click,"ItemClick")},To:function(a){return this.hc(a,this.on_dblclick,"ItemDblClick")},So:function(a){this.hc(a,
this.on_context,"BeforeContextMenu")&&this.hc(a,{},"AfterContextMenu")},oj:function(a){if(webix.env.isIE)a=document.createEventObject(event);else if(!webix.isUndefined(a.webkitMovementY)&&!a.webkitMovementY&&!a.webkitMovementX)return;this.dj&&window.clearTimeout(this.dj);this.callEvent("onMouseMoving",[a]);this.dj=window.setTimeout(webix.bind(function(){"mousemove"==a.type?this.Uo(a):this.Vo(a)},this),this.h.mouseEventDelay||500)},Uo:function(a){this.hc(a,this.on_mouse_move,"MouseMove")||this.callEvent("onMouseOut",
[a||event])},Vo:function(a){this.callEvent("onMouseOut",[a||event])},hc:function(a,b,c){a=a||event;for(var d=a.target||a.srcElement,e="",f=null,g=!1;d&&d.parentNode;){if(!g&&d.getAttribute&&(f=d.getAttribute(this.I))){this.Kf=f;if(this.callEvent&&!this.callEvent("on"+c,[f,a,d]))return;g=!0}if(e=d.className)if(e=e.split(" "),e=e[0]||e[1],b[e]&&(e=b[e].call(this,a,f||webix.html.locate(a,this.I),d),"undefined"!=typeof e&&!0!==e))return;d=d.parentNode}return g}};
webix.protoUI({name:"accordionitem",$init:function(a){this.i.innerHTML="<div webix_ai_id='"+a.id+"'  class='webix_accordionitem_header'><div class='webix_accordionitem_button' ></div><div class='webix_accordionitem_label' ></div></div><div class='webix_accordionitem_body'></div>";this.m=this.i;this.U=this.m.childNodes[0];a.header||(this.U.style.display="none");this.zi=this.m.childNodes[0].childNodes[1];this.fr=this.m.childNodes[0].childNodes[0];this.Va=this.m.childNodes[1];this.i.className+=" webix_accordionitem";
this.wa=this.n=null;this.j=!0},jg:function(){this.n={destructor:function(){}}},dd:function(a){this.n.destructor();this.n=a;this.n.ja=this;this.Va.appendChild(this.n.i);this.resize()},I:"webix_ai_id",body_setter:function(a){"object"!=typeof a&&(a={template:a});a.u={top:!0,left:!0,right:!0,bottom:!0};this.n=webix.ui.w(a);this.n.$view.style.border="0px solid red";this.n.ja=this;this.Va.appendChild(this.n.i);return a},header_setter:function(a){a&&(a=webix.Template(a));return a},headerAlt_setter:function(a){a&&
(a=webix.Template(a));return a},$getSize:function(a,b){var c=this.n.$getSize(0,0),d=this.h.u;d&&(a+=(d.left?0:1)+(d.right?0:1),b+=(d.top?0:1)+(d.bottom?0:1));var d=0,e=webix.ui.baseview.prototype.$getSize.call(this,0,0);e[0]=(e[0]||c[0])+a;1E5<=e[1]&&(e[1]=c[1]);e[1]+=a;e[2]=(e[2]||c[2])+b;1E5<=e[3]&&(e[3]=c[3]);e[3]+=b;this.getParent().v?this.h.collapsed?e[2]=e[3]=this.Md():d=this.h.headerHeight:this.h.collapsed?e[0]=e[1]=this.Md()+this.Mc():d=this.h.headerHeight;e[2]+=d+this.Mc();e[3]+=d+this.Mc();
return e},Mc:function(){return 0},on_click:{webix_accordionitem_header:function(a,b){this.Vk(a)},webix_accordionitem_header_v:function(a,b){this.Vk(a)}},Vk:function(a){this.define("collapsed",!this.h.collapsed);webix.callEvent("onClick",[this.h.id]);return webix.html.preventEvent(a)},collapsed_setter:function(a){if(!1!==this.h.header){var b=this.getParent();if(a)if(!b||b.Ol(this))this.am();else return!1;else this.Ym();(this.h.collapsed=a)||this.getParent().ul(this);this.refresh();webix.Lg||this.resize();
b.callEvent("onAfter"+(a?"Collapse":"Expand"),[this.h.id]);return this.h.$noresize=a}},collapse:function(){this.define("collapsed",!0);webix.UIManager.Wf(this)},expand:function(){this.define("collapsed",!1)},Eb:function(){this.show()},pb:function(){this.hide()},Ym:function(){this.Va.style.display="";webix.html.removeCss(this.U,"collapsed")},am:function(){this.getParent();this.h.headerAlt&&(this.zi.innerHTML=this.h.headerAlt());this.Va.style.display="none";webix.html.addCss(this.U,"collapsed")},refresh:function(){var a=
this.h[this.h.collapsed?"headerAlt":"header"]||this.h.header;a&&(this.zi.innerHTML=a())},Md:function(){return this.h.collapsed?this.h.headerAltHeight:this.h.headerHeight},$setSize:function(a,b){if(webix.ui.view.prototype.$setSize.call(this,a,b)){a=this.p;b=this.q;this.getParent().v?b-=this.Mc():this.h.collapsed&&(a-=this.Mc());var c=this.Md()-(this.h.u.top?0:1);this.h.header&&(this.U.style.height=c+"px",this.U.style.width="auto",this.U.style[webix.env.transform]="",this.U.style.borderBottomWidth=
(this.h.collapsed?0:1)+"px",this.getParent().v||!this.h.collapsed?b-=this.Md():this.h.collapsed&&(this.U.style.width=b+"px",this.U.style.height=a+3+"px",c=Math.floor(-b/2+a/2)-(a-this.h.headerAltHeight)/2,this.U.style[webix.env.transform]="rotate(-90deg) translate("+(c+1)+"px, "+c+"px)"));this.h.collapsed||this.n.$setSize(a,b)}},defaults:{header:!1,headerAlt:!1,body:"",headerHeight:webix.skin.barHeight,headerAltHeight:webix.skin.barHeight}},webix.MouseEvents,webix.EventSystem,webix.ui.view);
webix.protoUI({name:"accordion",defaults:{panelClass:"accordionitem",multi:!1,collapsed:!1},ka:function(){for(var a=this.h.panelClass,b=this.Ea,c=0;c<b.length;c++){if((b[c].body||b[c].header)&&!b[c].view)b[c].view=a;webix.isUndefined(b[c].collapsed)&&(b[c].collapsed=this.h.collapsed)}this.Eg=!0;webix.ui.layout.prototype.ka.call(this);this.Eg=!1;for(c=0;c<this.j.length;c++)this.j[c].name==a&&this.j[c].refresh(),this.j[c].ql=!1;a=!1;for(c=this.j.length-1;0<=c&&!a;c--)this.j[c].h.hidden||(a=this.j[c].ql=
!0)},ul:function(a){if(!1===this.h.multi&&!0!==this.Eg)for(var b=0;b<this.j.length;b++)a!=this.j[b]&&!this.j[b].h.collapsed&&this.j[b].collapse()},Ol:function(a){if(!0===this.h.multi||this.Eg)return!0;for(var b=0;b<this.j.length;b++)if(a!=this.j[b]&&!this.j[b].h.collapsed)return!0;return!1}},webix.ui.layout,webix.EventSystem);webix.protoUI({name:"headerlayout",defaults:{type:"accordion",multi:"mixed",collapsed:!1}},webix.ui.accordion);
webix.Modality={Vf:function(a){if(a){if(!this.gc){this.gc=webix.html.create("div",{"class":"webix_modal"});var b=this.h.zIndex||webix.ui.zIndex();this.gc.style.zIndex=b-1;this.i.style.zIndex=b;document.body.appendChild(this.gc)}}else this.gc&&webix.html.remove(this.gc),this.gc=null;return a}};
webix.protoUI({name:"window",$init:function(a){this.i.innerHTML="<div class='webix_win_content'><div class='webix_win_head'></div><div class='webix_win_body'></div></div>";this.m=this.i.firstChild;this.U=this.m.childNodes[0];this.l=this.Va=this.m.childNodes[1];this.i.className+=" webix_window";this.wa=this.n=null;this.h.u={top:!1,left:!1,right:!1,bottom:!1};a.id||(a.id=webix.uid())},getChildViews:function(){return this.wa?[this.wa,this.n]:[this.n]},zIndex_setter:function(a){return this.i.style.zIndex=
a},jg:function(){this.Oj();this.n={destructor:function(){}}},dd:function(a){this.n.destructor();this.n=a;this.n.ja=this;this.Va.appendChild(this.n.i);a=this.n.i.style;a.borderTopWidth=a.borderBottomWidth=a.borderLeftWidth=a.borderRightWidth="1px";this.n.h.u=webix.clone(this.h.u);this.resize(!0)},show:function(a,b,c){this.h.hidden=!1;this.i.style.zIndex=this.h.zIndex||webix.ui.zIndex();this.h.modal&&this.Vf(!0);var d,e,f;if(a){"object"==typeof a&&!a.tagName?a.target?(d={x:a.clientX-this.ac[0]/2,y:a.clientY},
e=this.ac[0],f=1):d=a:(a=webix.toNode(a),d=webix.html.offset(a));var g=document.body.offsetWidth,h=document.body.offsetHeight;e=e||a.offsetWidth;f=f||a.offsetHeight;a=this.ac;if(this.h.autofit){var i=6,j=6,k=6;c="top";var l=0,p=0,m=0,n=0;g-d.x-e<a[0]&&"right"==b&&(b="left");"right"==b?(n=d.x+i+e,j=-f,c="left",l=Math.round(d.y+f/2),p=n-k):"left"==b?(n=d.x-i-a[0]-1,j=-f,c="right",l=Math.round(d.y+f/2),p=n+a[0]+1):(n=0>d.x?0:g-d.x>a[0]?d.x:g-i-a[0],p=Math.round(d.x+e/2),p>n+a[0]&&(p=n+a[0]/2));!a[1]||
h-f-d.y-j>a[1]?(m=f+d.y+j,l||(c="top",l=m-k)):(m=d.y-j-a[1],0>m?(m=0,"top"==c&&(c=!1)):l||(c="bottom",m--,l=m+a[1]+1));this.setPosition(n,m);this.qk&&(c?this.qk(c,p,l):this.Bf())}else this.setPosition(d.x,d.y)}this.yk=new Date;this.i.style.display="block";this.Oj();this.config.autofocus&&(this.ie=webix.UIManager.getFocus(),webix.UIManager.setFocus(this));this.callEvent("onShow",[])},Oj:function(){if(this.Xb){var a=this.h.hidden;this.h.hidden=!1;for(var b=0;b<this.Xb.length;b++){var c=webix.ui.get(this.Xb[b]);
c&&c.render()}this.Xb=[];this.yf={};this.h.hidden=a}},hidden_setter:function(a){a?this.hide():this.show();return!!a},hide:function(a){if(a||!(this.h.hidden||100>new Date-this.yk))this.h.modal&&this.Vf(!1),"top"==this.h.position?webix.animate(this.i,{type:"slide",x:0,y:-(this.q+20),duration:300,callback:this.Ai,master:this}):this.Ai(),this.h.autofocus&&(webix.UIManager.setFocus(this.ie),this.ie=null)},destructor:function(){this.h.autofocus&&(webix.en||webix.UIManager.setFocus(this.ie),this.ie=null);
webix.Destruction.destructor.apply(this,[])},Ai:function(){this.i.style.display="none";this.h.hidden=!0;this.callEvent("onHide",[])},close:function(){this.Vf(!1);webix.html.remove(this.i);this.destructor()},Mi:function(a){a.borderless=!0},body_setter:function(a){"object"!=typeof a&&(a={template:a});this.Mi(a);this.n=webix.ui.w(a);this.n.ja=this;this.Va.appendChild(this.n.i);return a},head_setter:function(a){if(!1===a)return a;"object"!=typeof a&&(a={template:a,padding:0});a.borderless=!0;this.wa=
webix.ui.w(a);this.wa.ja=this;this.U.appendChild(this.wa.i);return a},getBody:function(){return this.n},getHead:function(){return this.wa},adjust:function(){return this.resize()},resizeChildren:function(){this.resize()},resize:function(){webix.ui.baseview.prototype.adjust.call(this);this.Yp(this.h.left,this.h.top)},Yp:function(a,b){if(this.h.position){var c=this.p,d=this.q,c=Math.round((document.body.offsetWidth-c)/2),e=Math.round((document.body.offsetHeight-d)/2);"top"==this.h.position&&(e=webix.animate.isSupported()?
-1*d:10);this.setPosition(c,e);"top"==this.h.position&&webix.animate(this.i,{type:"slide",x:0,y:d-2*(this.h.padding||0),duration:300,callback:this.Eq,master:this})}else this.setPosition(a,b)},Eq:function(a){webix.animate.clear(a);this.h.top=-(2*(this.h.padding||0));this.setPosition(this.h.left,this.h.top)},setPosition:function(a,b){this.i.style.top=b+"px";this.i.style.left=a+"px";this.h.left=a;this.h.top=b},$getSize:function(a,b){var c=this.n.$getSize(0,3);if(this.wa){var d=this.wa.$getSize(0,0);
d[3]==d[2]&&(this.h.headHeight=d[3]);b+=this.h.headHeight}d=webix.ui.view.prototype.$getSize.call(this,0,0);d[1]=Math.min(d[1],1E5<=c[1]&&1E5<=d[1]?300:c[1])+a;d[3]=Math.min(d[3],1E5<=c[3]&&1E5<=d[3]?200:c[3])+b;d[0]=Math.min(Math.max(d[0],c[0]),d[1])+a;d[2]=Math.min(Math.max(d[2],c[2]),d[3])+b;return d},$setSize:function(a,b){webix.ui.view.prototype.$setSize.call(this,a,b);a=this.p;b=this.q;!1===this.h.head?(this.U.style.display="none",this.n.$setSize(a,b)):(this.wa.$setSize(a,this.h.headHeight),
this.n.$setSize(a,b-this.h.headHeight))},defaults:{headHeight:webix.skin.barHeight,top:0,left:0,autofit:!0,body:"",head:"",hidden:!0,borderless:!1,autofocus:!0}},webix.ui.view,webix.Movable,webix.Modality,webix.EventSystem);
webix.protoUI({name:"popup",$init:function(){this.h.head=!1;this.$view.className+=" webix_popup";webix.event(this.m,"click",webix.bind(this.Yl,this));webix.attachEvent("onClick",webix.bind(this.pb,this));this.attachEvent("onHide",this.Bf)},Yl:function(){this.hq=new Date},pb:function(){250<new Date-(this.hq||0)&&this.hide()},close:function(){webix.html.remove(this.kc);webix.ui.window.prototype.close.call(this)},$getSize:function(a,b){return webix.ui.window.prototype.$getSize.call(this,a+2*this.h.padding,
b+2*this.h.padding)},$setSize:function(a,b){webix.ui.view.prototype.$setSize.call(this,a,b)&&(a=this.p-2*this.h.padding,b=this.q-2*this.h.padding,this.m.style.padding=this.h.padding+"px",this.U.style.display="none",this.n.$setSize(a,b))},Mi:function(){},defaults:{padding:8},head_setter:function(){},qk:function(a,b,c){this.Bf();document.body.appendChild(this.kc=webix.html.create("DIV",{"class":"webix_point_"+a},""));this.kc.style.zIndex=webix.ui.zIndex();this.kc.style.top=c+"px";this.kc.style.left=
b+"px"},Bf:function(){this.kc=webix.html.remove(this.kc)}},webix.ui.window);
webix.protoUI({name:"suggest",autofocus:!1,defaults:{autofocus:!1,type:"list",width:200,filter:function(a,b){return 0===a.value.toString().toLowerCase().indexOf(b.toLowerCase())?!0:!1}},$init:function(a){if(!a.body){var b=webix.extend({},a);delete b.width;delete b.height;delete b.input;b.view=a.type||"list";b.id=(a.id||a.name)+"_"+b.view;b.data=b.data||b.options;b.select=!0;b.autoheight=!0;b.yCount=b.yCount||10;a.body=b}this.$ready.push(this.dq)},setMasterValue:function(a){if(this.h.master){var b=
webix.ui.get(this.h.master);b.options_setter?b.setValue(a.id):b.setValue(a.text||a.value)}else this.Ka&&(this.Ka.value=a.text||a.value);this.hide(!0);this.Ka&&this.Ka.focus()},getMasterValue:function(){return this.h.master?webix.ui.get(this.h.master).getValue():null},getItemText:function(a){var b=this.n.item(a);if(!b)return a;a=this.n.type;return a.template.call(a,b,a)},idByValue:function(a,b){var c="";"list"==this.h.type&&this.n.data.each(function(b){b.value==a&&(c=b.id)},this);if(!c&&b){var d=this.n;
if(d.data.exists(a))return a;d.data.we=!0;d.data.filter(webix.bind(function(b){return this.h.filter.call(this,b,a)},this));d.data.we=!1;if(this.n.dataCount())return this.n.first()}return c},dq:function(){var a=this.n,b=this.h.type;"list"==b?(a.attachEvent("onItemClick",function(a){this.getParent().setMasterValue(this.item(a))}),a.data.attachEvent("onAfterFilter",webix.bind(this.Lk,this)),a.data.attachEvent("onStoreLoad",webix.bind(this.Lk,this))):"calendar"==b?a.attachEvent("onDateSelect",function(a){this.getParent().setMasterValue({value:a})}):
"colorboard"==b&&a.attachEvent("onSelect",function(a){this.getParent().setMasterValue({value:a})})},input_setter:function(a){this.linkInput(a);return 0},linkInput:function(a){var b;a.getInput?(b=a.getInput(),b.webix_master_id=a.h.id):b=webix.toNode(a);webix.event(b,"keydown",this.rq,this)},rq:function(a){a=a||event;var b=this.n,c=a.target||a.srcElement;this.Ka=c;this.h.master=c.webix_master_id;window.clearTimeout(this.wo);var d=a.keyCode;if(9==d)return this.vq(this,b);if(27==d)return this.Xm(this,
b);if(13==d)return this.Vm(this,b);if(this.Po(a))return webix.html.preventEvent(a),!1;webix.isUndefined(c.value)||(this.wo=webix.delay(function(){this.Uj=!0;if("string"==typeof b.config.dataFeed)b.filter("value",c.value);else{var a=this;b.filter(function(b){return a.h.filter.call(a,b,c.value)});a=null}},this,[],200))},Lk:function(){if(!this.Uj)return!0;this.Uj=!1;var a=this.n;0<a.dataCount()&&!this.gr?(this.adjust(),this.show(this.Ka,a.h.align||"bottom",!0)):(this.hide(!0),this.Ka=null)},Zf:function(){this.isVisible()||
(this.n.filter&&this.n.filter(""),this.adjust())},Vm:function(a,b){if("list"==this.h.type){if(b.dataCount())if(a.isVisible()){var c=b.getSelected();c&&this.setMasterValue(b.item(c));a.hide(!0)}else(c=this.getMasterValue())&&b.exists(c)&&b.select(c),a.show(this.Ka)}else a.isVisible()?a.hide(!0):a.show(this.Ka)},Xm:function(a,b){return a.hide(!0)},vq:function(a,b){return a.hide(!0)},Po:function(a){var b=this.n,c=a.keyCode;if("list"==this.h.type)return 38===c&&!a.ctrlKey&&!a.shiftKey&&!a.altKey?(a=b.getSelected(),
a=b.exists(a)?b.indexById(a):b.dataCount(),0===a&&(a=b.dataCount()),0<a&&(a=b.idByIndex(a-1),b.select(a),b.showItem(a)),!0):40===c&&!a.ctrlKey&&!a.shiftKey&&!a.altKey?(a=b.getSelected(),a=b.exists(a)?b.indexById(a):-1,a>=b.dataCount()-1&&(a=-1),a<b.dataCount()-1&&(a=b.idByIndex(a+1),b.select(a),b.showItem(a)),!0):!1}},webix.ui.popup);
webix.attachEvent("onClick",function(a){var b=webix.ui.get(a);if(b&&b.touchable){b.getNode(a);var c=a.target||a.srcElement,d="";if(!(c.className&&0===c.className.indexOf("webix_view"))){for(;c&&c.parentNode;){if(c.getAttribute){if(c.getAttribute("view_id"))break;if(d=c.className)if(d=d.split(" "),d=d[0]||d[1],b.on_click[d]&&(d=b.on_click[d].call(b,a,b.h.id,c),!1===d))return}c=c.parentNode}b.h.click&&(c=webix.toFunctor(b.h.click))&&c.call&&c.call(b,b.h.id,a);b.h.multiview&&(c=webix.ui.get(b.h.multiview))&&
c.show&&c.show();b.h.popup&&(c=webix.ui.get(b.h.popup),c.h.master=b.h.id,c.Zf&&c.Zf(),c.show(b.getInput()||b.getNode(),c.n.h.align||"bottom",!0));b.callEvent("onItemClick",[b.h.id,a])}}});
webix.protoUI({name:"button",touchable:!0,defaults:{template:function(a,b){return"<div class='webix_el_box' style='width:"+a.awidth+"px; height:"+a.aheight+"px'>"+b.Hf(a,b)+"</div>"},height:webix.skin.inputHeight,label:"",tabFocus:!0,borderless:!0},Hf:function(a){var b="class='webixtype_"+(a.type||"base")+"' ";return"<input type='button' "+b+'value="'+(a.label||a.value)+'">'},$init:function(a){this.i.className+=" webix_control webix_el_"+(this.nm||this.name);this.data=this.h;this.l=this.i},type_setter:function(a){this.al[a]&&
(this.Hf=webix.Template(this.al[a]));this.Db="prev"==a||"next"==a?this.cq:!1;return a},al:{prev:"<div class='webix_el_arrow webixtype_prev_arrow'></div><input type='button' class='webixtype_prev' value='#label#' />",next:"<div class='webix_el_arrow webixtype_next_arrow'></div><input type='button' class='webixtype_next' value='#label#' />",imageButton:"<div class='webix_img_btn_abs' style='width:#aheight#px;  background-image:url(#image#);'></div><input type='button' class='webixtype_base' style='text-indent:#cheight#px; padding:0px;' value='#label#'>",
imageButtonTop:"<div class='webix_img_btn_abs webix_img_btn_abs_top' style='background-image:url(#image#);'><div class='webix_img_btn_text'>#label#</div></div><input type='button' class='webixtype_base'>",image:"<div class='webix_img_btn' style='text-indent:#cheight#px; line-height:#aheight#px; background-image:url(#image#);'>#label#</div>",imageTop:"<div class='webix_img_btn_top' style='background-image:url(#image#);'><div class='webix_img_btn_text'>#label#</div></div>",icon:"<div class='webix_img_btn' style='line-height:#cheight#px;'><span class='webix_icon_btn icon-#icon#'></span>#label#</div>",
iconButton:"<div class='webix_img_btn_abs' style='left:10px; width:100%; line-height:#aheight#px'><span class='webix_icon icon-#icon#'></span> #label#</div><input type='button' class='webixtype_base'>",iconTop:"<div class='webix_img_btn_top' style='width:100%;top:4px;text-align:center;'><span class='webix_icon icon-#icon#'></span><div class='webix_img_btn_text'>#label#</div></div>",iconButtonTop:"<div class='webix_img_btn_abs' style='width:100%;top:0px;text-align:center;'><span class='webix_icon icon-#icon#' style='padding-top:5px;'></span><div class='webix_img_btn_text'>#label#</div></div><input type='button' class='webixtype_base'>"},
$setSize:function(a,b){webix.ui.view.prototype.$setSize.call(this,a,b)&&this.render()},setValue:function(a,b){var c=this.ib;c!=a&&(this.h.value=a,this.Rj&&this.Vg(a),this.callEvent("onChange",[a,c,b]))},Vg:function(a){this.ib=a;this.da(a)},da:function(a){(this.getInput()||{}).value=a},getValue:function(){return this.Rj?this.nb():this.h.value},nb:function(){return this.h.label||""},focus:function(){var a=this.getInput();a&&a.focus&&a.focus()},blur:function(){var a=this.getInput();a&&a.blur&&a.blur()},
getInput:function(){return this.l.getElementsByTagName("input")[0]},Lc:function(){return this.l.firstChild},of:function(){return null},Dk:Math.sqrt(2),cq:function(){var a=this.Lc().firstChild,b=a.nextSibling,c="next"==this.h.type?"right":"left",d=this.h.aheight-2*webix.skin.inputPadding-2,e=d*this.Dk/2;a.style.width=e+"px";a.style.height=e+"px";a.style.top=(d-e)/2+webix.skin.inputPadding+"px";a.style[c]=(d-e)/2+this.Dk/2+"px";b.style.width=this.h.awidth-d/2-2+"px";b.style.height=d+2+"px";b.style[c]=
d/2+2+"px";b.style.top=webix.skin.inputPadding+"px"},Il:function(){this.Ud=this.h.inputWidth||(2<this.p-this.h.width?this.h.width:0)||this.p;this.If=this.h.inputHeight},render:function(){this.Il();this.h.awidth=this.Ud||this.p;this.h.aheight=this.If||this.q;this.h.bheight=this.h.aheight+2;this.h.cheight=this.h.aheight-4;if(webix.AtomRender.render.call(this)){this.Rj=!0;this.Db&&this.Db();if(this.h.align){var a=this.l.firstChild;"top"==this.h.labelPosition&&a.nextSibling&&(a=a.nextSibling);switch(this.h.align){case "right":a.style.cssFloat=
"right";break;case "center":a.style.display="inline-block";a.parentNode.style.textAlign="center";break;case "middle":a.style.marginTop=Math.round((this.q-this.If)/2)+"px";break;case "bottom":a.style.marginTop=this.q-this.If+"px";break;case "left":a.style.cssFloat="left"}}this.Ib&&this.Ib(this.data);this.rb&&(this.rb(this.data),this.rb=0);this.ib!=this.h.value&&this.Vg(this.h.value)}},refresh:function(){this.render()},on_click:{xi:function(a,b){var c=webix.html.locate(a,"button_id");c&&this.callEvent("onBeforeTabClick",
[c,a])&&(this.setValue(c),this.callEvent("onAfterTabClick",[c,a]))},webix_all_segments:function(a,b){this.on_click.xi.call(this,a,b)},webix_all_tabs:function(a,b){this.on_click.xi.call(this,a,b)},webix_inp_counter_next:function(a,b,c){this.next(this.h.step,this.h.min,this.h.max)},webix_inp_counter_prev:function(a,b,c){this.prev(this.h.step,this.h.min,this.h.max)},webix_inp_combo:function(a,b,c){c.focus()},webix_inp_checkbox_border:function(a,b,c){this.toggle()},webix_inp_checkbox_label:function(a,
b,c){this.toggle()},webix_inp_radio_border:function(a,b,c){a=webix.html.locate(a,"radio_id");this.setValue(a)},webix_inp_radio_label:function(a,b,c){c=c.parentNode.getElementsByTagName("input")[0];return this.on_click.webix_inp_radio_border.call(this,c,b,c)}},Dc:function(a){for(var b=0;b<a.length;b++)"string"==typeof a[b]?a[b]={id:a[b],value:a[b]}:(a[b].id||(a[b].id=a[b].value),a[b].value||(a[b].value=a[b].id));return a}},webix.ui.view,webix.AtomRender,webix.Settings,webix.EventSystem);
webix.protoUI({name:"label",defaults:{template:"<div>#label#</div>",height:webix.skin.inputHeight-10-2*webix.skin.inputPadding},focus:function(){return!1},Lc:function(){return this.l.firstChild},da:function(a){this.h.label=a;this.l.firstChild.innerHTML=a},Db:function(){}},webix.ui.button);webix.protoUI({name:"icon",defaults:{template:"<span class='webix_icon_button icon-#icon# '></span>",width:33},Db:function(){}},webix.ui.button);
webix.protoUI({name:"text",$formElement:!0,Jb:!0,Qi:webix.skin.labelTopHeight||15,lo:function(){this.Jb&&(webix.event(this.getInput(),"change",function(){var a=this.getValue();a!=this.h.value&&this.setValue(this.getValue(),!0)},this),this.h.suggest&&webix.ui.get(this.h.suggest).linkInput(this))},$init:function(a){"top"==a.labelPosition&&webix.isUndefined(a.height)&&(a.height=this.defaults.height+this.Qi);this.attachEvent("onAfterRender",this.lo)},$setSize:function(a,b){if(webix.ui.view.prototype.$setSize.call(this,
a,b)){var c=this.h;"top"==c.labelPosition&&(c.inputHeight=this.q-this.Qi,c.labelWidth=0);this.render()}},mc:function(a){a=(this.Ud||0)-(a.label?this.h.labelWidth:0)-2*webix.skin.inputPadding;return 0>a?0:a},pg:function(a,b){var c=a.id||webix.uid(),d=b.mc(a),e=a.inputAlign||"left",f=this.lc?this.lc(a):"",d="<div class='webix_inp_static' tabindex='0' onclick='' style='width: "+d+"px; text-align: "+e+";' >"+(a.text||a.value||"")+f+"</div>";return b.Na(a,d,0,c)},Na:function(a,b,c,d,e){var f=a.inputAlign||
"left",g=a.labelAlign||"left",h=(c="top"==this.h.labelPosition)?"display:block;":"width: "+this.h.labelWidth+"px;";d=d||a.name||webix.uid();var i="";a.label&&(i="<label style='"+h+"text-align: "+g+";' onclick='' for='"+d+"' class='webix_inp_"+(c?"top_":"")+"label'>"+(a.label||"")+"</label>");g="";if(b)g+=b;else{b=this.mc(a);g+="<input id='"+d+"' type='"+(a.type||this.name)+"' value='"+(a.value||"")+"' "+(e||a.readonly?"readonly='true' ":"")+(a.placeholder?"placeholder='"+a.placeholder+"' ":"")+" style='width: "+
b+"px; text-align: "+f+";'";if(a=this.h.attributes)for(var j in a)g+=" "+j+"='"+a[j]+"'";g+=" />"}g+="</div>";return c?i+"<div class='webix_el_box' style='width:"+this.h.awidth+"px; height:"+this.h.aheight+"px'>"+g+"</div>":"<div class='webix_el_box' style='width:"+this.h.awidth+"px; height:"+this.h.aheight+"px'>"+i+g+"</div>"},defaults:{template:function(a,b){return b.Na(a)},label:"",labelWidth:80},type_setter:function(a){return a},of:function(){return this.Lc().childNodes[1]},cr:function(){return this.Lc().childNodes[0]},
Db:!1,da:function(a){this.getInput().value=a},nb:function(){return this.getInput().value},suggest_setter:function(a){if(a){var b;if("string"==typeof a){var c=webix.ui.get(a);c?a=webix.ui.get(a):(b={},b.url=b.dataFeed=a)}else b=a[0]?{data:this.Dc(a)}:webix.extend({},a);b&&(webix.extend(b,{view:"suggest",type:"list"}),a=webix.ui(b));return a.h.id}return!1}},webix.ui.button);
webix.protoUI({name:"segmented",$formElement:!0,Jb:!1,defaults:{template:function(a,b){var c=a.options;b.Dc(c);var d=b.mc(a),e=webix.uid(),f="<div style='width:"+d+"px' class='webix_all_segments'>",d=a.optionWidth||Math.floor(d/c.length);a.value||(a.value=c[0].id);for(var g=0;g<c.length;g++)f+="<input type='button' style='width:"+(c[g].width||d)+"px' ",f+="class='"+(a.value==c[g].id?"webix_selected ":"")+"webix_segment_"+(g==c.length-1?"N":0<g?1:0)+"' button_id='"+c[g].id+"' value='"+c[g].value+"'>";
return b.Na(a,f+"</div>",0,e)}},da:function(a){this.refresh();this.h.multiview&&(a=webix.ui.get(a))&&a.show&&a.show()},getValue:function(){return this.h.value},getInput:function(){return null},optionIndex:function(a){for(var b=this.h.options,c=0;c<b.length;c++)if(b[c].id==a)return c;return-1},addOption:function(a,b,c,d){b=b||a;0>this.optionIndex(a)&&webix.PowerArray.insertAt.call(this.h.options,{id:a,value:b},d);c&&this.setValue(a)},removeOption:function(a,b){var c=this.optionIndex(a),d=this.h.options;
0<=c&&webix.PowerArray.removeAt.call(d,c);c=Math.min(c,d.length-1);if(0<=c)return this.setValue(d[c].id),d[c].id;this.h.value=-1;this.refresh()},Db:!1},webix.ui.text);webix.protoUI({name:"search",defaults:{type:"text"}},webix.ui.text);
webix.protoUI({name:"toggle",$formElement:!0,Jb:!0,$init:function(){this.attachEvent("onItemClick",function(){this.toggle()})},da:function(a){a!=this.he&&(this.h.value=this.he=a&&"0"!==a,this.render())},toggle:function(){this.setValue(!this.getValue())},getValue:function(){var a=this.h.value;return!a||"0"==a?0:1},defaults:{template:function(a,b){var c=b.he?" webix_pressed":"";a.label=(b.he?a.onLabel:a.offLabel)||a.label;a.icon=(b.he?a.onIcon:a.offIcon)||a.icon;return"<div class='webix_el_box"+c+"'>"+
b.Hf(a,b)+"</div>"}},Db:!1},webix.ui.button);webix.protoUI({name:"select",defaults:{template:function(a,b){for(var c=b.Dc(a.options),d=a.name||"x"+webix.uid(),e="<select id='"+d+"' style='width:"+b.mc(a)+"px;'>",f=0;f<c.length;f++)e+="<option"+(c[f].id==a.value?" selected='true'":"")+" value='"+c[f].id+"'>"+c[f].value+"</option>";return b.Na(a,e+"</select>",0,d)}},getInput:function(){return this.l.getElementsByTagName("select")[0]}},webix.ui.text);
webix.protoUI({name:"textarea",defaults:{template:function(a,b){var c=a.name||a.id,d="x"+webix.uid(),e="<textarea style='width:"+b.mc(a)+"px;'",e=e+("' id='"+d+"' name='"+c+"' class='webix_inp_textarea' placeholder='"+(a.placeholder||"")+"' style='' "+(a.readonly?"readonly='true' ":"")+">"+(a.value||"")+"</textarea>");return b.Na(a,e,0,d)},height:60},getInput:function(){return this.l.getElementsByTagName("textarea")[0]}},webix.ui.text);
webix.protoUI({name:"counter",defaults:{template:function(a,b){var c=a.value||0,d=a.name||"x"+webix.uid(),e="<div class='webix_el_group' style='width:"+b.mc(a)+"px'>",e=e+"<input type='button' class='webix_inp_counter_prev' value='-' />"+("<input type='text' class='webix_inp_counter_value' value='"+c+"'></input>"),e=e+("<input id='"+d+"' type='button' class='webix_inp_counter_next' value='+'/><div>");return b.Na(a,e,0,d)},min:0,step:1},da:function(a){this.getInput().value=a},getInput:function(){return this.l.getElementsByTagName("input")[1]},
getValue:function(a){return 1*(this.h.value||0)},of:function(){return null},next:function(a,b,c){this.Gk(a||1,b,c)},prev:function(a,b,c){this.Gk(-1*(a||1),b,c)},Gk:function(a,b,c){b="undefined"==typeof b?-Infinity:b;c="undefined"==typeof c?Infinity:c;a=this.getValue()+a;a>=b&&a<=c&&this.setValue(a)}},webix.ui.text);
webix.protoUI({name:"checkbox",defaults:{template:function(a,b){var c=a.name||"x"+webix.uid(),d="";a.labelRight&&(d="<label class='webix_label_right'>"+a.labelRight+"</label>",a.label=a.label||"&nbsp;");d="<div class='webix_inp_checkbox_border webix_el_group'><input id='"+c+"' type='checkbox' "+(a.value?"checked='1'":"")+"/>"+d+"</div>";return b.Na(a,d,0,c)}},da:function(a){this.getInput().checked=a&&"0"!==a},toggle:function(){this.setValue(!this.getValue())},getValue:function(){var a=this.h.value;
return!a||"0"==a?0:1},of:function(){return null}},webix.ui.text);
webix.protoUI({name:"radio",defaults:{template:function(a,b){for(var c=b.Dc(a.options),d=[],e=0;e<c.length;e++){var f="x"+webix.uid(),g=g||f;e&&(c[e].newline||a.vertical)&&d.push("<div class='webix_line_break'></div>");var h="<div radio_id='"+c[e].id+"' class='webix_inp_radio_border'><input name='"+a.name+"' type='radio' "+(c[e].id==a.value?"checked='1'":"")+" value='"+c[e].id+"' id='"+f+"' /></div>",i=c[e].value||"";i&&(i="<label for='"+f+"' class='webix_label_right'>"+i+"</label>");d.push(h+i)}d=
"<div class='webix_el_group' style='margin-left:"+(a.label?a.labelWidth:0)+"px;'>"+d.join("")+"</div>";return b.Na(a,d,0,g)}},$getSize:function(a,b){var c=webix.ui.button.prototype.$getSize.call(this,a,b);if(this.h.options){for(var d=1,e=0;e<this.h.options.length;e++)(this.h.vertical||this.h.options[e].newline)&&d++;c[3]=c[2]=Math.max(c[2],this.defaults.height*d)}return c},Bn:function(){return this.l.getElementsByTagName("input")},da:function(a){for(var b=this.Bn(),c=0;c<b.length;c++)b[c].className=
b[c].parentNode.getAttribute("radio_id")==a?"webix_inp_radio_on":"webix_inp_radio_on webix_hidden"},getValue:function(a){return this.h.value}},webix.ui.text);
webix.protoUI({name:"richselect",$formElement:!0,defaults:{template:function(a,b){return b.pg(a,b)},popupWidth:200,icon:"down-open"},suggest_setter:function(a){return this.options_setter(a)},options_setter:function(a){return this.h.popup=this.h.suggest=webix.ui.text.prototype.suggest_setter.call(this,a)},lc:function(){return this.h.icon?"<span class='webix_input_icon icon-"+this.h.icon+"'></span>":""},Ib:function(a){if(!webix.isUndefined(a.value)){this.da(a.value);var b=this.getPopupView();b.exists(this.h.value)&&
b.select(this.h.value);b.data.attachEvent("onstoreupdated",webix.bind(function(){b.exists(this.h.value)&&(this.da(this.h.value),b.select(this.h.value))},this))}},getInput:function(){return this.l.getElementsByTagName("DIV")[1]},getPopupView:function(){return this.getPopup().getChildViews()[0]},getPopup:function(){return webix.ui.get(this.h.popup)},da:function(a){var b=this.getPopupView(),c=b.item(a),d="";c&&(d=b.type.template(c,b.type));this.h.value=a;this.h.text=d;"combo"==this.name?this.getInput().value=
d.replace(/<[^>]*>/g,""):this.getInput().innerHTML=d+this.lc()},getValue:function(){return this.h.value}},webix.ui.text);webix.protoUI({name:"combo",$init:function(){this.attachEvent("onBlur",function(){this.da(this.getValue())})},getInput:function(){return this.l.getElementsByTagName("input")[0]},defaults:{template:function(a,b){return b.Na(a)}}},webix.ui.richselect);
webix.protoUI({name:"datepicker",$init:function(){this.$ready.push(this.Ef)},defaults:{template:function(a,b){return b.pg(a,b)},stringResult:!1,icon:"calendar-alt"},lc:function(){return this.h.icon?"<span class='webix_input_icon icon-"+this.h.icon+"'></span>":""},Ef:function(){var a=this.h;a.suggest?a.popup=a.suggest:a.popup||(a.popup=a.suggest=this.suggest_setter({type:"calendar",height:220,width:250}));this.rb=function(){}},Ib:function(a){webix.isUndefined(a.value)||this.setValue(a.value,{},a)},
da:function(a){var b=webix.ui.get(this.h.popup.toString()),b=b.n;"string"==typeof a&&a&&(a=webix.i18n.parseFormatDate(a));b.selectDate(a,!0);this.h.value=a?b.config.date:"";this.h.text=a?(this.h.format||webix.i18n.parseFormatStr)(this.h.value):"";this.getInput().innerHTML=this.h.text+this.lc()},format_setter:function(a){return webix.Date.dateToStr(a)},getInput:function(){return this.l.getElementsByTagName("DIV")[1]},getValue:function(){return this.h.stringResult&&"string"!=typeof this.h.value?this.h.value?
webix.i18n.parseFormatStr(this.h.value):"":this.h.value||null}},webix.ui.text);
webix.protoUI({name:"colorpicker",$init:function(){this.$ready.push(this.Ef)},defaults:{template:function(a,b){return b.pg(a,b)},icon:"feather"},Ef:function(){var a=this.h;a.suggest?a.popup=a.suggest:a.popup||(a.popup=a.suggest=this.suggest_setter({type:"colorboard",height:200}));this.rb=function(){}},Ib:function(a){webix.isUndefined(a.value)||this.setValue(a.value,{},a)},da:function(a){var b=webix.ui.get(this.h.popup.toString()),b=b.n;b.setValue(a);this.h.value=a;this.getInput().innerHTML=this.h.value+
this.lc()}},webix.ui.datepicker);
webix.RenderStack={$init:function(){this.V=document.createElement("DIV");this.data.attachEvent("onIdChange",webix.bind(this.og,this));this.attachEvent("onItemClick",this.Ll);this.types||(this.types={"default":this.type},this.type.name="default");this.type=webix.clone(this.type)},customize:function(a){webix.Type(this,a)},type_setter:function(a){this.types[a]?(this.type=webix.clone(this.types[a]),this.type.css&&(this.m.className+=" "+this.type.css)):this.customize(a);this.type.on_click&&webix.extend(this.on_click,
this.type.on_click);return a},template_setter:function(a){this.type.template=webix.Template(a)},ha:function(a){var b=this.data.S[a.id];this.callEvent("onItemRender",[a]);return this.type.templateStart(a,this.type,b)+(a.$template?this.type["template"+a.$template]:this.type.template)(a,this.type,b)+this.type.templateEnd(a,this.type,b)},uc:function(a){this.V.innerHTML=this.ha(a);return this.V.firstChild},og:function(a,b){var c=this.D(a);c&&(c.setAttribute(this.I,b),this.s[b]=this.s[a],delete this.s[a])},
Ll:function(){if(this.h.click){var a=webix.toFunctor(this.h.click);a&&a.call&&a.apply(this,arguments)}},D:function(a){if(this.s)return this.s[a];this.s={};for(var b=this.l.childNodes,c=0;c<b.length;c++){var d=b[c].getAttribute(this.I);d&&(this.s[d]=b[c])}return this.D(a)},locate:function(a){return webix.html.locate(a,this.I)},showItem:function(a){var b=this.D(a);if(b&&this.scrollTo){var c=b.offsetLeft,d=c+b.offsetWidth,e=b.offsetTop,b=e+b.offsetHeight,f=this.scrollState(),g=f.x;if(g>c||g+this.p<d)g=
c;c=f.y;if(c>e||c+this.q<b)c=e;this.scrollTo(g,c);this.Xp&&this.Xp(a)}},render:function(a,b,c){if(this.isVisible(this.h.id)&&!this.$blockRender)if(a){var d=this.D(a);switch(c){case "paint":case "update":if(!d)break;b=this.s[a]=this.uc(b);webix.html.insertBefore(b,d);webix.html.remove(d);break;case "delete":if(!d)break;webix.html.remove(d);delete this.s[a];break;case "add":b=this.s[a]=this.uc(b);webix.html.insertBefore(b,this.D(this.data.next(a)),this.l);break;case "move":this.render(a,b,"delete"),
this.render(a,b,"add")}}else this.callEvent("onBeforeRender",[this.data])&&((this.kr||this.l).innerHTML=this.data.getRange().map(this.ha,this).join(""),this.s=null,this.callEvent("onAfterRender",[]))}};
webix.protoUI({defaults:{size:10,page:0,group:5,template:"{common.pages()}",maxWidth:1E5,height:24,borderless:!0},name:"pager",on_click:{webix_pager_item:function(a,b){this.select(b)}},$init:function(a){this.data=this.h;this.l=this.i},select:function(a){if(this.$master&&"pager"==this.$master.name)return this.$master.select(a);switch(a){case "next":a=this.h.page+1;break;case "prev":a=this.h.page-1;break;case "first":a=0;break;case "last":a=this.h.limit-1}0>a&&(a=0);a>=this.data.limit&&(a=this.data.limit-
1);var b=this.data.page;this.data.page=1*a;this.refresh()&&(!this.h.animate||!this.Wg(b,1*a,this.h.animate))&&this.$master.refresh()},I:"webix_p_id",template_setter:webix.Template,type:{template:function(a,b){return a.template.call(this,a,b)},pages:function(a){var b="";if(-1==a.page)return"";a.$min=a.page-Math.round((a.group-1)/2);a.$max=a.$min+a.group-1;0>a.$min&&(a.$max+=-1*a.$min,a.$min=0);a.$max>=a.limit&&(a.$min-=Math.min(a.$min,a.$max-a.limit+1),a.$max=a.limit-1);for(var c=a.$min||0;c<=a.$max;c++)b+=
this.button({id:c,index:c+1,selected:c==a.page?"_selected":""});return b},page:function(a){return a.page+1},first:function(){return this.button({id:"first",index:webix.locale.pager.first,selected:""})},last:function(){return this.button({id:"last",index:webix.locale.pager.last,selected:""})},prev:function(){return this.button({id:"prev",index:webix.locale.pager.prev,selected:""})},next:function(){return this.button({id:"next",index:webix.locale.pager.next,selected:""})},button:webix.Template("<div webix_p_id='{obj.id}' class='webix_pager_item{obj.selected}'>{obj.index}</div>")},
clone:function(a){a.$view||(a.view="pager",a=webix.ui(a));this.Ad=a;a.$master=this;this.Gj()},refresh:function(){var a=this.h;if(a.count){a.limit=Math.ceil(a.count/a.size);a.page=Math.min(a.limit-1,a.page);var b=a.page;if(0<=b&&b!=a.old_page||a.limit!=a.old_limit)return this.render(),this.Gj(),a.old_limit=a.limit,a.old_page=a.page,!0}},apiOnly_setter:function(a){return this.$apiOnly=a},Gj:function(){this.Ad&&(this.Ad.h.count=this.h.count,this.Ad.h.page=this.h.page,this.Ad.refresh())},Wg:function(a,
b,c){if(a==b)return!1;if(this.yj)return this.xj&&window.clearTimeout(this.xj),this.xj=webix.delay(this.Wg,this,[a,b,c],100);var d=b>a?"left":"right";if("top"==c.direction||"bottom"==c.direction)d=b>a?"top":"bottom";c.flip&&(d="");var e=a=0;b=this.$master.l;this.$master.o&&(b=this.$master.o,e=this.$master.M,e.style.position="relative",e.style.zIndex="10",a=b.offsetTop);var f=b.cloneNode(!0);f.style.width=b.style.width="100%";f.style.backgroundColor=b.style.backgroundColor="white";this.$master.refresh();
b.parentNode.appendChild(f);var g;c=!0!==c?c:{};var h=webix.extend(c,{direction:d,callback:webix.bind(function(){h.callback=null;webix.animate.breakLine(g);this.yj=!1;e&&(e.style.position="")},this),top:a},!0);g=webix.animate.formLine(b,f,h);webix.animate([b,f],h);this.yj=!0}},webix.MouseEvents,webix.SingleRender,webix.ui.view);webix.locale.pager={first:" &lt;&lt; ",last:" &gt;&gt; ",next:" &gt; ",prev:" &lt; "};
webix.PagingAbility={pager_setter:function(a){function b(c){if(a.config.autosize&&this.getVisibleCount){var e=this.getVisibleCount();isNaN(e)?(a.config.size=1,webix.delay(b,this,[!0])):e!=a.config.size&&(a.config.size=e,a.refresh(),!0===c&&this.refresh())}c=this.h.pager;if(-1==c.page)return!1;this.data.$min=c.page*c.size;this.data.$pagesize=c.size;this.data.$max=(c.page+1)*c.size-1;return!0}if("string"==typeof a){var c=$$(a);if(!c)return this.$blockRender=!0,webix.delay(function(){var b=$$(a);this.h.pager=
this.pager_setter(b);b.h.count=this.dataCount();b.refresh();this.$blockRender=!1;this.render()},this),null;a=c}this.attachEvent("onBeforeRender",b);a.$view||(a.view="pager",a=webix.ui(a));this.ee=a;a.$master=this;this.data.attachEvent("onStoreUpdated",function(){a.h.count=this.dataCount();a.refresh()});return a.h},setPage:function(a){this.ee&&this.ee.select(a)},getPage:function(){return this.ee.h.page},getPager:function(){return this.ee}};
webix.protoUI({name:"tooltip",defaults:{type:"default",dy:0,dx:20},$init:function(a){this.type=webix.extend({},this.type);this.l=this.m=document.createElement("DIV");this.m.className="webix_tooltip";webix.html.insertBefore(this.m,document.body.firstChild)},isVisible:function(){return!0},show:function(a,b){this.Rb||(this.data!=a&&(this.data=webix.extend({},a),this.render(a)),this.l.firstChild&&(this.m.style.top=b.y+this.h.dy+"px",this.m.style.left=b.x+this.h.dx+"px",this.m.style.display="block"))},
hide:function(){this.data=null;this.m.style.display="none"},disable:function(){this.Rb=!0},enable:function(){this.Rb=!1},type:{template:webix.Template("{obj.id}"),templateStart:webix.Template.empty,templateEnd:webix.Template.empty}},webix.SingleRender,webix.Settings);
webix.AutoTooltip={tooltip_setter:function(a){var b=new webix.ui.tooltip(a);this.attachEvent("onMouseMove",function(a,d){webix.DragControl.active||b.show(this.item(a),webix.html.pos(d))});this.attachEvent("onMouseOut",function(a,d){b.hide()});this.attachEvent("onMouseMoving",function(a,d){b.hide()});return b}};
webix.ValidateData={$init:function(){this.Xa&&this.attachEvent("onChange",this.clearValidation)},clearValidation:function(){if(this.elements)for(var a in this.elements)this.Da(a)},validate:function(a){this.callEvent("onBeforeValidate",[]);this.xc={};var b=!0,c=this.h.rules;if(c){!a&&this.getValues&&(a=this.getValues());c.$obj&&(b=this.De(c.$obj,a,a,"")&&b);var d=c.$all;if(d)for(var e in a)b=this.De(d,a[e],a,e)&&b;for(e in c)0!==e.indexOf("$")&&((d=this.De(c[e],a[e],a,e))||(this.xc[e]=!0),b=d&&b)}this.callEvent("onAfterValidation",
[b,this.xc]);return b},De:function(a,b,c,d){if(a.call(this,b,c,d))return this.callEvent("onValidationSuccess",[d,c])&&this.Da&&this.Da(d,c),!0;this.callEvent("onValidationError",[d,c])&&this.fc&&this.fc(d,c);return!1}};
webix.ValidateCollection={fl:function(){this.data.attachEvent("onStoreUpdated",webix.bind(function(a,b,c){a&&("add"==c||"update"==c)&&this.validate(a)},this));this.attachEvent("onClearAll",this.clearValidation);this.fl=function(){}},rules_setter:function(a){a&&this.fl();return a},clearValidation:function(){this.data.clearMark("webix_invalid",!0)},validate:function(a){var b=!0;if(a){this.xc={};var c=this.item(a);(b=webix.ValidateData.validate.call(this,c))?this.callEvent("onValidationSuccess",[a,c])&&
this.Da(a):this.callEvent("onValidationError",[a,c,this.xc])&&this.fc(a,this.xc)}else for(c in this.data.pull)b=this.validate(c)&&b;return b},De:function(a,b,c,d){(a=a.call(this,b,c,d))||(this.xc[d]=!0);return a},Da:function(a){this.data.removeMark(a,"webix_invalid",!0)},fc:function(a,b){this.data.addMark(a,"webix_invalid",!0)}};webix.rules={isEmail:function(a){return/^[^@]+@[^@]+\.[^@]+$/.test(a.toString())},isNumber:function(a){return parseFloat(a)==a},isNotEmpty:function(a){return 0===a||a}};
webix.protoUI({name:"proto",$init:function(){this.data.provideApi(this,!0);this.l=this.l||this.m;this.data.attachEvent("onStoreUpdated",webix.bind(function(){this.render.apply(this,arguments)},this))},$setSize:function(){webix.ui.view.prototype.$setSize.apply(this,arguments)&&this.render()},I:"webix_item",on_mouse_move:{}},webix.PagingAbility,webix.AutoTooltip,webix.ValidateCollection,webix.RenderStack,webix.DataLoader,webix.ui.view,webix.EventSystem,webix.Settings);
webix.Values={$init:function(){this.elements={}},focus:function(a){a=a?this.elements[a]:this.first();a.focus&&a.focus()},setValues:function(a,b){this.Jf=b;this.oo(a,b);this.callEvent("onChange",[])},oo:function(a,b){this.Aa=b?webix.extend(this.getValues(),a,!0):webix.copy(a);for(var c in this.elements){var d=this.elements[c];d&&(webix.isUndefined(this.Aa[c])?d.Jb&&d.setValue(""):d.setValue(this.Aa[c]))}},isDirty:function(){if(this.Jf)return!0;if(this.Aa)for(var a in this.elements)if(this.Aa[a]!=this.elements[a].getValue())return!0;
return!1},setDirty:function(a){this.Jf=a;a||(this.Aa=this.getValues())},getValues:function(){var a=this.Aa?webix.copy(this.Aa):{},b;for(b in this.elements)a[b]=this.elements[b].getValue();return a},clear:function(){this.Jf=!1;var a={},b;for(b in this.elements)this.elements[b].Jb&&(a[b]=this.elements[b].h.defaultValue||"");this.setValues(a)},ce:function(a,b,c){var d=this.data.driver,e=d.toObject(a,b);e?(b=d.getRecords(e)[0],this.setValues(d?d.getDetails(b):a)):this.Wc(a,b,c);this.callEvent("onXLE",
[])},fc:function(a,b){a&&(this.Da(a,b),webix.html.addCss(this.elements[a].i,"webix_invalid"))},Da:function(a,b){a&&this.elements[a].l.firstChild&&webix.html.removeCss(this.elements[a].i,"webix_invalid")}};
webix.protoUI({name:"toolbar",defaults:{type:"toolbar"},ke:!0,ii:"webix_toolbar",ji:!1,$init:function(a){a.borderless||(this.m.style.borderWidth="1px");this.ub(a);this.$ready.push(function(){for(var a in this.elements){var c=this.elements[a];c.mapEvent&&c.mapEvent({onbeforetabclick:webix.Yc,onaftertabclick:webix.Yc,onitemclick:webix.Yc})}webix.$f=webix.Yc=null})},ub:function(a){this.m.className+=" "+this.ii;a.elements&&(this.Ea=a.elements,this.v=this.ji,a.elementsConfig&&this.Ej(a.elements,a.elementsConfig));
delete a.elements;webix.$f=webix.Yc=this},Ej:function(a,b){for(var c=0;c<a.length;c++){var d=a[c];webix.extend(d,b);(d=d.rows||d.cols||d.cells)&&this.Ej(d,b)}},$getSize:function(a,b){var c=webix.ui.layout.prototype.$getSize.call(this,a,b),d=this.getParent(),e=this.v?3:1;d&&this.v!=d.v&&(c[e]+=1E5);return c},render:function(){},refresh:function(){this.render()}},webix.Scrollable,webix.AtomDataLoader,webix.Values,webix.ui.layout,webix.ValidateData,webix.EventSystem);
webix.TreeRenderStack={$init:function(){},Tk:function(a){var b=this.data.S[a.id];this.callEvent("onItemRender",[a]);return this.type.templateStart(a,this.type,b)+(a.$template?this.type["template"+a.$template](a,this.type,b):this.type.template(a,this.type,b))+this.type.templateEnd()},Bq:function(a){this.V.innerHTML=this.Tk(a);return this.V.firstChild},ha:function(a){var b="<div class='webix_tree_branch_"+a.$level+"'>"+this.Tk(a);a.open&&(-1==a.$count&&this.loadBranch(a.id),b+=this.Uk(a.id));return b+
"</div>"},Uk:function(a){var b="";if(a=this.data.branch[a]){for(var b=b+"<div class='webix_tree_leaves'>",c=a.length-1,d=0;d<=c;d++){var e=this.item(a[d]);this.type.Ae[e.$level]=d==c;b+=this.ha(e)}b+="</div>"}return b},render:function(a,b,c){webix.TreeRenderStack.X=this;if(this.isVisible(this.h.id)&&!this.$blockRender){if(a){var d=this.item(a);if("add"!=c){var e=this.D(a);if(!e)return}switch(c){case "branch":e=e.parentNode;d=this.uc(d);webix.html.insertBefore(d,e);webix.html.remove(e);this.s=null;
break;case "paint":case "update":d=this.s[a]=this.Bq(d);webix.html.insertBefore(d,e);webix.html.remove(e);break;case "delete":webix.html.remove(e.parentNode);break;case "add":0==d.$parent?e=this.l.firstChild:(e=this.D(d.$parent),e=e.nextSibling);if(e){var f=this.data.nextSibling(a);if(f=this.D(f))f=f.parentNode;d=this.uc(d);this.s[a]=d.firstChild;webix.html.insertBefore(d,f,e)}break;default:return!1}this.callEvent("onPartialRender",[a,b,c])}else this.callEvent("onBeforeRender",[this.data])&&(this.type.Ae=
[],this.l.innerHTML=this.Uk(0),this.s=null,this.callEvent("onAfterRender",[]));this.type.Ae=0;webix.TreeRenderStack.X=null;return!0}},D:function(a){if(this.s)return this.s[a];this.s={};for(var b=this.l.getElementsByTagName("DIV"),c=0;c<b.length;c++){var d=b[c].getAttribute(this.I);d&&(this.s[d]=b[c])}return this.D(a)},Ob:function(a){a=webix.EditAbility.Ob.call(this,a);a.left+=36;a.width-=36;return a}};
webix.SelectionModel={$init:function(){this.C=webix.toArray();this.data.attachEvent("onStoreUpdated",webix.bind(this.af,this));this.data.attachEvent("onStoreLoad",webix.bind(this.rm,this));this.data.attachEvent("onAfterFilter",webix.bind(this.$e,this));this.data.attachEvent("onIdChange",webix.bind(this.Cf,this))},Cf:function(a,b){for(var c=this.C.length-1;0<=c;c--)this.C[c]==a&&(this.C[c]=b)},$e:function(){for(var a=this.C.length-1;0<=a;a--)if(0>this.data.indexById(this.C[a])){var b=this.C[a];this.removeMark(b,
"webix_selected",-1);this.C.splice(a,1);this.callEvent("onSelectChange",[b])}},af:function(a,b,c){"delete"==c?this.C.remove(a):!this.data.dataCount()&&!this.data.H&&(this.C=webix.toArray())},rm:function(){this.h.select&&this.data.each(function(a){a.$selected&&this.select(a.id)},this)},re:function(a,b,c){if(!c&&!this.callEvent("onBeforeSelect",[a,b]))return!1;b?this.data.addMark(a,"webix_selected",-1):this.data.removeMark(a,"webix_selected",-1);c?c.push(a):(b?this.C.push(a):this.C.remove(a),this.ig(a));
return!0},select:function(a,b,c){if(!a)return this.selectAll();if(webix.isArray(a))for(var d=0;d<a.length;d++)this.select(a[d],b,c);else{if(c&&this.C.length)return this.selectAll(this.C[this.C.length-1],a);if(!b&&(1!=this.C.length||this.C[0]!=a))this.za=!0,this.unselectAll(),this.za=!1;this.isSelected(a)?b&&this.unselect(a):this.re(a,!0)&&this.callEvent("onAfterSelect",[a])}},unselect:function(a){if(!a)return this.unselectAll();this.isSelected(a)&&this.re(a,!1)},selectAll:function(a,b){var c,d=[];
c=a||b?this.data.getRange(a||null,b||null):this.data.getRange();c.each(function(a){this.data.getMark(a.id,"webix_selected")||(this.C.push(a.id),this.re(a.id,!0,d))},this);this.ig(d)},unselectAll:function(){var a=[];this.C.each(function(b){this.re(b,!1,a)},this);this.C=webix.toArray();this.ig(a)},isSelected:function(a){return-1!=this.C.find(a)},getSelected:function(a){switch(this.C.length){case 0:return a?[]:"";case 1:return a?[this.C[0]]:this.C[0];default:return[].concat(this.C)}},so:function(a){return 100<
a.length||a.length>this.data.dataCount/2},ig:function(a){"object"!=typeof a&&(a=[a]);if(a.length){if(this.so(a))this.data.refresh();else for(var b=0;b<a.length;b++)this.render(a[b],this.data.item(a[b]),"update");this.za||this.callEvent("onSelectChange",[a])}}};
webix.TreeDataMove={$init:function(){},copy:function(a,b,c,d){d=d||{};d.copy=!0;return this.move(a,b,c,d)},Xf:function(a,b,c){if(b&&a)return a=this.branchIndex(a),a+(c==this&&c.branchIndex(b)<a?0:1)},move:function(a,b,c,d){d=d||{};b=b||0;var e=d.newId||a,f=d.parent||0;c=c||this;if(c.data)if(webix.isArray(a))for(e=0;e<a.length;e++)b=this.move(a[e],b,c,d),b=c.Xf(b,a[e+1],this);else{if(this!=c||d.copy)e=c.data.add(c.Tb(this.item(a),e),b,f||0),this.data.branch[a]&&c.branchIndex&&(b=this.data.xb,this.data.xb=
function(a){a=webix.copy(a);delete a.$parent;delete a.$level;delete a.$child;c.data.pull[a.id]&&(a.id=webix.uid());return a},f={data:this.serialize(a),parent:e},this.data.xb=b,c.parse(f)),d.copy||this.data.remove(a);else{if(a==f||this.hasChild(a,f))return;d=this.item(a);var g=this.data.branch[f]||[],h=this.data.branch[d.$parent],i=webix.PowerArray.find.call(h,a);if(h===g){if(b===i)return;i>b&&i++}g=g.slice(0,b).concat([a]).concat(g.slice(b));this.data.branch[f]=g;h=this.data.branch[d.$parent];webix.PowerArray.removeAt.call(h,
i);d.$parent&&"0"!=d.$parent&&this.item(d.$parent).$count--;f&&"0"!=f?(a=c.item(f),a.$count++,this.Ag(d,a.$level+1)):this.Ag(d,1);d.$parent=f}this.refresh();return e}},Ag:function(a,b){a.$level=b;var c=this.data.branch[a.id];if(c)for(var d=0;d<c.length;d++)this.Ag(this.item(c[d]),b+1)},Lh:function(a){this.open(a)},$dropAllow:function(a){if(a.from!=a.to)return!0;for(var b=0;b<a.source.length;b++)if(a.source==a.target||this.hasChild(a.source,a.target))return!1;return!0},Tb:function(a,b){var c=webix.DataMove.Tb.call(this,
a,b);delete c.open;return c}};
webix.TreeDataLoader={$init:function(){this.$ready.unshift(this.no)},Yh:function(a,b,c){b=this.data.url;this.load(b+(-1==b.indexOf("?")?"?":"&")+(this.dataCount()?"continue=true&":"")+"parent="+encodeURIComponent(a),[this.Xh,c])},loadBranch:function(a,b,c){a=a||0;this.data.url=this.data.url||c;this.callEvent("onDataRequest",[a,b,c])&&this.data.url&&this.data.feed.call(this,a,0,b)},loadNext:function(a,b,c,d,e){},no:function(){this.data.attachEvent("onStoreUpdated",webix.bind(this.Qk,this));this.Qk()},
Qk:function(a,b,c){(!c||"add"==c||"delete"==c||"branch"==c)&&this.data.uq(this)}};
webix.TreeStore={name:"TreeStore",$init:function(){this.kf={showSubItems:!0};this.branch={"0":[]};this.attachEvent("onParse",function(a,b){this.aq(a.child);a.getInfo(b)})},filterMode_setter:function(a){return webix.extend(this.kf,a,!0)},bi:function(a){if(this.Jd&&!a){this.branch=this.Jd;this.order=webix.copy(this.branch[0]);for(var b in this.branch)"0"!=b&&(this.item(b).$count=this.branch[b].length);delete this.Jd}},ai:function(a,b,c,d){if(!c||!this.Jd)this.Jd=this.branch,this.branch=webix.clone(this.branch);
this.branch[0]=this.$h(a,b,this.branch[0],1,d||{})},$h:function(a,b,c,d,e){for(var f=[],g=e.level&&e.level!=d,h=0;h<c.length;h++){var i=c[h],j=this.item(i),k=!1,l=this.branch[i];if(g)k=!0;else if(a(this.item(i),b)){if(f.push(i),e.level||e.showSubItems)continue}else k=!0;if((g||!e.level)&&l)l=this.branch[i]=this.$h(a,b,l,d+1,e),j.$count=l.length,k&&l.length&&f.push(i)}return f},dataCount:function(){if(this.order.length)return this.order.length;var a=0;this.eachOpen(function(){a++});return a},changeId:function(a,
b){if(this.branch[a]){for(var c=this.branch[b]=this.branch[a],d=0;d<c.length;d++)this.item(c[d]).$parent=b;delete this.branch[a]}c=this.item(a).$parent;"0"!==c&&(d=webix.PowerArray.find.call(this.branch[c],a),this.branch[c][d]=b);return webix.DataStore.prototype.changeId.call(this,a,b)},clearAll:function(){this.branch={"0":[]};webix.DataStore.prototype.clearAll.call(this)},prevSibling:function(a){var b=this.branch[this.item(a).$parent];a=webix.PowerArray.find.call(b,a)-1;return 0<=a?b[a]:null},nextSibling:function(a){var b=
this.branch[this.item(a).$parent];a=webix.PowerArray.find.call(b,a)+1;return a<b.length?b[a]:null},parentId:function(a){return this.item(a).$parent},firstChild:function(a){return(a=this.branch[a])&&a.length?a[0]:null},hasChild:function(a,b){var c=this.branch[a];if(c&&c.length)for(var d=0;d<c.length;d++)if(c[d]==b||this.hasChild(c[d],b))return!0;return!1},branchIndex:function(a){var b=this.branch[this.pull[a].$parent];return webix.PowerArray.find.call(b,a)},aq:function(a){this.sm="string"==typeof a?
function(b){var c=b[a];c&&delete b[a];return c}:a},Ni:function(a,b){for(var c=a.vj||0,d=0;d<b.length;d++){var e=this.driver.getDetails(b[d]),f=this.id(e);this.pull[f]=e;this.Pa&&this.Pa(e);this.Wh(e,c)}c&&"0"!==c&&(this.pull[c].$count=b.length)},Wh:function(a,b,c){a.$parent=b||0;a.$level=c||("0"!=b?this.pull[b].$level+1:1);this.branch[a.$parent]||(this.branch[a.$parent]=[]);this.branch[a.$parent].push(a.id);b=this.sm(a);if(a.webix_kids)return a.$count=-1;if(!b)return a.$count=0;webix.isArray(b)||
(b=[b]);a.$count=b.length;for(c=0;c<b.length;c++){var d=webix.DataDriver.json.getDetails(b[c]);this.pull[this.id(d)]=d;this.Pa&&this.Pa(d);this.Wh(d,a.id,a.$level+1)}delete b},uq:function(a){this.order=webix.toArray();this.Ok(0,a)},Ok:function(a,b){for(var c=this.branch[a],d=0;d<c.length;d++){var e=c[d];this.order.push(e);this.pull[e].open&&(-1==this.pull[e].$count?b.loadBranch(e):this.pull[e].$count&&this.Ok(e))}},provideApi:function(a,b){for(var c="prevSibling nextSibling parentId firstChild hasChild branchIndex filterMode_setter".split(" "),
d=0;d<c.length;d++)a[c[d]]=this.bj(this,c[d]);webix.DataStore.prototype.provideApi.call(this,a,b)},getTopRange:function(){return webix.toArray([].concat(this.branch[0])).map(function(a){return this.item(a)},this)},eachChild:function(a,b,c){if(this.branch[a])return webix.PowerArray.each.call(this.branch[a],b,this)},each:function(a,b,c){this.eachChild(c||0,function(c){var e=this.item(c);a.call(b||this,e);e.$count&&this.each(a,b,c)})},eachOpen:function(a,b,c){this.eachChild(c||0,function(c){var e=this.item(c);
a.call(b||this,e);e.$count&&e.open&&this.eachOpen(a,b,c)})},eachSubItem:function(a,b){var c=this.branch[a||0];if(c)for(var d=0;d<c.length;d++){var e=c[d];this.branch[e]?(b.call(this,e,!0),this.eachSubItem(e,b)):b.call(this,e,!1)}},Ck:function(a){a=this.jd.vh(a);for(var b in this.branch){for(var c=this.branch[b],d=[],e=0;e<c.length;e++)d.push(this.pull[c[e]]);d.sort(a);for(e=0;e<c.length;e++)d[e]=d[e].id;this.branch[b]=d}},add:function(a,b,c){var d=!1;this.branch[c||0]=this.order=webix.toArray(this.branch[c||
0]);var e=this.item(c||0);e&&(e.$count||(d=!0),e.$count++);a.$count=0;a.$level=e?e.$level+1:1;a.$parent=e?e.id:0;a=webix.DataStore.prototype.add.call(this,a,b);d&&this.refresh(c);return a},remove:function(a){var b=this.item(a),b=b.$parent||0;if(this.item(a).$count)for(var c=webix.extend([],this.branch[a]),d=0;d<c.length;d++)this.remove(c[d]);delete this.branch[a];this.branch[b]=this.order=webix.toArray(this.branch[b]);b&&(b=this.item(b),b.$count--,b.$count||(b.open=0,this.refresh(b.id)));return webix.DataStore.prototype.remove.call(this,
a)},serialize:function(a){a=this.branch[a||0];for(var b=[],c=0;c<a.length;c++){var d=this.pull[a[c]];if(this.xb){var e=this.xb(d);if(!1===e)continue;d.$count&&(e.data=this.serialize(d.id));d=e}b.push(d)}return b},wf:function(a){a=webix.Template(a);for(var b=0,c=1,d={},e=[],f=this.branch[b],g=0;g<f.length;g++){var h=this.pull[f[g]],i=a.call(this,h),j=d[i];if(!j){var k=webix.uid(),j=this.pull[k]={id:k,$level:c,$parent:b,value:i,$count:0},j=d[i]={order:this.branch[k]=[],id:k,obj:j};e.push(k)}h.$level=
c+1;h.$parent=j.id;j.obj.$count+=1;j.order.push(h.id)}this.branch[b]=e}};
webix.TreeType={space:function(a,b){for(var c="",d=1;d<a.$level;d++)c+="<div class='webix_tree_none'></div>";return c},icon:function(a,b){return a.$count?1*a.open?"<div class='webix_tree_open'></div>":"<div class='webix_tree_close'></div>":"<div class='webix_tree_none'></div>"},checkbox:function(a,b){return a.nocheckbox?"":"<input type='checkbox' class='webix_tree_checkbox' "+(a.checked?"checked":"")+(a.disabled?" disabled":"")+">"},folder:function(a,b){return a.$count?a.open?"<div class='webix_tree_folder_open'></div>":
"<div class='webix_tree_folder'></div>":"<div class='webix_tree_file'></div>"}};
webix.TreeAPI={open:function(a){if(a){var b=this.item(a);b.$count&&this.callEvent("onBeforeOpen",[a])&&(b.open=!0,this.data.callEvent("onStoreUpdated",[a,0,"branch"]),this.callEvent("onAfterOpen",[a]))}},close:function(a){a&&this.callEvent("onBeforeClose",[a])&&(this.item(a).open=!1,this.data.callEvent("onStoreUpdated",[a,0,"branch"]),this.callEvent("onAfterClose",[a]))},openAll:function(a){this.data.eachSubItem(a||0,function(a,c){c&&(this.pull[a].open=!0)});this.data.refresh()},closeAll:function(a){this.data.eachSubItem(a||
0,function(a,c){c&&(this.pull[a].open=!1)});this.data.refresh()},Jg:function(a){if(this.h.threeState)return this.Kq(a,"");a=this.item(a);a.checked=!a.checked},isBranchOpen:function(a){if("0"==a)return!0;a=this.item(a);return a.open?this.isBranchOpen(a.$parent):!1},getOpenItems:function(){var a=[],b;for(b in this.data.branch)this.exists(b)&&this.item(b).open&&a.push(b);return a},getState:function(){return{open:this.getOpenItems(),select:this.getSelected(!0)}},Dp:function(a,b){var c=this.data.attachEvent("onStoreLoad",
function(){a.setState.call(a,b);a.data.detachEvent(c);a=null})},setState:function(a){if(a.open){this.closeAll();for(var b=a.open,c=0;c<b.length;c++){var d=this.item(b[c]);if(d&&d.$count&&(d.open=!0,-1==d.$count))return this.Dp(this,a),this.refresh(),0}this.refresh()}if(a.select&&this.select){a=a.select;this.unselect();for(c=0;c<a.length;c++)this.exists(a[c])&&this.select(a[c],!0)}return 1}};
webix.TreeClick={webix_tree_open:function(a,b){this.close(b);return!1},webix_tree_close:function(a,b){this.open(b);return!1},webix_tree_checkbox:function(a,b){this.Jg(b,"");return!0}};
webix.DragOrder={Jh:!0,$drag:function(a,b){var c=webix.DragItem.$drag.call(this,a,b);if(c){var d=webix.DragControl.getContext();this.branchIndex&&(this.Am=this.ef?16*this.item(d.start).$level:0);this.addMark(d.start,"webix_transparent",!0)}return c},$dragPos:function(a,b,c){var d=webix.html.offset(this.$view),e=d.x+(this.ef?+d.width-webix.ui.scrollSize-1:1);c.style.display="none";e=document.elementFromPoint(e,a.y);if(e!=this.bc){var f=webix.ui.get(e);if(f&&f==this&&((e=this.locate(e))&&this.Ta&&(e=
this.Ta(e)),e&&e!=this.bc)){if(!this.callEvent("onBeforeDropOrder",[webix.DragControl.getContext().start,e,b]))return;this.branchIndex?(b={parent:this.parentId(e)},f=this.branchIndex(e)):(b={},f=this.indexById(e));this.move(webix.DragControl.getContext().start,f,this,b);this.bc=e;webix.DragControl.ba=this.m}}c.style.display="block";d.y+=this.ob;a.x=this.Am||d.x;a.y-=18;a.y<d.y?a.y=d.y:(c=d.y+this.$view.offsetHeight-60,a.y>c&&(a.y=c));webix.DragControl.ve=!0},$dragIn:function(){return!1},$drop:function(a,
b,c){a=webix.DragControl.getContext().start;this.removeMark(a,"webix_transparent",!0);this.callEvent("onAfterDropOrder",[a,this.bc,c])}};
webix.DragItem={io:function(a,b,c){b||webix.DragControl.addDrop(a.m,a,!0);c||webix.DragControl.addDrag(a.m,a);this.attachEvent("onDragOut",function(a,b){this.$dragMark(a,b)})},drag_setter:function(a){a&&("order"==a&&webix.extend(this,webix.DragOrder,!0),"inner"==a&&(this.Gf=!0),this.io(this,"source"==a,"target"==a),delete this.drag_setter);return a},$dragIn:function(a,b,c){a=this.locate(c)||null;var d=webix.DragControl.ta;if((this.Gf||d.from.Gf)&&d.from!==this)return!1;b=webix.DragControl.getMaster(b);
var e=this.D(a,c)||this.l;if(e==webix.DragControl.Sc)return e;d.target=a;d.to=b;this.ra&&(this.ra=window.clearTimeout(this.ra));this.ra=webix.delay(this.$g,this,[webix.html.pos(c),a],250);if(this.$dropAllow&&!this.$dropAllow(d,c)||!this.callEvent("onBeforeDragIn",[d,a]))return d.id=null;this.$dragMark(d,c);return e},Lh:function(a){},$g:function(a,b){var c=this.o||this.$view,d=webix.html.offset(c),d=d.y,c=d+c.offsetHeight,e=this.scrollState(),f=!1;this.Lh(b);a.y<d+30?(this.scrollTo(e.x,e.y-60),f=!0):
a.y>c-30&&(this.scrollTo(e.x,e.y+60),f=!0);f&&(this.ra=webix.delay(this.$g,this,[a],100))},$dragOut:function(a,b,c,d){a=this.locate(d)||null;this.ra&&(this.ra=window.clearTimeout(this.ra));b=webix.DragControl.ta;if((b.target||"").toString()==(a||"").toString())return null;b.target=b.to=null;this.callEvent("onDragOut",[b,d]);return null},$drop:function(a,b,c,d){this.ra&&(this.ra=window.clearTimeout(this.ra));a=webix.DragControl.ta;a.to=this;b=this.Ta?this.Ta(a.target):a.target;this.branchIndex?b&&
(a.parent=this.parentId(b),a.index=this.branchIndex(b)):a.index=b?this.indexById(b):this.dataCount();this.$dragMark({},d);this.callEvent("onBeforeDrop",[a,d])&&(this.fm(a,d),this.callEvent("onAfterDrop",[a,d]))},fm:function(a,b){if(a.from){var c={parent:a.parent,mode:a.pos};a.from.move(a.source,a.index,a.to,c)}},$drag:function(a,b){var c=this.locate(b);this.Ta&&(c=this.Ta(c,!0));if(c){var d=[c];if(this.getSelected&&!this.Jh){var e=this.getSelectedId?this.getSelectedId():this.getSelected();if(e&&1<
e.length&&-1!=webix.PowerArray.find.call(e,c)){for(var f={},d=[],g=0;g<e.length;g++)f[e[g]]=!0;for(g=0;g<this.data.order.length;g++)e=this.data.order[g],f[e]&&d.push(e)}}d=webix.DragControl.ta={source:d,start:c};d.from=this;if(this.callEvent("onBeforeDrag",[d,b]))return d.html||(this.$dragHTML?this.$dragHTML(this.item(c),b):this.ha(this.item(c)))}return null},$dragMark:function(a,b){var c=null;a.target&&(c=this.Ta?this.Ta(a.target):a.target);this.Uc&&this.Uc!=c&&(this.removeMark(this.Uc,"webix_drag_over",
!0),this.Uc=null);return!this.Uc&&c?(this.Uc=c,this.addMark(c,"webix_drag_over",!0),c):a.to?!0:!1}};
webix.clipbuffer={K:null,$q:null,Bh:new Date,zq:250,init:function(){if(null!==this.K)return this.K;this.K=document.createElement("textarea");this.K.style.width="1px";this.K.style.height="1px";this.K.style.left="3px";this.K.style.top="3px";this.K.style.position="fixed";this.K.style.opacity="0";document.body.appendChild(this.K);var a=this;webix.event(document.body,"keyup",function(b){var c=b.keyCode;b=b.ctrlKey?!0:!1;86===c&&(new Date-a.Bh<a.zq||!0===b)&&a.Ma();17===c&&(a.Bh=new Date)});return this.K},
set:function(a){this.init();this.K.value=a;this.focus()},focus:function(){this.init();this.K.focus();this.K.select()},Ma:function(){var a=this.K.value,b=webix.UIManager.getFocus();b&&(b.callEvent("onPaste",[a]),this.K.select())}};
webix.CopyPaste={clipboard_setter:function(a){if(!0===a||1===a)a="modify";this.attachEvent("onAfterSelect",function(a){a=this.item(a);a=this.type.templateCopy(a);webix.clipbuffer.set(a,this);webix.clipbuffer.focus()});this.attachEvent("onPaste",function(a){webix.isUndefined(this.Ma[this.h.clipboard])||this.Ma[this.h.clipboard].call(this,a)});this.attachEvent("onFocus",function(){webix.clipbuffer.focus()});return a},Ma:{insert:function(a){this.add({value:a})},modify:function(a){for(var b=this.getSelected(!0),
c=0;c<b.length;c++)this.item(b[c]).value=a,this.refresh(b[c])},custom:function(a){}},templateCopy_setter:function(a){this.type.templateCopy=webix.Template(a)},type:{templateCopy:function(a){return this.template(a)}}};
webix.protoUI({name:"tree",$init:function(){this.i.className+=" webix_tree";webix.extend(this.data,webix.TreeStore,!0);webix.extend(this.on_click,webix.TreeClick);this.data.provideApi(this,!0)},I:"webix_tm_id",on_context:{},on_dblclick:{},on_click:{webix_tree_item:function(a,b){if(this.h.select)if("multiselect"==this.h.select||this.h.multiselect){if("level"==this.h.multiselect){var c=this.getSelected(!0)[0];if(c&&this.parentId(b)!=this.parentId(c))return}this.select(b,a.ctrlKey,a.shiftKey)}else this.select(b)}},
Ma:{insert:function(a){var b=this.getSelected()||"0";this.add({value:a},null,b)},modify:function(a){for(var b=this.getSelected(!0),c=0;c<b.length;c++)this.item(b[c]).value=a,this.refresh(b[c])},custom:function(a){}},ef:!0,$dragHTML:function(a){return"<div class='borderless'>"+this.type.template(a,this.type)+"</div>"},type:webix.extend({template:function(a,b){var c=b["template"+a.level]||b.templateCommon;return c.apply(this,arguments)},classname:function(a,b,c){b="webix_tree_item";a.$css&&(b+=" "+
a.$css);c&&c.$css&&(b+=" "+c.$css);return b},templateCommon:webix.Template("{common.icon()} {common.folder()} #value#"),templateStart:webix.Template("<div webix_tm_id='#id#' class='{common.classname()}'>"),templateEnd:webix.Template("</div>"),templateCopy:webix.Template("#value#")},webix.TreeType)},webix.TreeDataLoader,webix.TreeAPI,webix.DragItem,webix.TreeDataMove,webix.SelectionModel,webix.MouseEvents,webix.Scrollable,webix.ui.proto,webix.TreeRenderStack,webix.CopyPaste);
webix.TreeStateCheckbox={Ji:function(){var a=this.render;this.render=function(b,c,d){var e=a.apply(this,arguments);this.h.threeState&&(e&&"checkbox"!=c)&&this.Zp.apply(this,arguments)};this.Ji=function(){}},threeState_setter:function(a){a&&this.Ji();return a},Zp:function(a){var b,c,d;c=[];d=this;a&&!d.data.pull[a]&&(a=0);if(!a||d.data.pull[a].$count){b=this.tn(a);b.sort(function(a,b){return d.data.pull[b].$level-d.data.pull[a].$level});for(a=0;a<b.length;a++)if(!a||d.data.pull[b[a]].$parent!=d.data.pull[b[a-
1]].$parent)c=c.concat(d.yg(b[a]))}else c=c.concat(d.yg(a));b={};for(a=0;a<c.length;a++)b[c[a]]||(b[c[a]]=1,this.hk(c[a]));d=null},hk:function(a){var b;if(b=this.D(a))if(this.render(a,"checkbox","update"),this.item(a).indeterminate&&(b=this.D(a),b=b.getElementsByTagName("input")[0]))b.indeterminate=this.item(a).indeterminate},yg:function(a){var b,c,d,e,f,g,h;d=this.parentId(a);f=this;for(e=[];d&&"0"!=d;){b=g=0;this.data.eachChild(d,function(a){f.item(a).indeterminate?g++:f.item(a).checked&&b++});
a=c=h=!1;var i=this.item(d);if(b==i.$count)a=!0;else if(0<b||0<g)c=!0;if(c||c!=i.indeterminate)h=!0;i.indeterminate=c;i.checked!=a&&(h=!0);i.checked=a;h?(e.push(d),d=this.parentId(d)):d=0}return e},getChecked:function(){var a=[],b=this;this.data.eachSubItem(0,function(c){b.isChecked(c)&&a.push(c)});return a},Kq:function(a,b){var c=this.item(a);if(c&&(""===b&&(b=!c.checked),c.checked!=b)){c.checked=b;this.jm(a);c=this.yg(a);if(5>c.length)for(var d=0;d<c.length;d++)this.hk(c[d]);else this.refresh();
this.callEvent("onItemCheck",[a,b])}},checkItem:function(a){this.Jg(a,!0);this.update(a)},uncheckItem:function(a){this.Jg(a,!1);this.update(a)},jm:function(a){var b,c=this.item(a);c.indeterminate=!1;b=c.checked;this.data.eachSubItem(a,function(a){a=this.item(a);a.indeterminate=!1;a.checked=b});this.isBranchOpen(c.$parent)&&this.render(a,0,"branch")},isChecked:function(a){return this.item(a).checked},tn:function(a){var b=[];this.data.eachSubItem(a,function(a,d){d||b.push(a)});return b}};
webix.ui.tree&&webix.extend(webix.ui.tree,webix.TreeStateCheckbox,!0);
webix.Type(webix.ui.tree,{name:"lineTree",css:"webixLineTree",icon:function(a,b){for(var c="",d="",e=1;e<=a.$level;e++)e==a.$level&&(d=a.$count?a.open?"webix_tree_open ":"webix_tree_close ":"webix_tree_none "),c+="<div class='"+d+" webix_tree_img webix_tree_"+this.eo(a,b,e)+"'></div>";return c},eo:function(a,b,c){var d=b.Ae;if(0===d){for(var e=a.$level,f=a.id,g=webix.TreeRenderStack.X,d=[];e;){var h=g.parentId(f),i=g.data.branch[h];i[i.length-1]==f&&(d[e]=!0);f=h;e--}b.Ae=d}return c==a.$level?(b=
3,a.$parent||0===a.$index&&(b=4),d[a.$level]&&(b=2),a.$count?a.open?"minus"+b:"plus"+b:"line"+b):!d[c]?"line1":"blank"}});
webix.CarouselPanel={lg:function(){var a,b,c;a=this.h.panel;webix.html.remove(this.Ba);b="z-index:"+webix.ui.zIndex()+";";if("bottom"==a.align||"top"==a.align)b+="height:"+a.size+"px; left:0px;",c=0,"bottom"==a.align&&(c=this.q-this.h.panel.size),b+="top:"+c+"px";else if("right"==a.align||"left"==a.align)b+="width:"+a.size+"px;top:0px;",c=0,"right"==a.align&&(c=this.p-this.h.panel.size),b+="left:"+c+"px";this.Ba=webix.html.create("DIV",{"class":"webix_carousel_panel",style:b},"");this.i.appendChild(this.Ba);
this.Mj()},Mj:function(){var a,b;b=this.h.panel;this.Ba?this.Xl():this.lg();var c=this.j?this.j.length:this.data.order.length;if(1<c){for(var d=0;d<c;d++)a=webix.html.create("DIV",{"class":"webix_item webix_carousel_"+(d==this.B?"active":"inactive"),style:"left"==b.align||"right"==b.align?"float:none;":""},""),this.Ba.appendChild(a);a=c*this.h.panel.itemSize;"bottom"==b.align||"top"==b.align?(this.p&&(this.Ba.style.left=(this.p-a)/2+this.i.scrollLeft+"px"),this.Ba.style.width=a+"px"):this.Ba.style.top=
(this.q-a)/2+this.i.scrollTop+"px"}},Xl:function(){if(this.Ba)for(var a=this.Ba.childNodes,b=a.length-1;0<=b;b--)webix.html.remove(a[b])}};
webix.protoUI({name:"list",Rf:"webix_list",$init:function(a){webix.html.addCss(this.i,this.Rf+("x"==(a.layout||this.defaults.layout)?"-x":""));this.data.provideApi(this,!0);this.rd=webix.bind(this.rd,this);this.data.attachEvent("onStoreLoad",this.rd);this.data.attachEvent("onSyncApply",this.rd);this.attachEvent("onAfterRender",this.Ye)},defaults:{select:!1,scroll:!0,layout:"y"},I:"webix_l_id",on_click:{webix_list_item:function(a,b){this.h.select&&(this.ic=!0,"multiselect"==this.h.select?this.select(b,
a.ctrlKey,a.shiftKey):this.select(b),this.ic=!1)}},getVisibleCount:function(){return Math.floor(this.q/this.type.height)},rd:function(){(this.h.autoheight||this.h.autowidth)&&this.resize()},Zg:function(a){var b=this.data.$pagesize||this.dataCount();this.sj(a&&a<b);if(this.h.autoheight&&b<(a||Infinity))a=b;return Math.max(this.type.height*a,this.h.minHeight||0)},yl:function(a){var b=this.data.$pagesize||this.dataCount();this.sj(a&&a<b);if(this.h.autowidth&&b<(a||Infinity))a=b;return this.type.width*
a},Ye:function(){"x"==this.h.layout&&"auto"!=this.type.width&&(this.l.style.width=this.type.width*this.dataCount()+"px")},$getSize:function(a,b){if("y"==this.h.layout){if("auto"!=this.type.width&&(this.h.width=this.type.width),this.h.yCount||this.h.autoheight)this.h.height=this.Zg(this.h.yCount)||1}else if("auto"!=this.type.height&&(this.h.height=this.type.height),this.h.xCount||this.h.autowidth)this.h.width=this.yl(this.h.xCount)||1;return webix.ui.view.prototype.$getSize.call(this,a,b)},$setSize:function(){webix.ui.view.prototype.$setSize.apply(this,
arguments)},type:{css:"",widthSize:function(a,b){return b.width+(-1<b.width?"px":"")},heightSize:function(a,b){return b.height+(-1<b.height?"px":"")},classname:function(a,b,c){b="webix_list_item";a.$css&&(b+=" "+a.$css);c&&c.$css&&(b+=" "+c.$css);return b},template:webix.Template("#value#"),width:"auto",height:webix.skin.listItemHeight,templateStart:webix.Template("<div webix_l_id='#id#' class='{common.classname()}' style='width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden;'>"),
templateEnd:webix.Template("</div>")}},webix.DataMove,webix.DragItem,webix.MouseEvents,webix.SelectionModel,webix.Scrollable,webix.ui.proto,webix.CopyPaste);
webix.protoUI({name:"grouplist",defaults:{animate:{}},Rf:"webix_grouplist",$init:function(){webix.extend(this.data,webix.TreeStore,!0);this.data.dataCount=function(){return this.order.length};this.data.provideApi(this,!0);this.data.attachEvent("onClearAll",webix.bind(this.nj,this));this.nj()},nj:function(){this.W=[];this.A=[]},$setSize:function(){webix.ui.view.prototype.$setSize.apply(this,arguments)&&(this.l.style.width=this.i.style.width)},on_click:{webix_list_item:function(a,b){if(this.Zb)return!1;
for(var c=0;c<this.A.length;c++)if(this.A[c]==b){for(var d=c;d<this.A.length;d++)this.data.item(this.A[d]).$template="";c?(this.W=this.data.branch[this.A[c-1]],this.A.splice(c)):(this.W=this.data.branch[0],this.A=[]);this.Qc=!1;return this.render()}c=this.item(b);if(c.$count)return this.Qc=!0,this.A.push(b),c.$template="Back",this.W=this.data.branch[c.id],this.render();this.h.select&&(this.ic=!0,"multiselect"==this.h.select?this.select(b,a.ctrlKey,a.shiftKey):this.select(b),this.ic=!1)}},getOpenState:function(){return{parents:this.A,
branch:this.W}},render:function(a,b,c,d){var e;this.A=webix.copy(this.A);this.W=webix.copy(this.W);if(this.A.length)for(e=0;e<this.A.length;e++)this.data.branch[this.A[e]].length||(this.A.splice(e,1),e--);e=this.A.length?this.A[this.A.length-1]:0;this.W=webix.copy(this.data.branch[e]);!this.W.length&&this.A.length&&(this.W=[e],this.A.pop());if(this.Zb)return webix.delay(this.render,this,arguments,100);for(e=0;e<this.W.length;e++)this.data.item(this.W[e]).$template="";this.W.length||(this.W=this.data.branch[0]);
this.data.order=webix.toArray([].concat(this.A).concat(this.W));if(this.callEvent("onBeforeRender",[this.data])){if(this.ic||!this.l.innerHTML||!webix.animate.isSupported()||!this.h.animate||this.np==this.A.length)webix.RenderStack.render.apply(this,arguments);else if(this.callEvent("onBeforeRender",[this.data])){this.Le||(this.Le=[]);var f=this.l.cloneNode(!1);f.innerHTML=this.data.getRange().map(this.ha,this).join("");var g=webix.extend({},this.h.animate);g.direction=this.Qc?"left":"right";var h=
[webix.clone(g),webix.clone(g)];if(this.Qc)this.Le.push(this.scrollState()),webix.Touch&&webix.Touch.$active&&(h[0].y=0,h[1].y=-this.scrollState().y);else{var i=this.Le.pop();webix.Touch&&webix.Touch.$active&&(h[0].y=-i.y,h[1].y=-this.scrollState().y)}var j=webix.animate.formLine(f,this.l,g);webix.Touch&&webix.Touch.$active&&webix.Touch.F(f,0,this.Qc?0:h[0].y,"0ms");g.master=this;g.callback=function(){this.l=f;this.Qc?(!webix.Touch||!webix.Touch.$active)&&this.scrollTo(0,0):webix.Touch&&webix.Touch.$active?
webix.delay(function(){webix.Touch.F(f,0,h[0].y,"0ms")},this):this.scrollTo(0,i.y);webix.animate.breakLine(j);this.s=g.master=g.callback=null;this.Zb=!1;this.callEvent("onAfterRender",[])};this.Zb=!0;webix.animate(j,h)}this.np=this.A.length}},templateBack_setter:function(a){this.type.templateBack=webix.Template(a)},templateItem_setter:function(a){this.type.templateItem=webix.Template(a)},templateGroup_setter:function(a){this.type.templateGroup=webix.Template(a)},type:{template:function(a,b){return a.$count?
b.templateGroup(a,b):b.templateItem(a,b)},css:"group",classname:function(a,b,c){return"webix_list_item webix_"+(a.$count?"group":"item")+(a.$template?"_back":"")+(c&&c.webix_selected?" webix_selected ":"")+(a.$css?a.$css:"")},templateStart:webix.Template("<div webix_l_id='#id#' class='{common.classname()}' style='width:{common.width}px; height:{common.height}px; padding:{common.padding}px; margin:{common.margin}px; overflow:hidden;'>"),templateBack:webix.Template("#value#"),templateItem:webix.Template("#value#"),
templateGroup:webix.Template("#value#"),templateEnd:function(a,b){var c="";a.$count&&(c+="<div class='webix_arrow_icon'></div>");return c+"</div>"}},showItem:function(a){var b,c;a&&(b=this.item(a),c=b.$parent,b.$count&&(c=b.id));this.W=this.data.branch[c||0];for(this.A=[];c;)this.item(c).$template="Back",this.A.unshift(c),c=this.item(c).$parent;this.ic=!0;this.render();this.ic=!1;webix.RenderStack.showItem.call(this,a)}},webix.ui.list);webix.Type(webix.ui.grouplist,{});
webix.protoUI({name:"unitlist",I:"webix_item_id",uniteBy_setter:webix.Template,sort_setter:function(a){"object"!=typeof a&&(a={});this.ya(a,{dir:"asc",as:"string"});return a},render:function(a,b,c,d){d=this.h;if(this.isVisible(d.id)){if(!d.uniteBy)return!1;if(a&&(d=this.D(a))&&"update"==c&&this.h.uniteBy.call(this,b)==this.item(a).$unitValue){a=this.s[a]=this.uc(b);webix.html.insertBefore(a,d);webix.html.remove(d);return}this.callEvent("onBeforeRender",[this.data])&&(this.units=null,this.$p(),this.units&&
(this.l.innerHTML=this.Hn().map(this.ha,this).join(""),this.s=null),this.callEvent("onAfterRender",[]))}},getUnits:function(){var a=[];if(this.units)for(var b in this.units)a.push(b);return a},getUnitItems:function(a){return this.units?this.units[a]:null},ha:function(a){var b=this.data.S[a.id];this.callEvent("onItemRender",[a]);return a.$unit?this.type.templateStartHeader(a,this.type)+this.type.templateHeader.call(this,a.$unit)+this.type.templateEnd(a,this.type):this.type.templateStart(a,this.type,
b)+(a.$template?this.type["template"+a.$template]:this.type.template)(a,this.type)+this.type.templateEnd(a,this.type)},Hn:function(){var a,b,c,d;a=[];for(c in this.units){a.push({$unit:c});d=this.units[c];for(b=0;b<d.length;b++)a.push(this.item(d[b]))}return a},$p:function(){var a=this;this.units={};this.data.each(function(b){var c=a.h.uniteBy.call(this,b);b.$unitValue=c;a.units[c]||(a.units[c]=[]);a.units[c].push(b.id)})},type:{headerHeight:20,templateHeader:function(a){return a},templateStart:function(a,
b,c){if(a.$unit)return b.templateStartHeader.apply(this,arguments);var d="webix_list_item webix_list_"+b.css+"_item"+(c&&c.webix_selected?" webix_selected":""),e="width:"+b.width+"px; height:"+b.height+"px; padding:"+b.padding+"px; margin:"+b.margin+"px; overflow:hidden;"+(b.layout&&"x"==b.layout?"float:left;":"");return"<div webix_item_id='"+a.id+"' class='"+d+"' style='"+e+"'>"},templateStartHeader:function(a,b){var c="webix_unit_header webix_unit_"+b.css+"_header"+(a.$selected?"_selected":""),
d="width:"+b.width+"px; height:"+b.headerHeight+"px; overflow:hidden;";return"<div webix_unit_id='"+a.$unit+"' class='"+c+"' style='"+d+"'>"}}},webix.ui.list);
webix.EditAbility={$init:function(){this.L={};this.jf=this.R=0;this.defaults.editaction="click";this.m.style.position="relative"},editable_setter:function(a){a&&this.Hi();return a},Hi:function(){webix.attachEvent("onEditEnd",webix.bind(function(){this.R&&this.editStop()},this));webix.attachEvent("onClick",webix.bind(function(a){this.R&&200<new Date-this.jf&&(!this.fa||this.fa.popupType||!a||this.fa.node!=a.target)&&this.editStop()},this));this.data.attachEvent&&this.data.attachEvent("onIdChange",
webix.bind(function(a,b){this.nh(a,b)},this));this.attachEvent("onItemClick",function(a){this.h.editable&&"click"==this.h.editaction&&this.edit(a)});this.attachEvent("onItemDblClick",function(a){this.h.editable&&"dblclick"==this.h.editaction&&this.edit(a)});this.Ep=webix.bind(function(){this.jf=new Date},this);webix.UIManager.Wn||(webix.UIManager.Wn=!0,webix.UIManager.addHotKey("enter",function(a){if(a&&a.editStop&&a.R)return a.editStop(),!0}),webix.UIManager.addHotKey("esc",function(a){if(a&&a.editCancel&&
a.R)return a.editCancel(),!0}),webix.UIManager.addHotKey("shift+tab",function(a){if((!a||!a.Fd||a.Fd(!1))&&a&&a.R){if(a.editNext)return a.editNext(!1);if(a.editStop)return a.editStop(),!0}}),webix.UIManager.addHotKey("tab",function(a){if((!a||!a.Fd||a.Fd(!0))&&a&&a.R){if(a.editNext)return a.editNext(!0);if(a.editStop)return a.editStop(),!0}}));this.Hi=function(){};this.uh&&this.uh()},edit:function(a,b,c){if(this.callEvent("onBeforeEditStart",[a])){var d=this.Qd(a);if(d){if(this.getEditor(a))return;
b||this.editStop();this.jf=new Date;b=webix.extend({},webix.editors[d]);var d=this.Ii(a,b,c),e=b.getPopup?b.getPopup(d).i:d;webix.event(e,"click",this.Ep);webix.event(d,"change",this.Xo,{view:this,id:a});!1!==c&&b.focus();webix.UIManager.setFocus(this);this.callEvent("onAfterEditStart",[a]);return b}return null}},getEditor:function(a){return!a?this.fa:this.L[a]},nh:function(a,b){var c=this.L[a];c&&(this.L[b]=c,c.id=b,delete this.L[a])},Xo:function(a){this.view.hasEvent("onEditorChange")&&this.view.callEvent("onEditorChange",
[this.id,this.view.getEditorValue(this.id)])},si:function(a){return this.h},Ii:function(a,b,c){b.config=this.si(a);var d=b.render();b.$inline&&(d=this.Ui(a));b.node=d;var e=this.item(a),e=e[this.h.editValue||"value"];webix.isUndefined(e)&&(e="");b.setValue(e);b.value=e;this.Ie(a,b);!1!==c&&this.showItem(a);b.$inline||this.zk(a,d,!0);b.afterRender&&b.afterRender();return d},Vi:function(a){return this.D(a)},Ui:function(a){(a=this.Vi(a))&&(a=a.getElementsByTagName("input")[0]||a);return a},Qd:function(a){return this.h.editor},
Ie:function(a,b){b.id=a;this.L[a]=this.fa=b;this.R++},Jj:function(a){this.fa==a&&(this.fa=0);a.destroy&&a.destroy();delete a.popup;delete a.node;delete this.L[a.id];this.R--},editFocus:function(a){var b=this.getEditor.apply(this,arguments);b&&b.focus&&b.focus()},editCancel:function(){this.editStop(null,null,!0)},editStop:function(a,b,c){var d=c,e=1;a?e=this.Vh(this.L[a],d):this.mf(function(a){e*=this.Vh(a,d)});return e},Ob:function(a){a=this.D(a);return{left:a.offsetLeft,top:a.offsetTop,height:a.offsetHeight,
width:a.offsetWidth,parent:this.m}},zk:function(a,b,c){b.style&&(a=this.Ob(a),b.style.top=a.top+"px",b.style.left=a.left+"px",b.style.width=a.width-1+"px",b.style.height=a.height-1+"px",b.top=a.top,c&&a.parent.appendChild(b))},mf:function(a){for(var b in this.L)a.call(this,this.L[b])},Vh:function(a,b){if(a){var c={value:a.getValue(),old:a.value};return this.callEvent("onBeforeEditStop",[c,a,b])?(b||c.value!=c.old&&this.update(this.pk(a,c.value)),a.$inline?a.node=null:webix.html.remove(a.node),this.Jj(a),
this.callEvent("onAfterEditStop",[c,a,b]),1):0}},getEditorValue:function(a){var b=0===arguments.length?this.fa:this.getEditor(a);if(b)return b.getValue()},getEditState:function(){return this.fa||!1},editNext:function(a){if(1==this.R&&(a=this.lf(this.fa,function(a){return this.Qd(a)?!0:!1},!1!==a),this.editStop()))return a&&(this.edit(a),this.Ug(a)),!1},Ug:function(){},lf:function(a,b,c){var d=this.indexById(a.id);a=this.data.order;if(c)for(c=d+1;c<a.length;c++){if(b.call(this,a[c]))return a[c]}else for(c=
d-1;0<=c;c--)if(b.call(this,a[c]))return a[c];return null},pk:function(a,b){this.item(a.id)[this.h.editValue||"value"]=b;return a.id}};
webix.editors={text:{focus:function(){this.getInput(this.node).focus();this.getInput(this.node).select()},getValue:function(){return this.getInput(this.node).value},setValue:function(a){this.getInput(this.node).value=a},getInput:function(){return this.node.firstChild},render:function(){return webix.html.create("div",{"class":"webix_dt_editor"},"<input type='text'>")}},"inline-checkbox":{render:function(){return{}},getValue:function(){return this.node.checked},setValue:function(){},focus:function(){this.node.focus()},
getInput:function(){},$inline:!0},"inline-text":{render:function(){return{}},getValue:function(){return this.node.value},setValue:function(){},focus:function(){this.node.select();this.node.focus()},getInput:function(){},$inline:!0},checkbox:{focus:function(){this.getInput().focus()},getValue:function(){return this.getInput().checked},setValue:function(a){this.getInput().checked=!!a},getInput:function(){return this.node.firstChild.firstChild},render:function(){return webix.html.create("div",{"class":"webix_dt_editor"},
"<div><input type='checkbox'></div>")}},select:{focus:function(){this.getInput().focus()},getValue:function(){return this.getInput().value},setValue:function(a){this.getInput().value=a},getInput:function(){return this.node.firstChild},render:function(){var a=this.config.options,b="";if(webix.isArray(a))for(var c=0;c<a.length;c++)b+="<option>"+a[c]+"</option>";else for(c in a)b+="<option value='"+c+"'>"+a[c]+"</option>";return webix.html.create("div",{"class":"webix_dt_editor"},"<select>"+b+"</select>")}},
popup:{focus:function(){this.getInput().focus()},destroy:function(){this.getPopup().hide()},getValue:function(){return this.getInput().getValue()||""},setValue:function(a){this.getPopup().show(this.node);this.getInput().setValue(a)},getInput:function(){return this.getPopup().getChildViews()[0]},getPopup:function(){this.popup||(this.popup=this.createPopup());return $$(this.popup)},createPopup:function(){var a=webix.editors.$popup[this.popupType];"string"!=typeof a&&(a=webix.editors.$popup[this.popupType]=
webix.ui(a),this.popupInit(a));return a.h.id},popupInit:function(a){},popupType:"text",render:function(){return{}},$inline:!0}};webix.editors.color=webix.extend({focus:function(){},popupType:"color",popupInit:function(a){a.getChildViews()[0].attachEvent("onSelect",function(a){webix.callEvent("onEditEnd",[a])})}},webix.editors.popup);
webix.editors.date=webix.extend({focus:function(){},popupType:"date",setValue:function(a){this.uo="string"==typeof a;webix.editors.popup.setValue.call(this,a)},getValue:function(){return this.getInput().getValue(this.uo?webix.i18n.parseFormatStr:"")||""},popupInit:function(a){a.getChildViews()[0].attachEvent("onDateSelect",function(a){webix.callEvent("onEditEnd",[a])})}},webix.editors.popup);
webix.editors.combo=webix.extend({zh:function(a){var b={view:"suggest",type:"list"};a.dataCount||(b.data=a);b=webix.ui(b);a.dataCount&&b.getBody().sync(a);return b.h.id},render:function(){var a=webix.html.create("div",{"class":"webix_dt_editor"},"<input type='text'>"),b=this.config.suggest||this.config.collection;if("string"==typeof b){var c=webix.ui.get(b);c.linkInput||(b=this.zh(c))}else"object"==typeof b&&!b.linkInput&&(b=this.zh(b));if(this.config.suggest=b)webix.ui.get(b).linkInput(a.firstChild,
!0),webix.event(a.firstChild,"click",webix.bind(this.showPopup,this));return a},showPopup:function(){var a=webix.ui.get(this.config.suggest),b=this.getInput();a.show(b);a.Zf();a.Ka=b},afterRender:function(){this.showPopup()},setValue:function(a){this.config.suggest&&(this.getInput(this.node).value=webix.ui.get(this.config.suggest).getItemText(a))},getValue:function(){var a=this.getInput().value;return this.config.suggest?webix.ui.get(this.config.suggest).idByValue(a,!0)||this.value:a}},webix.editors.text);
webix.editors.$popup={text:{view:"popup",width:250,height:200,body:{view:"textarea"}},color:{view:"popup",body:{view:"colorboard"}},date:{view:"popup",body:{view:"calendar"}}};
webix.VirtualRenderStack={$init:function(){this.s={};webix.event(this.i,"scroll",webix.bind(this.me,this));this.ld=[]},D:function(a){return this.s[a]},showItem:function(a){var b=this.pi();a=this.data.indexById(a);b=Math.floor(a/b.hf)*b.yc;a=this.scrollState();(b<a.y||b+this.h.height>a.y+this.q)&&this.scrollTo(0,b)},render:function(a,b,c){if(this.isVisible(this.h.id)&&!this.$blockRender)if(a){var d=this.D(a);switch(c){case "update":if(!d)break;a=this.s[a]=this.uc(b);webix.html.insertBefore(a,d);webix.html.remove(d);
break;default:this.Cp()}}else this.callEvent("onBeforeRender",[this.data])&&(this.s={},this.me(null,!0),this.il=!1,this.callEvent("onAfterRender",[]))},Cp:function(){this.il||(this.il=!0,window.setTimeout(webix.bind(function(){this.render()},this),1))},Ze:function(a){var b=document.createElement("DIV");b.style.cssText="height:"+a+"px; width:100%; overflow:hidden;";return b},me:function(a,b){this.ld=[];var c=this.pi();if(!this.l.firstChild||b)this.l.innerHTML="",this.l.appendChild(this.Ze(c.Ko)),this.Za=
[this.l.firstChild];for(var d=c.Ya;d<=c.xf;){for(;this.Za[d]&&this.Za[d].dn&&d<=c.xf;)d++;if(d>c.xf)break;for(var e=d;!this.Za[e];)e--;var f=this.Za[e],g=d*c.hf+(this.data.$min||0);if(g>(this.data.$max||Infinity))break;var h=Math.min(g+c.hf-1,this.data.$max||Infinity),i=this.Ze(c.yc),h=this.data.getIndexRange(g,h);if(!h.length)break;for(var j={$template:"Loading"},k=0;k<h.length;k++)h[k]||this.ld.push(g+k),h[k]=this.ha(h[k]||j);i.innerHTML=h.join("");for(k=0;k<h.length;k++)this.s[this.data.idByIndex(g+
k)]=i.childNodes[k];g=parseInt(f.style.height,10);e=(d-e)*c.yc;g=g-e-c.yc;webix.html.insertBefore(i,e?f.nextSibling:f,this.l);this.Za[d]=i;i.dn=!0;0>=e&&0<g?(f.style.height=g+"px",this.Za[d+1]=f):(0>e?webix.html.remove(f):f.style.height=e+"px",0<g&&(f=this.Za[d+1]=this.Ze(g),webix.html.insertBefore(f,i.nextSibling,this.l)));d++}this.ld.length&&(c=this.ld[0],d=this.ld.pop()+1,d>c&&(d-=c,this.aj(d,c)||(d=Math.max(d,this.h.datafetch||this.h.loadahead||0),this.loadNext(d,c))))},pi:function(){var a=this.scrollState(),
a=a.y,b=this.p,c=this.q,d=this.type,b=Math.floor(b/d.width)||1,e=Math.floor(a/d.height),c=Math.ceil((c+a)/d.height)-1,f=this.data.$max?this.data.$max-this.data.$min:this.data.dataCount(),f=Math.ceil(f/b)*d.height;return{Ya:e,xf:c,or:a,Ko:f,yc:d.height,hf:b}},Ob:function(a){var b=this.D(a);b||(this.showItem(a),this.me(),b=this.D(a));return{left:b.offsetLeft,top:b.offsetTop,height:b.offsetHeight,width:b.offsetWidth,parent:this.m}}};
webix.protoUI({name:"dataview",$init:function(a){a.sizeToContent&&this.$ready.unshift(this.hb);(!1===a.prerender||!0!==a.prerender&&"auto"!==a.height)&&webix.extend(this,webix.VirtualRenderStack,!0);this.m.className+=" webix_dataview"},hb:function(){var a=webix.html.create("DIV",0,this.type.template({}));a.style.position="absolute";document.body.appendChild(a);this.type.width=a.offsetWidth;this.type.height=a.offsetHeight;webix.html.remove(a)},defaults:{scroll:!0,datafetch:50},I:"webix_f_id",on_click:{webix_dataview_item:function(a,
b){this.h.select&&("multiselect"==this.h.select?this.select(b,a.ctrlKey,a.shiftKey):this.select(b))}},on_dblclick:{},on_mouse_move:{},type:{template:webix.Template("#value#"),templateLoading:webix.Template("Loading..."),width:160,height:50,classname:function(a,b,c){var d="webix_dataview_item ";b.css&&(d+=b.css+" ");a.$css&&(d+=a.$css+" ");c&&c.$css&&(d+=c.$css+" ");return d},templateStart:webix.Template("<div webix_f_id='#id#' class='{common.classname()}' style='width:{common.width}px; height:{common.height}px; float:left; overflow:hidden;'>"),
templateEnd:webix.Template("</div>")},$getSize:function(a,b){this.h.xCount&&"auto"!=this.type.width&&(this.h.width=this.type.width*this.h.xCount);this.h.yCount&&"auto"!=this.type.height&&(this.h.height=this.type.height*this.h.yCount);return webix.ui.view.prototype.$getSize.call(this,a,b)},$setSize:function(a,b){if(webix.ui.view.prototype.$setSize.call(this,a,b)){var c=!1;this.h.yCount&&"auto"==this.type.height&&(this.type.height=Math.round(this.q/this.h.yCount),c=!0);this.h.xCount&&"auto"==this.type.width&&
(this.type.width=Math.round(this.p/this.h.xCount),c=!0);(c||this.me)&&this.render()}}},webix.DataMove,webix.DragItem,webix.MouseEvents,webix.SelectionModel,webix.Scrollable,webix.ui.proto);
webix.DataDriver.htmltable={toObject:function(a){a=webix.toNode(a);var b=a.rows;webix.html.remove(a);return b},getRecords:function(a){for(var b=[],c=a[0]&&a[0].Uq?1:0;c<a.length;c++)b.push(a[c]);return b},getDetails:function(a){var b=a.getElementsByTagName("td");a={};for(var c=0;c<b.length;c++)a["data"+c]=b[c].innerHTML;return a},getInfo:function(a){return{Fb:0,Ya:0}},getConfig:function(a){var b=[],c=a[0].getElementsByTagName("th");c.length&&(a[0].Uq=!0);for(a=0;a<c.length;a++){var d={id:"data"+a,
header:this.Fh(c[a].innerHTML)},e=this.Jn(c[a]),d=webix.extend(d,e);b.push(d)}return b},Fh:function(a){var b=a.indexOf("json://");-1!=b&&(a=JSON.parse(a.substr(b+7)));return a},Jn:function(a){a=a.attributes;for(var b={},c=0;c<a.length;c++)b[a[c].nodeName]=this.Fh(a[c].nodeValue);b.width=parseInt(b.width,10);return b}};
webix.protoUI({name:"vscroll",defaults:{scroll:"x",scrollStep:40,scrollPos:0,scrollSize:18,zoom:1},$init:function(a){var b=a.scroll||"x";a=this.i=webix.toNode(a.container);a.className+=" webix_vscroll_"+b;a.innerHTML="<div class='webix_vscroll_body'></div>";webix.event(a,"scroll",this.bp,this);this.$b=0},ph:function(a){15E5<a?(this.h.zoom=Math.floor(a/15E5)+1,this.nl=a-this.$b,a=Math.floor(a/this.h.zoom)+this.$b):(this.h.zoom=1,this.nl=Infinity);return a},scrollWidth_setter:function(a){a=this.ph(a);
this.i.firstChild.style.width=a+"px";return a},scrollHeight_setter:function(a){a=this.ph(a);this.i.firstChild.style.height=a+"px";return a},sizeTo:function(a,b,c){a=a-(b||0)-(c||0);this.h.scrollSize?(b&&(this.i.style.marginTop=b+"px"),this.i.style["x"==this.h.scroll?"width":"height"]=a+"px",this.i.style["x"==this.h.scroll?"height":"width"]=this.h.scrollSize+"px"):this.i.style.display="none";this.$b=a},getScroll:function(){return this.h.scrollPos*this.h.zoom},getSize:function(){return(this.h.scrollWidth||
this.h.scrollHeight)*this.h.zoom},scrollTo:function(a){0>a&&(a=0);var b=this.h;a=Math.min(((b.scrollWidth||b.scrollHeight)-this.$b)*b.zoom,a);var c=a/b.zoom;0>c&&(c=0);this.i["x"==b.scroll?"scrollLeft":"scrollTop"]=c;b.scrollPos=a;this.tj(c)},bp:function(){var a=this.i["x"==this.h.scroll?"scrollLeft":"scrollTop"];a!=this.Bo&&this.tj(a)},tj:function(a){this.Bo=a;this.h.scrollPos=Math.min(this.nl,a*this.h.zoom);this.callEvent("onScroll",[this.h.scrollPos])},activeArea:function(a,b){this.Xq=b;webix.event(a,
"mousewheel",this.rj,this);webix.event(a,"DOMMouseScroll",this.rj,this)},rj:function(a){if(!!a.wheelDeltaX==!!this.Xq){var b=a.wheelDelta/-40;webix.isUndefined(a.wheelDelta)&&(b=a.detail);this.scrollTo(this.h.scrollPos+b*this.h.scrollStep)}return webix.html.preventEvent(a)}},webix.EventSystem,webix.Settings);
webix.Number={format:function(a,b){if(""===a||"undefined"===typeof a)return a;b=b||webix.i18n;a=parseFloat(a);var c=a.toFixed(b.decimalSize).toString(),c=c.split("."),d="";if(b.groupSize){var e=b.groupSize,f=c[0].length;do var f=f-e,g=0<f?c[0].substr(f,e):c[0].substr(0,e+f),d=g+(d?b.groupDelimiter+d:"");while(0<f)}else d=c[0];return b.decimalSize?d+b.decimalDelimeter+c[1]:d},numToStr:function(a){return function(b){return webix.Number.format(b,a)}}};
webix.Date={startOnMonday:!1,toFixed:function(a){return 10>a?"0"+a:a},weekStart:function(a){a=this.copy(a);var b=a.getDay();this.startOnMonday&&(0===b?b=6:b--);return this.datePart(this.add(a,-1*b,"day"))},monthStart:function(a){a=this.copy(a);a.setDate(1);return this.datePart(a)},yearStart:function(a){a=this.copy(a);a.setMonth(0);return this.monthStart(a)},dayStart:function(a){return this.datePart(a,!0)},dateToStr:function(a,b){if("function"==typeof a)return a;a=a.replace(/%[a-zA-Z]/g,function(a){switch(a){case "%d":return'"+webix.Date.toFixed(date.getDate())+"';
case "%m":return'"+webix.Date.toFixed((date.getMonth()+1))+"';case "%j":return'"+date.getDate()+"';case "%n":return'"+(date.getMonth()+1)+"';case "%y":return'"+webix.Date.toFixed(date.getFullYear()%100)+"';case "%Y":return'"+date.getFullYear()+"';case "%D":return'"+webix.i18n.calendar.dayShort[date.getDay()]+"';case "%l":return'"+webix.i18n.calendar.dayFull[date.getDay()]+"';case "%M":return'"+webix.i18n.calendar.monthShort[date.getMonth()]+"';case "%F":return'"+webix.i18n.calendar.monthFull[date.getMonth()]+"';
case "%h":return'"+webix.Date.toFixed((date.getHours()+11)%12+1)+"';case "%g":return'"+((date.getHours()+11)%12+1)+"';case "%G":return'"+date.getHours()+"';case "%H":return'"+webix.Date.toFixed(date.getHours())+"';case "%i":return'"+webix.Date.toFixed(date.getMinutes())+"';case "%a":return'"+(date.getHours()>11?"pm":"am")+"';case "%A":return'"+(date.getHours()>11?"PM":"AM")+"';case "%s":return'"+webix.Date.toFixed(date.getSeconds())+"';case "%W":return'"+webix.Date.toFixed(webix.Date.getISOWeek(date))+"';
default:return a}});!0===b&&(a=a.replace(/date\.get/g,"date.getUTC"));return new Function("date","if (!date) return ''; if (!date.getMonth) date=webix.i18n.parseFormatDate(date);  return \""+a+'";')},strToDate:function(a,b){if("function"==typeof a)return a;var c="var temp=date.split(/[^0-9a-zA-Z]+/g);",d=a.match(/%[a-zA-Z]/g),e,f,g;if(!webix.i18n.calendar.monthShort_hash){g=webix.i18n.calendar.monthShort;f=webix.i18n.calendar.monthShort_hash={};for(e=0;e<g.length;e++)f[g[e]]=e;g=webix.i18n.calendar.monthFull;
f=webix.i18n.calendar.monthFull_hash={};for(e=0;e<g.length;e++)f[g[e]]=e}for(e=0;e<d.length;e++)switch(d[e]){case "%j":case "%d":c+="set[2]=temp["+e+"]||1;";break;case "%n":case "%m":c+="set[1]=(temp["+e+"]||1)-1;";break;case "%y":c+="set[0]=temp["+e+"]*1+(temp["+e+"]>50?1900:2000);";break;case "%g":case "%G":case "%h":case "%H":c+="set[3]=temp["+e+"]||0;";break;case "%i":c+="set[4]=temp["+e+"]||0;";break;case "%Y":c+="set[0]=temp["+e+"]||0;";break;case "%a":case "%A":c+="set[3]=set[3]%12+((temp["+
e+"]||'').toLowerCase()=='am'?0:12);";break;case "%s":c+="set[5]=temp["+e+"]||0;";break;case "%M":c+="set[1]=webix.i18n.calendar.monthShort_hash[temp["+e+"]]||0;";break;case "%F":c+="set[1]=webix.i18n.calendar.month_full_hash[temp["+e+"]]||0;"}d="set[0],set[1],set[2],set[3],set[4],set[5]";b&&(d=" Date.UTC("+d+")");return new Function("date","if (!date) return ''; var set=[0,0,1,0,0,0]; "+c+" return new Date("+d+");")},getISOWeek:function(a){if(!a)return!1;var b=a.getDay();0===b&&(b=7);var c=new Date(a.valueOf());
c.setDate(a.getDate()+(4-b));a=c.getFullYear();c=Math.floor((c.getTime()-(new Date(a,0,1)).getTime())/864E5);return c=1+Math.floor(c/7)},getUTCISOWeek:function(a){return this.getISOWeek(a)},add:function(a,b,c,d){d&&(a=this.copy(a));switch(c){case "day":a.setDate(a.getDate()+b);break;case "week":a.setDate(a.getDate()+7*b);break;case "month":a.setMonth(a.getMonth()+b);break;case "year":a.setYear(a.getFullYear()+b);break;case "hour":a.setHours(a.getHours()+b);break;case "minute":a.setMinutes(a.getMinutes()+
b);break;default:webix.Date.add[c](a,b,c)}return a},datePart:function(a,b){b&&(a=this.copy(a));a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a},timePart:function(a,b){b&&(a=this.copy(a));return(a.valueOf()/1E3-60*a.getTimezoneOffset())%86400},copy:function(a){return new Date(a.valueOf())},equal:function(a,b){return!a||!b?!1:a.valueOf()===b.valueOf()},isHoliday:function(a){a=a.getDay();if(0===a||6==a)return"webix_cal_event"}};
webix.i18n={tm:["fullDateFormat","timeFormat","dateFormat","longDateFormat","parseFormat"],parseFormat:"%Y-%m-%d",numberFormat:webix.Number.format,priceFormat:function(a){return webix.i18n.op(webix.i18n.numberFormat(a,webix.i18n.pp))},setLocale:function(a){"string"==typeof a&&(a=this.locales[a]);a&&webix.extend(this,a,!0);a=webix.i18n.tm;for(var b=0;b<a.length;b++){var c=a[b],d=webix.i18n[c+"UTC"];webix.i18n[c+"Str"]=webix.Date.dateToStr(webix.i18n[c],d);webix.i18n[c+"Date"]=webix.Date.strToDate(webix.i18n[c],
d)}this.op=webix.Template(this.price);this.pp=this.priceSettings||this;this.intFormat=webix.Number.numToStr({groupSize:this.groupSize,groupDelimiter:this.groupDelimiter,decimalSize:0})}};webix.i18n.locales={};
webix.i18n.locales["en-US"]={groupDelimiter:",",groupSize:3,decimalDelimeter:".",decimalSize:2,dateFormat:"%m/%d/%Y",timeFormat:"%h:%i %A",longDateFormat:"%d %F %Y",fullDateFormat:"%m/%d/%Y %h:%i %A",price:"${obj}",priceSettings:null,fileSize:"b Kb Mb Gb Tb Pb Eb".split(" "),calendar:{monthFull:"January February March April May June July August September October November December".split(" "),monthShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayFull:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
dayShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),hours:"Hours",minutes:"Minutes",done:"Done"}};webix.i18n.setLocale("en-US");
webix.protoUI({name:"datatable",defaults:{leftSplit:0,rightSplit:0,rowHeight:webix.skin.rowHeight,rowLineHeight:webix.skin.rowHeight,headerRowHeight:webix.skin.rowHeight,columnWidth:100,minColumnWidth:20,minColumnHeight:26,prerender:!1,autoheight:!1,autowidth:!1,header:!0,fixedRowHeight:!0,scrollAlignY:!0,datafetch:50},on_click:{webix_table_checkbox:function(a){a=this.locate(a);var b=this.item(a.row),c=!b[a.col];b[a.col]=c;this.callEvent("onCheck",[a.row,a.col,c]);this.data.callEvent("onStoreUpdated",
[a.row,null,this.h.checkboxRefresh?"update":"save"]);return!1},webix_table_radio:function(a){a=this.locate(a);var b=this.item(a.row);if(this.Of[a.col]){var c=this.item(this.Of[a.col]);c&&(c[a.col]=!1)}b[a.col]=!0;this.Of[a.col]=a.row;this.callEvent("onCheck",[a.row,a.col,!0]);this.refresh();return!1}},on_dblclick:{},on_context:{},$init:function(a){this.on_click=webix.extend({},this.on_click);var b;b="<div class='webix_ss_header'><div class='webix_hs_left'></div><div class='webix_hs_center'></div><div class='webix_hs_right'></div></div><div class='webix_ss_body'><div class='webix_ss_left'><div class='webix_ss_center_scroll'></div></div><div class='webix_ss_center'><div class='webix_ss_center_scroll'></div></div><div class='webix_ss_right' ><div class='webix_ss_center_scroll'></div></div></div>";
b+="<div class='webix_ss_hscroll'></div><div class='webix_ss_footer'><div class='webix_hs_left'></div><div class='webix_hs_center'></div><div class='webix_hs_right'></div></div><div class='webix_ss_vscroll_header'></div><div class='webix_ss_vscroll'></div><div class='webix_ss_vscroll_footer'></div>";this.m.innerHTML=b;this.Wk=this.m.id=this.name+webix.uid();this.m.className+=" webix_dtable";this.l=this.m;this.M=this.m.firstChild;this.o=this.M.nextSibling;this.va=this.o.nextSibling.nextSibling;this.data.provideApi(this,
!0);this.data.attachEvent("onParse",webix.bind(this.Ml,this));webix.event(this.M,"click",this.Yo,this);this.$ready.push(this.hn);this.k=[];this.He={};this.Ia={};this.ob=this.Kc=0;this.Of={};webix.callEvent("onDataTable",[this,a])},Pj:function(){this.yb=this.oa=webix.ui.scrollSize;webix.html.addStyle("#"+this.Wk+" .webix_cell { height:"+this.h.rowHeight+"px; line-height:"+this.h.rowHeight+"px; }");webix.html.addStyle("#"+this.Wk+" .webix_hcell { max-height:"+this.h.headerRowHeight+"px; line-height:"+
this.h.headerRowHeight+"px;}");this.Pj=function(){}},hn:function(){this.data.attachEvent("onStoreLoad",webix.bind(this.refreshHeaderContent,this));this.data.attachEvent("onStoreUpdated",webix.bind(this.render,this));this.data.attachEvent("onStoreUpdated",webix.bind(this.xp,this));this.render()},refresh:function(){this.render()},render:function(a,b,c){if("save"!=c&&this.isVisible(this.h.id)&&!this.$blockRender)if(a&&-1!=b&&("paint"==c||"update"==c))this.cd&&clearTimeout(this.cd),this.cd=this.cd?webix.delay(function(){this.render()},
this):webix.delay(function(){this.render(a,-1,c)},this);else if(this.cd&&clearTimeout(this.cd),this.callEvent("onBeforeRender",[this.data])){this.Pj();if(!this.k.length){if(!this.h.columns)return;this.Hh()}this.p&&this.xd(!0,!0);if(!a||"update"!=c)this.Hd=this.Vn(),this.uk();this.callEvent("onAfterRender",[this.data])}},columns_setter:function(a){this.Gl(a);return a},getColumn:function(a){return this.th[a]},Hh:function(){if(this.h.columns){this.k=this.h.columns;this.th={};for(var a=0;a<this.k.length;a++){var b=
this.k[a];this.th[b.id]=b;b.width=b.width||this.h.columnWidth;"string"==typeof b.format&&(b.format=webix.i18n[b.format]||window[b.format]);b.css&&"object"==typeof b.css&&(b.css=webix.html.createCss(b.css))}}this.callEvent("onStructureLoad",[]);this.Yg()},Gl:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c].map,e=a[c].id;e||(e=a[c].id="i"+webix.uid(),a[c].header||(a[c].header=""));if(d){var f="",g="";0===d.indexOf("(date)")?(f="webix.i18n.parseFormatDate(",g=")",a[c].format||(a[c].format=webix.i18n.dateFormatStr),
d=d.replace("(date)","")):0===d.indexOf("(number)")&&(f="(",g=")*1",d=d.replace("(number)",""));""!==d?(d=d.replace(/\{obj\.([^}]*)\}/g,"\"+(obj.$1||'')+\""),d=d.replace(/#([^#'";, ]+)#/gi,"\"+(obj.$1||'')+\"")):d='"+(obj.'+e+"||'')+\"";b.push("obj."+e+" = "+f+'"'+d+'"'+g+";")}if(d=a[c].options||a[c].collection)if("string"===typeof d)d=webix.ui.get(d),d.getBody&&(d=d.getBody()),a[c].template=this.eh(d,a[c].id);else if(!d.loadNext&&a[c].options){if(webix.isArray(d)){e={};for(f=0;f<d.length;f++)e[d[f]]=
d[f];d=e}a[c].template=this.bm(d,a[c].id)}else{if(!d.loadNext){e=d;for(f=0;f<e.length;f++)"string"==typeof e[f]&&(e[f]={id:e[f],value:e[f]});d=a[c].collection=new webix.DataCollection;d.parse(e)}a[c].template=this.eh(d,a[c].id);d.data.attachEvent("onStoreUpdated",webix.bind(this.refresh,this))}}if(b.length)try{this.data.Pa=Function("obj",b.join("\n"))}catch(h){}},bm:function(a,b){return function(c,d){return a[c[b]]||""}},eh:function(a,b){return function(c,d){var e=a.data.pull[c[b]];return e?e.value||
"":""}},Yg:function(){this.O=this.k.length-this.h.rightSplit;for(var a=this.ua=0;a<this.k.length;a++){if(!this.k[a].node){var b=webix.html.create("DIV");b.style.width=this.k[a].width+"px";this.k[a].node=b}a>=this.h.leftSplit&&a<this.O&&(this.ua+=this.k[a].width);if(b=this.k[a].template)"string"==typeof b&&(b=b.replace(/#value#/g,"#"+this.k[a].id+"#")),this.k[a].template=webix.Template(b)}b=[];this.h.rightSplit&&(a=this.k.length-this.h.rightSplit,b[a]=" webix_first",b[a-1]=" webix_last");this.h.leftSplit&&
(a=this.h.leftSplit,b[a]=" webix_first",b[a-1]=" webix_last");b[0]=(b[0]||"")+" webix_first";a=this.k.length-1;b[a]=(b[a]||"")+" webix_last";for(a=0;a<this.k.length;a++){var c=this.k[a].node;c.setAttribute("column",a);c.className="webix_column "+(this.k[a].css||"")+(b[a]||"")}this.kk();this.yh();this.Bg();this.bd()},kk:function(){for(var a=0,b=0;b<this.k.length;b++){if(b==this.h.leftSplit||b==this.O)a=0;this.k[b].node.style.left=a+"px";a+=this.k[b].width}},bd:function(){this.Nc||(this.Nc=0);this.h.header&&
(this.ob=(this.h.headerRowHeight+1)*this.lj("header"),this.Nj(this.M,"header"));this.h.footer&&(this.Kc=(this.h.headerRowHeight+1)*this.lj("footer"),this.Nj(this.va,"footer"));this.Ak()},lj:function(a){for(var b=0,c=0;c<this.k.length;c++){var d=this.k[c][a];if(!d||"object"!=typeof d||!d.length)webix.isUndefined(d)&&(d="header"==a?this.k[c].id:""),d=[d];for(var e=0;e<d.length;e++)"object"!=typeof d[e]&&(d[e]={text:d[e]});b=Math.max(b,d.length);this.k[c][a]=d}for(c=0;c<this.k.length;c++){d=this.k[c][a];
for(e=0;e<d.length;e++){if(d[e]&&d[e].rowspan)for(var f=1;f<d[e].rowspan;f++)d[e+f]=null;if(d[e]&&d[e].colspan)for(f=1;f<d[e].colspan;f++)this.k[c+f][a][e]=null}}for(c=0;c<this.k.length;c++)if(d=this.k[c][a],d.length<b){e=d.length-1;d[e].rowspan=b-d.length+1;for(e+=1;e<b;e++)d[e]=null}return b},rg:function(a,b,c,d){if(a==b)return"";c="<table style='width:"+c+"px' cellspacing='0' cellpadding='0'>";for(var e=a;e<b;e++){c+="<tr>";for(e=a;e<b;e++)c+="<th  style='width:"+this.k[e].width+"px'></th>";c+=
"</tr>"}for(var f=this.k[0][d].length,g=0;g<f;g++){c+="<tr>";for(e=a;e<b;e++){var h=this.k[e][d][g];if(null!==h){h.content&&(h.contentId=h.contentId||webix.uid(),h.columnId=this.k[e].id,h.format=this.k[e].format,h.text=webix.ui.datafilter[h.content].render(this,h),this.He[h.contentId]=h,this.$n=!0);c+="<td column='"+(h.colspan?h.colspan-1+e:e)+"'";var i="";e==a&&(i+="webix_first");var j=e+(h.colspan?h.colspan-1:0);j>=b-1&&(i+=" webix_last");i&&(c+=' class="'+i+'"');i="";h.contentId&&(c+=" active_id='"+
h.contentId+"'");h.colspan&&(c+=" colspan='"+h.colspan+"'");h.rowspan&&(c+=" rowspan='"+h.rowspan+"'",j=(this.h.headerRowHeight+1)*h.rowspan,i=" style='max-height:"+(j-1)+"px;'",c+=" style='height:"+j+"px;'");var j="webix_hcell",k=h.css;k&&("object"==typeof k&&(k=webix.html.createCss(k)),j+=" "+k);this.k[e].$selected&&(j+=" webix_sel_hcell");c+="><div class='"+j+"'"+i+">";c+=(""===h.text?"&nbsp;":h.text)+"</div></td>"}}c+="</tr>"}return c+"</tr></table>"},showIndex:function(a,b){if(-1!=a){var c=this.wi();
if(a<c[0]+1||a>=c[1]-1){var d=this.Nd(0,a);a<c[0]+1?d=Math.max(0,d-1):(d+=this.Ja(a)-this.Sb,0<a&&(d+=this.Ja(a-1)-1));this.ia.scrollTo(d)}}if(-1!=b&&!(b<this.h.leftSplit)&&!(b>=this.O)&&(c=this.vi(),b<c[0]+1||b>=c[1]-1)){for(var d=0,e=this.h.leftSplit;e<b;e++)d+=this.k[e].width;b<c[0]+1||(d+=this.k[b].width-this.Ca);this.Z.scrollTo(d)}},showCell:function(a,b){if(!b||!a){var c=this.getSelected(!0);1==c.length&&(b=b||c[0].column,a=a||c[0].row)}b=b?this.columnIndex(b):-1;a=a?this.indexById(a):-1;this.showIndex(a,
b)},scrollTo:function(a,b){if(this.Z){if(this.tg)return this.tg(a,b);null!==a&&this.Z.scrollTo(a);null!==b&&this.ia.scrollTo(b)}},scrollState:function(){if(this.dk)return this.dk();var a=this.Nd(0,this.Qj||0);return{x:this.nc,y:a-(this.qg||0)}},showItem:function(a){this.showIndex(this.indexById(a),-1)},Nj:function(a,b){a.childNodes[0].innerHTML=this.rg(0,this.h.leftSplit,this.ca,b);a.childNodes[1].innerHTML=this.rg(this.h.leftSplit,this.O,this.ua,b);a.childNodes[2].innerHTML=this.rg(this.O,this.k.length,
this.la,b);this.refreshHeaderContent()},xp:function(){this.refreshHeaderContent(!0)},refreshHeaderContent:function(a){a=!0===a;this.h.header&&this.Fj(this.M,a);this.h.footer&&this.Fj(this.va,a)},Fj:function(a,b){if(this.$n)for(var c=a.getElementsByTagName("TD"),d=0;d<c.length;d++)if(c[d].getAttribute("active_id")){var e=this.He[c[d].getAttribute("active_id")],f=webix.ui.datafilter[e.content];if(!b||f.trackCells){var g=c[d];f.refresh(this,g,e)}}},headerContent:[],tk:function(a,b,c){this.oa?(a.style.height=
Math.max(b,1)-1+"px",a.style.width=c+this.oa-1+"px"):a.style.display="none"},Ak:function(){this.h.header&&this.tk(this.yi,this.ob,this.Nc);this.h.footer&&this.tk(this.nn,this.Kc,this.Nc)},yh:function(){this.nc=this.Qa=0;if(this.h.autoheight||!1===this.h.scrollY)this.oa=0;if(this.h.autowidth||!1===this.h.scrollX)this.yb=0;this.Z||(this.Z=new webix.ui.vscroll({container:this.va.previousSibling,scrollWidth:this.ua,scrollSize:this.yb}),this.Z.attachEvent("onScroll",webix.bind(this.cp,this)));if(!this.ia){this.yi=
this.va.nextSibling;var a=this.yi.nextSibling;this.nn=a.nextSibling;this.ia=new webix.ui.vscroll({container:a,scrollHeight:100,scroll:"y",scrollSize:this.oa});this.ia.activeArea(this.o);this.Z.activeArea(this.o,!0);this.ia.attachEvent("onScroll",webix.bind(this.ep,this))}this.p&&this.callEvent("onResize",[this.p,this.q]);webix.env.$customScroll&&webix.CustomScroll.Um(this);this.yh=function(){}},columnId:function(a){return this.k[a].id},columnIndex:function(a){for(var b=0;b<this.k.length;b++)if(this.k[b].id==
a)return b;return-1},dr:function(a,b){var c=0,d,e=0,f=0,g,h=0;for(g=0;g<this.k.length;g++){if(this.O==g||this.h.leftSplit==g)c=0,h++;if(this.k[g].id==b)break;c+=this.k[g].width}d=0+this.k[g].width;for(g=0;g<this.data.order.length&&this.data.order[g]!=a;g++)f+=this.Ja(g);e+=this.Ja(g);return[c,d,f-this.Qa,e,this.o.childNodes[h]]},locate:function(a){for(a=a.target||a.srcElement||a;a&&a.getAttribute&&!a.getAttribute("view_id");){var b=a.className,c=null;if(-1!=b.indexOf("webix_cell")&&(c=this.dc(a)))c.row=
this.data.order[c.rind];if(-1!=b.indexOf("webix_hcell")&&(c=this.dc(a)))c.header=!0;if(c)return c.col=this.k[c.cind].id,c.toString=function(){return this.row},c;a=a.parentNode}return null},dc:function(a){var b=a.parentNode;if(!b)return null;for(var c=1*b.getAttribute("column"),d=0,e=0;e<b.childNodes.length;e++)b.childNodes[e]==a&&(d=e+this.k[c].Hb);return{rind:d,cind:c}},Mg:function(){this.kk();this.Bg();this.bd();this.xd(!1,!1)},setColumnWidth:function(a,b,c){if(!isNaN(b)){b<this.h.minColumnWidth&&
(b=this.h.minColumnWidth);var d=this.k[a].width;if(d!=b){a>=this.h.leftSplit&&a<this.O&&(this.ua+=b-d);a=this.k[a];a.width=b;if(a.node)a.node.style.width=b+"px";else return!1;c||this.Mg();return!0}return!1}},Ja:function(a){a=this.data.order[a];return!a?this.h.rowHeight:this.data.pull[a].$height||this.h.rowHeight},Nd:function(a,b){if(this.h.fixedRowHeight)return(b-a)*this.h.rowHeight;for(var c=0;a<b;a++)c+=this.Ja(a);return c},Ob:function(a,b){1==arguments.length&&(b=a.column,a=a.row);var c=this.item(a),
d=this.getColumn(b),e=0,f=0;for(index=0;index<this.k.length;index++){if(index==this.h.leftSplit||index==this.O)e=0;var g=this.k[index];if(g.id==b){f=index<this.h.leftSplit?0:index>=this.O?2:1;f=this.o.childNodes[f].firstChild;break}e+=g.width}g=this.Nd(this.Qj||0,this.indexById(a));return{parent:f,top:g+(this.qg||0),left:e,width:d.width,height:c.$height||this.h.rowHeight}},Vn:function(){var a=this.h.pager,b=0,c=this.data.order.length;a&&(b=a.size*a.page,c=Math.min(c,b+a.size));return this.Nd(b,c)},
setRowHeight:function(a,b){if(!isNaN(b)){b<this.h.minColumnHeight&&(b=this.h.minColumnHeight);var c=this.item(a),d=c.$height||this.h.rowHeight;d!=b&&(c.$height=b,this.render())}},ep:function(a){this.o.childNodes[1].scrollTop=this.Qa=a;if(this.h.prerender)for(var b=this.o.childNodes,c=0;c<b.length;c++)b[c].scrollTop=a;else this.xd();webix.env.$customScroll&&webix.CustomScroll.wc(this.o);this.callEvent("onScrollY",[])},cp:function(a){this.o.childNodes[1].scrollLeft=this.nc=a;this.h.header&&(this.M.childNodes[1].scrollLeft=
a);this.h.footer&&(this.va.childNodes[1].scrollLeft=a);!1===this.h.prerender&&this.xd(this.jr?!1:!0);webix.env.$customScroll&&webix.CustomScroll.wc(this.o);this.callEvent("onScrollX",[])},vi:function(a){if(a)return[0,this.k.length];a=this.nc;for(var b=this.h.leftSplit;0<a;)a-=this.k[b].width,b++;var c=b;a&&b--;for(a+=this.Ca;0<a&&c<this.O;)a-=this.k[c].width,c++;return[b,c]},getVisibleCount:function(){return Math.floor(this.Sb/this.config.rowHeight)},wi:function(a){var b=this.Qa,c=0,d=this.dataCount(),
e=this.h.pager;e&&(c=e.page*e.size,d=Math.min(d,c+e.size));if(this.h.autoheight)return[c,d,0];if(a)return[c,d];a=c;if(c=this.h.fixedRowHeight?this.h.rowHeight:0)e=Math.ceil(b/c),b-=e*c,a+=e;else for(;0<b;)b-=this.Ja(a),a++;var f=0<a?-(this.Ja(a-1)+b):0,g=a;b&&a--;b+=this.Sb||this.q;if(c)e=Math.ceil(b/c),g+=e,g>d&&(g=d);else for(;0<b&&g<d;)b-=this.Ja(g),g++;return[a,g,f]},xd:function(a,b){if(this.k.length){b&&this.Wl();var c=this.vi(this.h.prerender),d=this.wi(!0===this.h.prerender);if(a){for(var e=
this.h.leftSplit;e<c[0];e++)this.Af(e,b);for(e=c[1];e<this.O;e++)this.Af(e,b)}for(e=0;e<this.h.leftSplit;e++)this.kg(e,d,b);for(e=c[0];e<c[1];e++)this.kg(e,d,b);for(e=this.O;e<this.k.length;e++)this.kg(e,d,b);this.Sl(d)}},Sl:function(a){var b=this.h.pager,c=this.h.datafetch,d=!this.Si||a[0]>=this.Si;this.Si=a[0];if(this.Pb){if(b&&(!c||c>=b.size)&&this.qh([0,b.size*b.page],Math.max(c,b.size),!0))return this.Pb=null;this.$j(this.Pb,d);this.Pb=null}else this.h.loadahead&&this.qh(a,this.h.loadahead,d)},
qh:function(a,b,c){var d=a[1],e=d+b;c||(d=a[0]-b,e=a[0]);0>d&&(d=0);e=Math.min(e,this.data.order.length-1);a=!1;for(b=d;b<e;b++)this.data.order[b]||(a?(a.last=b,a.count=b-d):a={start:b,count:e-d});if(a)return this.$j(a,c),!0},$j:function(a,b){var c=Math.max(a.count,this.h.datafetch||this.h.loadahead||0),d=b?a.start:a.last-c+1;this.aj(a.count,a.start)||this.loadNext(c,d)},Af:function(a){a=this.k[a];webix.html.remove(a.node);a.attached=!1},Wl:function(){for(var a=0;a<this.k.length;a++)this.k[a].Hb=
-1},nb:function(a,b,c){if(!a)return null;var d;d=a[b.id];d===webix.undefined?d="":b.format&&(d=b.format(d));b.template&&(d=b.template(a,this.type,d,b,c));return d},type:{checkbox:function(a,b,c,d){return"<input class='webix_table_checkbox' type='checkbox' "+(c?'checked="true"':"")+">"},radio:function(a,b,c,d){return"<input class='webix_table_radio' type='radio' "+(c?'checked="true"':"")+">"}},type_setter:function(a){webix.extend(this.type,a,!0);return null},kg:function(a,b,c){var d=this.k[a];if(!d.attached){var e=
a<this.h.leftSplit?0:a>=this.O?2:1;this.o.childNodes[e].firstChild.appendChild(d.node);d.attached=!0;d.split=e}this.Qj=b[0];this.qg=0;this.h.scrollAlignY?b[1]==this.data.order.length?d.node.style.top=(this.qg=b[2])+"px":d.ml&&(d.node.style.top="0px"):b[2]!=d.ml&&(d.node.style.top=b[2]+"px");if(c||!(d.Hb==b[0]&&d.ll==b[1])){c="";a=this.h.columns[a];for(var e=a.$selected,f=b[0];f<b[1];f++){var g=this.data.order[f],h=this.data.item(g),i;if(h){i=this.nb(h,a,f);var j="webix_cell";if(a.cssFormat){var k=
a.cssFormat(i);k&&("object"==typeof k&&(j+=" "+webix.html.createCss(k)),j+=" "+k)}if(k=h.$css)"object"==typeof k&&(h.$css=k=webix.html.createCss(k)),j+=" "+k;if(g=this.data.S[g])g.$css&&(j+=" "+g.$css),g.$cellCss&&(g=g.$cellCss[a.id])&&(j+=" "+g);if(h.$cellCss&&(g=h.$cellCss[a.id]))"object"==typeof g&&(g=webix.html.createCss(g)),j+=" "+g;if((g=this.data.getMark(h.id,"webix_selected"))&&(g.$row||g[a.id])||e)j+=this.vg;c=h.$height?c+("<div class='"+j+"' style='height:"+h.$height+"px'>"+i+"</div>"):
c+("<div class='"+j+"'>"+i+"</div>")}else c+="<div class='webix_cell'></div>",this.Pb?this.Pb.last=f:this.Pb={start:f,count:b[1]-f}}d.node.innerHTML=c;d.Hb=b[0];d.ll=b[1];d.ml=b[2]}},uk:function(){if(this.k.length&&!isNaN(1*this.q)){var a=this.Hd+(this.yb?this.yb:0);if(!this.h.autoheight||!this.resize()){this.ia.sizeTo(this.q,this.ob,this.Kc);this.ia.define("scrollHeight",a);this.Sb=this.q-this.yb-this.ob-this.Kc;for(a=0;3>a;a++)this.o.childNodes[a].style.height=this.Sb+"px",this.o.childNodes[a].firstChild.style.height=
this.h.prerender?this.Hd+"px":this.Sb+"px"}}},Bg:function(){if(this.k.length){var a=0;for(this.Ca=this.la=this.ca=0;a<this.h.leftSplit;)this.ca+=this.k[a].width,a++;for(a=this.k.length-1;a>=this.O;)this.la+=this.k[a].width,a--;if(this.p&&(!this.h.autowidth||!this.resize()))this.Ca=this.p-this.la-this.ca-this.oa,this.o.childNodes[1].firstChild.style.width=this.ua+"px",this.o.childNodes[0].style.width=this.ca+"px",this.o.childNodes[1].style.width=this.Ca+"px",this.o.childNodes[2].style.width=this.la+
"px",this.M.childNodes[0].style.width=this.ca+"px",this.M.childNodes[1].style.width=this.Ca+"px",this.M.childNodes[2].style.width=this.la+"px",this.va.childNodes[0].style.width=this.ca+"px",this.va.childNodes[1].style.width=this.Ca+"px",this.va.childNodes[2].style.width=this.la+"px",a=this.Ca-this.ua,0>a&&(a=0),a!=this.Nc&&(this.Nc=a,this.Ak()),this.Z.sizeTo(this.p-this.oa),this.Z.define("scrollWidth",this.ua+this.ca+this.la)}},$getSize:function(a,b){if((this.h.autoheight||this.h.yCount)&&this.h.columns){var c=
(this.h.yCount||0)*this.h.rowHeight||this.Hd;this.h.height=Math.max(c+(this.yb?this.yb:0)-1,this.h.minHeight||0)+this.ob+this.Kc}this.h.autowidth&&this.h.columns&&(this.h.width=Math.max(this.ua+this.ca+this.la+this.oa,this.h.minWidth||0));var c=this.ca+this.la+this.oa,d=webix.ui.view.prototype.$getSize.call(this,a,b);d[0]=Math.max(d[0]||c);return d},$setSize:function(a,b){webix.ui.view.prototype.$setSize.apply(this,arguments)&&(this.k.length&&(this.callEvent("onResize",[this.p,this.q]),this.Bg(),
this.uk()),this.render())},Yo:function(a){if(a=this.locate(a||event))if(a=this.k[a.cind],a.sort){var b="asc";a.id==this.Qf&&(b="asc"==this.Ri?"desc":"asc");this.jd(a.id,b,a.sort)}},markSorting:function(a,b){this.xe||(this.xe=webix.html.create("DIV"));webix.html.remove(this.xe);if(b){var c=this.On(this.columnIndex(a));this.xe.className="webix_ss_sort_"+b;c.style.position="relative";c.appendChild(this.xe)}},scroll_setter:function(a){return this.h.scrollX=this.h.scrollY=a},On:function(a){for(var b=this.M.getElementsByTagName("TD"),
c=b.length-1;0<=c;c--)if(b[c].getAttribute("column")==a&&!b[c].getAttribute("active_id"))return b[c].firstChild;return null},jd:function(a,b,c){this.Qf=a;this.Ri=b;this.markSorting(a,b);"function"==typeof c?this.data.sort(c,b||"asc"):this.data.sort(a,b||"asc",c||"string")},hc:function(a,b,c){a=a||event;for(var d=a.target||a.srcElement,e=[],f="",f=null,g=!1;d&&d.parentNode;){if(f=d.className)f=f.split(" "),f=f[0]||f[1],b[f]&&e.push(b[f]);if(d.parentNode.getAttribute&&(f=d.parentNode.getAttribute("column"))&&
"DIV"==d.parentNode.tagName){g=!0;b=webix.html.index(d)+this.k[f].Hb;this.Kf=f={row:this.data.order[b],column:this.k[f].id};f.toString=function(){return this.row};if(e.length)for(b=0;b<e.length;b++){var h=e[b].call(this,a,f,d);if(!1===h)return}this.callEvent("on"+c,[f,a,d]);break}d=d.parentNode}return g},showOverlay:function(a){if(!this.Gc){var b=webix.html.create("DIV",{"class":"webix_datatable_overlay"},"");this.o.appendChild(b);this.Gc=b}this.Gc.innerHTML=a},hideOverlay:function(){this.Gc&&(webix.html.remove(this.Gc),
this.Gc=null)},mapCells:function(a,b,c,d,e){null===a&&0<this.data.order.length&&(a=this.data.order[0]);null===b&&(b=this.columnId(0));null===c&&(c=this.data.order.length);null===d&&(d=this.h.columns.length);if(this.exists(a)&&(a=this.indexById(a),b=this.columnIndex(b),null!==b))for(var f=0;f<c&&a+f<this.data.order.length;f++)for(var g=a+f,g=this.data.order[g],h=this.item(g),i=0;i<d&&b+i<this.h.columns.length;i++){var j=b+i,j=this.columnId(j);h[j]=e(h[j],g,j,f,i)}},Ml:function(a,b){!this.h.columns&&
a.getConfig&&this.define("columns",a.getConfig(b))}},webix.DataLoader,webix.MouseEvents,webix.ui.view,webix.EventSystem,webix.Settings);
webix.ui.datafilter={textWaitDelay:500,summColumn:{getValue:function(){},setValue:function(){},refresh:function(a,b,c){var d=0;a.mapCells(null,c.columnId,null,1,function(a){a*=1;isNaN(a)||(d+=a);return a});c.format&&(d=c.format(d));c.template&&(d=c.template({value:d}));b.firstChild.innerHTML=d},trackCells:!0,render:function(a,b){b.template&&(b.template=webix.Template(b.template));return""}},textFilter:{getInput:function(a){return a.firstChild.firstChild},getValue:function(a){return this.getInput(a).value},
setValue:function(a,b){this.getInput(a).value=b},refresh:function(a,b,c){b.component=a.h.id;a.setFilter(b,c,this);b.Te=a.h.id;c.value&&this.setValue(b,c.value);b.onclick=webix.html.preventEvent;webix.event(b,"keydown",this.Zo)},render:function(a,b){this.init&&this.init(b);b.css="webix_ss_filter";return"<input "+(b.placeholder?'placeholder="'+b.placeholder+'" ':"")+"type='text'>"},Zo:function(a,b,c){var d=this.Te;this.ci&&window.clearTimeout(this.ci);this.ci=window.setTimeout(function(){webix.ui.get(d).filterByAll()},
webix.ui.datafilter.textWaitDelay)}},selectFilter:{getInput:function(a){return a.firstChild.firstChild},getValue:function(a){return this.getInput(a).value},setValue:function(a,b){this.getInput(a).value=b},refresh:function(a,b,c){b.component=a.h.id;a.setFilter(b,c,this);for(var d=c.options?c.options:a.collectValues(c.columnId),e="",f=0;f<d.length;f++)e+="<option value='"+d[f]+"'>"+d[f]+"</option>";b.firstChild.innerHTML="<select>"+e+"</select>";b.Te=a.h.id;c.value&&this.setValue(b,c.value);b.onclick=
webix.html.preventEvent;webix.event(b,"change",this.Wo)},render:function(a,b){this.init&&this.$init(b);b.css="webix_ss_filter";return""},Wo:function(a,b,c){webix.ui.get(this.Te).filterByAll()}}};
webix.ui.datafilter.numberFilter=webix.extend({init:function(a){a.prepare=function(b,c){var d=-1!=b.indexOf("=")?1:0,e=this.format(b);if(""===e)return"";-1!=b.indexOf(">")?a.compare=this.Zn:-1!=b.indexOf("<")?(a.compare=this.Co,d*=-1):(a.compare=this.Wm,d=0);return e-d}},format:function(a){return a.replace(/[^0-9]/g,"")},Zn:function(a,b){return 1*a>b},Co:function(a,b){return 1*a<b},Wm:function(a,b){return 1*a==b}},webix.ui.datafilter.textFilter);
webix.ui.datafilter.dateFilter=webix.extend({format:function(a){if(""===a)return"";var b=new Date;if(-1!=a.indexOf("today"))b=webix.Date.dayStart(b);else if(-1==a.indexOf("now")){b=a.match(/[0-9]+/g);if(!b.length)return"";3>b.length?(b.reverse(),b=new Date(b[0],(b[1]||1)-1,1)):b=webix.i18n.dateFormatDate(a.replace(/^[>< =]+/,""))}return b.valueOf()}},webix.ui.datafilter.numberFilter);
webix.extend(webix.ui.datatable,{filterByAll:function(){this.data.silent(function(){this.filter();var a=!1,b;for(b in this.Ia){var c=this.Ia[b],d=c[2].getValue(c[0]);c[1].prepare&&(d=c[1].prepare.call(c[2],d,c[1],this));c.value=d;var e=c[1].compare;this.callEvent("onBeforeFilter",[b,d,c[1]])&&""!==d&&(e?this.filter(function(a,c){var d=a[b];return e(d,c,a)},d,a):this.filter(b,d,a),a=!0)}},this);this.refresh();this.callEvent("onAfterFilter",[])},filterMode_setter:function(a){return webix.extend(this.data.kf,
a,!0)},getFilter:function(a){a=this.Ia[a];return a[2].getInput(a[0])},setFilter:function(a,b,c){this.Ia[b.columnId]=[a,b,c]},collectValues:function(a){var b=[""],c={"":!0};this.data.each(function(d){d=d[a];c[d]||(c[d]=!0,b.push(d))});return b}});
webix.extend(webix.ui.datatable,{select_setter:function(a){!this.select&&a&&(webix.extend(this,this.gk.cm,!0),!0===a?a="row":"multiselect"==a&&(a="row",this.h.multiselect=!0),webix.extend(this,this.gk[a],!0));return a},getSelected:function(a){return[]},gk:{cm:{vg:" webix_cell_select",$init:function(){this.Ij();this.on_click.webix_cell=webix.bind(this.Zl,this);this.qm=this.$e=function(){this.unselect()};this.data.attachEvent("onStoreUpdated",webix.bind(this.af,this));this.data.attachEvent("onClearAll",
webix.bind(this.qm,this));this.data.attachEvent("onAfterFilter",webix.bind(this.$e,this));this.data.attachEvent("onIdChange",webix.bind(this.Cf,this))},Cf:function(a,b){for(var c=0;c<this.rc.length;c++)this.rc[c]==a&&(this.rc[c]=b);for(c=0;c<this.Y.length;c++){var d=this.Y[c];d.row==a&&(a=this.Bb(d),d.row=b,b=this.Bb(d),d.id=b,delete this.Cb[a],this.Cb[b]=!0)}},af:function(a,b,c){"delete"==c&&this.unselect(a)},Ij:function(){this.Y=[];this.Cb={};this.rc=[]},getSelected:function(a){return 1<this.Y.length||
a?this.Y:this.Y[0]},getSelectedId:function(a){var b=this.getSelected(!0);if(1<b.length||a){a=[];for(var c=0;c<b.length;c++)a[c]=b[c].id;return a}return(b[0]||{}).id||null},Ab:function(a,b){var c=this.Bb(a);if(null!==c){a.id=c;if(!this.callEvent("onBeforeSelect",[a,b]))return!1;if(!this.Cb[c]||!(b||1==this.Y.length))return b||this.Re(),this.Y.push(a),this.Cb[c]=!0,this.callEvent("onAfterSelect",[a,b]),this.Jc(this.dg(a)),!0}},Re:function(){if(!this.Y.length)return!1;for(var a=0;a<this.rc.length;a++){var b=
this.item(this.rc[a]);b&&this.data.removeMark(b.id,"webix_selected")}if(b=this.h.columns)for(a=0;a<b.length;a++)b[a].$selected=null;this.Ij();return!0},clearSelection:function(){this.Re()&&(this.callEvent("onSelectChange",[]),this.render())},Be:function(a){var b=this.Bb(a);!b&&this.Y.length&&(this.Re(),this.callEvent("onSelectChange",[]));if(this.Cb[b]){if(!this.callEvent("onBeforeUnSelect",[a]))return!1;for(var c=0;c<this.Y.length;c++)if(this.Y[c].id==b){this.Y.splice(c,1);break}delete this.Cb[b];
this.callEvent("onAfterUnselect",[a]);this.Jc(0,this.eg(a))}},Je:function(a){a=this.item(a);return this.data.addMark(a.id,"webix_selected",0,{$count:0})},Jc:function(a){a&&this.rc.push(a);this.za||(this.render(),this.callEvent("onSelectChange",[]))},Zl:function(a,b){var c=a.ctrlKey,d=a.shiftKey;!this.h.multiselect&&"multiselect"==!this.h.select&&(c=d=!1);d&&this.Y.length?(c=this.Y[this.Y.length-1],this.qe(b,c)):c&&this.Cb[this.Bb(b)]?this.Be(b):this.Ab(b,c)},Tf:function(a,b,c){var d=this.h.columns;
if(b){for(var e=[],f=0;f<d.length;f++)d[f].$selected&&e.push(d[f]);d=e}for(var e=this.data.order,g=0,f=0;f<e.length;f++){var h=this.item(e[f]),i=this.data.getMark(h.id,"webix_selected");if(i||b){for(var j=0,k=0;k<d.length;k++){var l=d[k].id;if(c||b||i[l]){if(a)h[l]=a(h[l],e[f],l,g,j);else return{row:e[f],column:l};j++}}g++}}}},row:{vg:" webix_row_select",Bb:function(a){return a.row},select:function(a,b){this.Ab({row:a},b)},dg:function(a){this.Je(a.row).$row=!0;return a.row},unselect:function(a){this.Be({row:a})},
eg:function(a){this.data.removeMark(a.row,"webix_selected");return a.row},mapSelection:function(a){return this.Tf(a,!1,!0)},qe:function(a,b){return this.selectRange(a.row,b.row)},selectRange:function(a,b){var c=this.indexById(a),d=this.indexById(b);if(c>d)var e=c,c=d,d=e;for(this.za=!0;c<=d;c++)this.select(this.idByIndex(c),!0);this.za=!1;this.Jc()}},cell:{Bb:function(a){return!a.column?null:a.row+"_"+a.column},select:function(a,b,c){this.Ab({row:a,column:b},c)},dg:function(a){var b=this.Je(a.row);
b.$count++;b[a.column]=!0;return a.row},unselect:function(a,b){this.Be({row:a,column:b})},eg:function(a){var b=this.Je(a.row);b.$count--;b[a.column]=!1;0>=b.$count&&this.data.removeMark(a.row,"webix_selected");return a.row},mapSelection:function(a){return this.Tf(a,!1,!1)},qe:function(a,b){return this.selectRange(a.row,a.column,b.row,b.column)},selectRange:function(a,b,c,d){a=this.indexById(a);c=this.indexById(c);b=this.columnIndex(b);d=this.columnIndex(d);if(a>c){var e=a;a=c;c=e}b>d&&(e=b,b=d,d=
e);for(this.za=!0;a<=c;a++)for(e=b;e<=d;e++)this.select(this.idByIndex(a),this.columnId(e),!0);this.za=!1;this.Jc()}},column:{vg:" webix_column_select",Bb:function(a){return a.column},select:function(a,b){this.Ab({column:a},b)},dg:function(a){this.h.columns[this.columnIndex(a.column)].$selected=!0;this.za||this.bd()},unselect:function(a){this.Be({column:a})},eg:function(a){this.h.columns[this.columnIndex(a.column)].$selected=null;this.bd()},mapSelection:function(a){return this.Tf(a,!0,!1)},qe:function(a,
b){return this.selectRange(a.column,b.column)},selectRange:function(a,b){var c=this.columnIndex(a),d=this.columnIndex(b);if(c>d)var e=c,c=d,d=e;for(this.za=!0;c<=d;c++)this.select(this.columnId(c),!0);this.za=!1;this.bd();this.Jc()}}}});
webix.extend(webix.ui.datatable,{blockselect_setter:function(a){a&&this.hh&&(webix.event(this.i,"mousemove",this.Dl,this),webix.event(this.i,"mousedown",this.Cl,this),webix.event(document.body,"mouseup",this.Fl,this),this.hh=this.Mb=this.Lb=!1);return a},hh:!0,Ul:function(a,b){for(var c=a.target||a.srcElement;c;){if(c==b)return!0;c=c.parentNode}return!1},Cl:function(a){this.Ul(a,this.o)&&(this.ud=webix.html.offset(this.o),a=webix.html.pos(a),this.Mb=[a.x-this.ud.x,a.y-this.ud.y])},Fl:function(){if(this.Cc){var a=
this.Wi.apply(this,this.Mb),b=this.Wi.apply(this,this.Lb);this.qe(a,b);this.Cc=webix.html.remove(this.Cc)}this.Mb=this.Lb=!1},El:function(){this.clearSelection();this.Cc=webix.html.create("div",{"class":"webix_block_selection"},"");this.o.appendChild(this.Cc)},Dl:function(a){!1!==this.Mb&&(!1===this.Lb&&this.El(a),a=webix.html.pos(a),this.Lb=[a.x-this.ud.x,a.y-this.ud.y],this.Wp(this.Mb[0],this.Mb[1],this.Lb[0],this.Lb[1]))},Wp:function(a,b,c,d){var e=this.Cc.style,f=Math.min(a,c);a=Math.max(a,c);
c=Math.min(b,d);b=Math.max(b,d);e.left=f+"px";e.top=c+"px";e.width=a-f+"px";e.height=b-c+"px"},Wi:function(a,b){if(this.la&&a>this.ca+this.Ca)a+=this.Z.getSize()-this.Ca-this.ca-this.la;else if(!this.ca||a>this.ca)a+=this.Z.getScroll();b+=this.ia.getScroll();var c=null,d=null;0>a&&(a=0);0>b&&(b=0);for(var e=this.h.columns,f=this.data.order,g=0,h=0;h<e.length;h++)if(g+=e[h].width,g>=a){d=e[h].id;break}d||(d=e[e.length-1].id);if(this.h.fixedRowHeight)c=f[Math.floor(b/this.h.rowHeight)];else for(h=0;h<
f.length;h++)if(g+=this.Ja(h),g>=b){c=f[h];break}c||(c=f[f.length-1]);return{row:c,column:d}}});
webix.protoUI({name:"resizearea",defaults:{dir:"x"},$init:function(a){var b=a.dir||"x",c=webix.toNode(a.container),d="x"==b?"width":"height",e=a.margin?a.margin+"px":0;this.Lf="x"==b?"left":"top";this.i=webix.html.create("DIV",{"class":"webix_resize_area webix_dir_"+b});webix.event(this.i,"mousedown",webix.html.stopEvent);e&&(e="x"==b?e+" 0 "+e:"0 "+e+" 0 "+e);this.Ga=webix.html.create("DIV",{"class":"webix_resize_handle_"+b,style:e?"padding:"+e:""},"<div class='webix_handle_content'></div>");this.jc=
webix.html.create("DIV",{"class":"webix_resize_origin_"+b});a[d]&&(this.jc.style[d]=a[d]+(a.border?1:0)+"px",this.Ga.style[d]=a[d]+"px");a.cursor&&(this.Ga.style.cursor=this.jc.style.cursor=this.i.style.cursor=a.cursor);this.Oo=webix.event(c,"mousemove",this.ap,this);this.Oq=webix.event(document.body,"mouseup",this.fp,this);this.Ga.style[this.Lf]=this.jc.style[this.Lf]=a.start+"px";c.appendChild(this.i);c.appendChild(this.Ga);c.appendChild(this.jc)},fp:function(){this.callEvent("onResizeEnd",[this.Wd]);
webix.eventRemove(this.Oo);webix.eventRemove(this.Oq);webix.html.remove(this.i);webix.html.remove(this.Ga);webix.html.remove(this.jc);this.i=this.Ga=this.jc=null},ap:function(a){a=webix.html.pos(a);this.Wd=("x"==this.h.dir?a.x:a.y)+this.h.start-this.h.eventPos;this.Ga.style[this.Lf]=this.Wd+"px";this.callEvent("onResize",[this.Wd])}},webix.EventSystem,webix.Settings);
webix.extend(webix.ui.datatable,{resizeRow_setter:function(a){this.h.scrollAlignY=!1;this.h.fixedRowHeight=!1;return this.resizeColumn_setter(a)},resizeColumn_setter:function(a){a&&this.Yj&&(webix.event(this.i,"mousemove",this.Qp,this),webix.event(this.i,"mousedown",this.Xj,this),webix.event(this.i,"mouseup",this.Zj,this),this.Yj=!1);return a},Yj:!0,Xj:function(a){this.ga&&(this.wb=[webix.html.pos(a),this.ga[2]],webix.html.denySelect())},Zj:function(){this.wb=!1;webix.html.allowSelect()},Rp:function(a){if(!this.P){a=
this.ga[0];var b=this.wb[1],c=this.dc(b),d=this.wb[0];if("x"==a){var e=webix.html.offset(b).x+this.ga[1]-webix.html.offset(this.o).x,d=d.x;this.ga[1]||(c.cind-=b.parentNode.colSpan||1)}else e=webix.html.offset(b).y+this.ga[1]-webix.html.offset(this.o).y+this.ob,d=d.y,this.ga[1]||c.rind--;0<=c.cind&&0<=c.rind&&(this.P=[a,c,e],a=new webix.ui.resizearea({container:this.i,dir:a,eventPos:d,start:e,cursor:("x"==a?"e":"n")+"-resize"}),a.attachEvent("onResizeEnd",webix.bind(this.Pp,this)));this.Xj=this.ga=
!1}},Pp:function(a){if(this.P){var b=this.P[0],c=this.P[1];a-=this.P[2];"x"==b?(this.h.rightSplit&&c.cind+1>=this.O&&(c.cind++,a*=-1),b=this.k[c.cind].width,this.setColumnWidth(c.cind,b+a)):(c=this.idByIndex(c.rind),b=this.item(c).$height||this.h.rowHeight,this.setRowHeight(c,b+a));this.Zj()}this.P=null},Qp:function(a){if(this.ga&&this.wb)return this.Rp(a);a=a||event;var b=a.target||a.srcElement,c=!1;if(!("TD"==b.tagName||"TABLE"==b.tagName)){var d=b.className||"",e=-1!=d.indexOf("webix_cell"),d=
-1!=d.indexOf("webix_hcell");this.ga=!1;if(e||d){var d=b.offsetWidth,f=b.offsetHeight;a=webix.html.posRelative(a);e&&this.h.resizeRow&&(3>a.y?(this.ga=["y",0,b],c="n-resize"):4>f-a.y&&(this.ga=["y",f,b],c="n-resize"));this.h.resizeColumn&&(3>a.x?(this.ga=["x",0,b],c="e-resize"):4>d-a.x&&(this.ga=["x",d,b],c="e-resize"))}this.Ch&&window.clearTimeout(this.Ch);this.Ch=webix.delay(this.Ho,this,[c],c?100:0)}},Ho:function(a){this.zo!=a&&(this.zo=a,this.i.style.cursor=a||"default")}});
webix.extend(webix.ui.datatable,webix.PagingAbility);
webix.csv={escape:!0,delimeter:{rows:"\n",cols:"\t"},parse:function(a,b){b=b||this.delimeter;if(!this.escape)return this.kq(a,b);for(var c=a.split(b.rows),d=0;d<c.length-1;)1===this.qq(c[d],'"')%2&&(c[d]+=b.rows+c[d+1],delete c[d+1],d++),d++;for(var e=[],d=0;d<c.length;d++)if("undefined"!==typeof c[d]){for(var f=c[d].split(b.cols),g=0;g<f.length;g++)0===f[g].indexOf('"')&&(f[g]=f[g].substr(1,f[g].length-2)),f[g]=f[g].replace('""','"');e.push(f)}return e},kq:function(a,b){for(var c=a.split(b.rows),
d=0;d<c.length;d++)c[d]=c[d].split(b.cols);return c},qq:function(a,b){var c=a.split(b);return c.length-1},stringify:function(a,b){b=b||this.delimeter;if(!this.escape){for(var c=0;c<a.length;c++)a[c]=a[c].join(b.cols);return a.join(b.rows)}for(var d=/\n|\"|;|,/,c=0;c<a.length;c++){for(var e=0;e<a[c].length;e++)d.test(a[c][e])&&(a[c][e]=a[c][e].replace(/"/g,'""'),a[c][e]='"'+a[c][e]+'"');a[c]=a[c].join(b.cols)}return a=a.join(b.rows)}};
webix.TablePaste={clipboard_setter:function(a){if(!0===a||1===a)this.h.clipboard="block";webix.clipbuffer.init();this.attachEvent("onSelectChange",this.Up);this.attachEvent("onPaste",this.$l);return a},Up:function(){var a=this.Un();webix.clipbuffer.set(a);webix.UIManager.setFocus(this)},Un:function(){var a=[];this.mapSelection(function(b,c,d,e,f){a[e]||(a[e]=[]);a[e].push(b);return b});return webix.csv.stringify(a,this.h.delimiter)},$l:function(a){webix.isUndefined(this.Ma[this.h.clipboard])||(a=
webix.csv.parse(a,this.h.delimiter),this.Ma[this.h.clipboard].call(this,a))},Ma:{block:function(a){var b=this.mapSelection(null);b&&(this.mapCells(b.row,b.column,a.length,null,function(b,d,e,f,g){return a[f]&&a[f].length>g?a[f][g]:b}),this.render())},selection:function(a){this.mapSelection(function(b,c,d,e,f){return a[e]&&a[e].length>f?a[e][f]:b});this.render()},repeat:function(a){this.mapSelection(function(b,c,d,e,f){c=a[e%a.length];return b=c[f%c.length]});this.render()},custom:function(a){}}};
webix.extend(webix.ui.datatable,webix.TablePaste);
(function(){function a(a){var c;c='<rows profile="color">'+b("header","head",a);a.config.footer&&(c+=b("footer","foot",a));c+=d(a);return c+"</rows>"}function b(a,b,c){for(var d="<"+b+">",e=1,k=c.h.columns,l=0;l<k.length;l++)k[l][a].length>e&&(e=k[l][a].length);k=c.h.columns;for(l=0;l<e;l++){d+="<columns>";for(c=0;c<k.length;c++)d+="<column",d+=k[c].width?' width="'+k[c].width+'"':"",d+=k[c][a][l]&&k[c][a][l].colspan?' colspan="'+k[c][a][l].colspan+'"':"",d+=k[c][a][l]&&k[c][a][l].rowspan?' rowspan="'+
k[c][a][l].rowspan+'"':"",d+=k[c].exportAsTree?' type="tree"':"",d+=' align="left"',d+="><![CDATA[",d+=k[c][a][l]?k[c][a][l].text:"",d+="]]\x3e</column>";d+="</columns>"}return d+("</"+b+">")}function c(a){var b=[];a=a.h.columns;for(var c=0;c<a.length;c++)b[c]=a[c].id;return b}function d(a){var b="",d=c(a);a=a.data;for(var e=0;e<a.order.length;e++){for(var j=a.order[e],k=a.pull[j],l=k.$level?' ldata.pullevel="'+(k.$level-1)+'"':"",b=b+('<row id="'+j+'"'+l+">"),j=0;j<d.length;j++)b+="<cell><![CDATA["+
(!webix.isUndefined(k[d[j]])?k[d[j]]:"")+"]]\x3e</cell>";b+="</row>"}return b}function e(a,b){webix.send(a,{grid_xml:b},null,"_blank")}webix.extend(webix.ui.datatable,{toPDF:function(b){var c=a(this);e(b||"http://webix.appspot.com/export/pdf",c)},toExcel:function(b){var c=a(this);e(b||"http://webix.appspot.com/export/excel",c)}})})();window.webix||(webix={});webix.storage||(webix.storage={});
webix.storage.local={put:function(a,b){a&&(window.JSON&&window.localStorage)&&window.localStorage.setItem(a,window.JSON.stringify(b))},get:function(a){return a&&window.JSON&&window.localStorage?(a=window.localStorage.getItem(a),!a?null:webix.DataDriver.json.toObject(a)):null},remove:function(a){a&&(window.JSON&&window.localStorage)&&window.localStorage.remove(a)}};
webix.storage.session={put:function(a,b){a&&(window.JSON&&window.sessionStorage)&&window.sessionStorage.setItem(a,window.JSON.stringify(b))},get:function(a){return a&&window.JSON&&window.sessionStorage?(a=window.sessionStorage.getItem(a),!a?null:webix.DataDriver.json.toObject(a)):null},remove:function(a){a&&(window.JSON&&window.sessionStorage)&&window.sessionStorage.remove(a)}};
webix.storage.cookie={put:function(a,b,c,d){a&&window.JSON&&(document.cookie=a+"="+window.JSON.stringify(b)+(d&&d instanceof Date?";expires="+d.toUTCString():"")+(c?";domain="+c:""))},qi:function(a){for(var b=document.cookie.split(";"),c="",d="",e="",f=0;f<b.length;f++)if(c=b[f].split("="),d=c[0].replace(/^\s+|\s+$/g,""),d==a)return 1<c.length&&(e=unescape(c[1].replace(/^\s+|\s+$/g,""))),e;return null},get:function(a){return a&&window.JSON?(a=this.qi(a),!a?null:webix.DataDriver.json.toObject(a)):
null},remove:function(a,b){a&&this.qi(a)&&(document.cookie=a+"="+(b?";domain="+b:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT")}};
webix.DataState={getState:function(){for(var a=this.config.columns.length,b=this.config.columns,c={ids:[],size:[],select:this.getSelected(!0)},d=0;d<a;d++)c.ids.push(b[d].id),c.size.push(b[d].width);this.Qf&&(c.sort={id:this.Qf,dir:this.Ri});if(this.Ia){var a={},e;for(e in this.Ia)b=this.Ia[e],a[e]=b[2].getValue(b[0]);c.filter=a}return c},setState:function(a){var b=this.config.columns;if(a&&a.ids&&a.size){if(a.filter){for(var c in a.filter){var d=a.filter[c];if(this.Ia[c]){var e=this.Ia[c];e[2].setValue(e[0],
d);this.He[e[1].contentId].value=d}}this.filterByAll()}d=a.ids.length;for(c=0;c<d;c++)b[c]&&b[c].width!=a.size[c]&&this.setColumnWidth(c,a.size[c],!0);this.Mg();a.sort&&this.jd(a.sort.id,a.sort.dir,b[this.columnIndex(a.sort.id)].sort);if(a.select&&this.select){a=a.select;this.unselect();for(c=0;c<a.length;c++)(!a[c].row||this.exists(a[c].row))&&this.Ab(a[c],!0)}}}};webix.extend(webix.ui.datatable,webix.DataState);
(function(){var a=webix.Touch={config:{longTouchDelay:1E3,scrollDelay:150,gravity:500,deltaStep:30,speed:"0ms",finish:1500,ellastic:!0},limit:function(b){a.Ti=!1!==b},disable:function(){a.Rb=!0},enable:function(){a.Rb=!1},$init:function(){a.$init=function(){};webix.env.touch?(webix.event(document.body,"touchstart",a.Zk),webix.event(document.body,"touchmove",a.Ig),webix.event(document.body,"touchend",a.Yk)):(a.Pd=a.Ln,webix.event(document.body,"mousedown",a.Zk),webix.event(document.body,"mousemove",
a.Ig),webix.event(document.body,"mouseup",a.Yk),document.body.style.overflowX=document.body.style.overflowY="hidden");webix.event(document.body,"dragstart",function(a){return webix.html.preventEvent(a)});webix.event(document.body,"touchstart",function(b){if(!a.Rb&&!a.Ti&&webix.env.isSafari){var c=b.srcElement.tagName.toLowerCase();if("input"==c||"textarea"==c||"select"==c||"label"==c)return!0;a.di=!0;return webix.html.preventEvent(b)}});a.zd();a.Q=[null,null];a.$active=!0},zd:function(){a.T=a.aa=
a.vb=null;a.pa=a.J=a.N=this.Yi=null;a.ma={Ee:0,Fe:0,kd:0};a.Dd&&(webix.html.removeCss(a.Dd,"webix_touch"),a.Dd=null);window.clearTimeout(a.Xi);a.jl=!0;a.sd=!0;a.td=!0;a.Pg||a.oc()},Yk:function(b){if(a.T){if(a.pa){var c=a.Vb(a.J),d=c.e,c=c.f,e=a.config.finish,f=a.ri(b,!0);if(f.kd){b=d+a.config.gravity*f.Ee/f.kd;var f=c+a.config.gravity*f.Fe/f.kd,g=a.Q[0]?a.Cd(b,!1,!1,a.N.dx,a.N.px):d,h=a.Q[1]?a.Cd(f,!1,!1,a.N.dy,a.N.py):c,i=Math.max(Math.abs(g-d),Math.abs(h-c));150>i&&(e=e*i/150);if(g!=d||h!=c)e=Math.round(e*
Math.max((g-d)/(b-d),(h-c)/(f-c)));b={e:g,f:h};(f=webix.ui.get(a.J))&&f.adjustScroll&&f.adjustScroll(b);e=Math.max(100,e);d!=b.e||c!=b.f?(a.F(a.J,b.e,b.f,e+"ms"),a.Ra&&a.Ra.Gb(b.e,b.f,e+"ms"),a.rk(b.e,b.f,e+"ms")):a.oc()}else a.oc()}else if(!this.Yi)if(a.td&&!a.sd)a.vc("onSwipeX");else if(a.sd&&!a.td)a.vc("onSwipeY");else if(webix.env.isSafari&&a.di){a.di=!1;var j=a.T.target;webix.delay(function(){var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!0);j.dispatchEvent(a)})}a.vc("onTouchEnd");
a.zd()}},Ig:function(b){if(a.T){var c=a.ri(b);a.vc("onTouchMove");if(a.pa)a.sk(c);else if(a.sd=a.ah(c.Wq,"x",a.sd),a.td=a.ah(c.yc,"y",a.td),a.pa){var d=a.tf("onBeforeScroll");if(d){var e={};d.callEvent("onBeforeScroll",[e]);e.update&&(a.config.speed=e.speed,a.config.scale=e.scale)}a.mo(c)}return webix.html.preventEvent(b)}},sk:function(){if(a.J){var b=a.Vb(a.J),c=a.vb||a.T;a.Q[0]&&(b.e=a.Cd(b.e-c.x+a.aa.x,a.config.ellastic,b.e,a.N.dx,a.N.px));a.Q[1]&&(b.f=a.Cd(b.f-c.y+a.aa.y,a.config.ellastic,b.f,
a.N.dy,a.N.py));a.F(a.J,b.e,b.f,"0ms");a.Ra&&a.Ra.Gb(b.e,b.f,"0ms");a.rk(b.e,b.f,"0ms")}},rk:function(b,c,d){b=a.N.px/a.N.dx*-b;c=a.N.py/a.N.dy*-c;a.Q[0]&&a.F(a.Q[0],b,0,d);a.Q[1]&&a.F(a.Q[1],0,c,d)},scrollTo:function(b,c,d,e){a.F(b,c,d,e)},F:function(b,c,d,e){a.Pg=!0;if(b){var f=a.config.translate||webix.env.translate;b.style[webix.env.transformPrefix+"Transform"]=f+"("+Math.round(c)+"px, "+Math.round(d)+"px"+("translate3d"==f?", 0":"")+")";b.style[webix.env.transformPrefix+"TransitionDuration"]=
e}},Vb:function(b){b=window.getComputedStyle(b)[webix.env.transformPrefix+"Transform"];if("none"==b)b={e:0,f:0};else if(window.WebKitCSSMatrix)b=new WebKitCSSMatrix(b);else{var c=b.replace(/(matrix\()(.*)(\))/gi,"$2"),c=c.replace(/\s/gi,""),c=c.split(",");b={};for(var d="abcdef".split(""),e=0;e<d.length;e++)b[d[e]]=parseInt(c[e],10)}a.Ra&&a.Ra.Rk(b);return b},Cd:function(a,c,d,e,f){if(a===d)return a;var g=Math.abs(a-d),h=g/(a-d);if(0<a)return c?d+h*Math.sqrt(g):0;e-=f;return 0>e+a?c?d-Math.sqrt(-(a-
d)):-e:a},Ff:function(b){if(!b.scroll_enabled){b.scroll_enabled=!0;b.parentNode.style.position="relative";var c=webix.env.transformCSSPrefix;b.style.cssText+=c+"transition: "+c+"transform; "+c+"user-select:none; "+c+"transform-style:flat;";b.addEventListener(webix.env.transitionEnd,a.oc,!1)}},mo:function(b){-1!=a.pa.indexOf("x")&&(a.Q[0]=a.Fc("x",a.N.dx,a.N.px,"width"));-1!=a.pa.indexOf("y")&&(a.Q[1]=a.Fc("y",a.N.dy,a.N.py,"height"));a.Ff(a.J);window.setTimeout(a.sk,1)},Fc:function(b,c,d,e){if(2>
c-d)return d=a.Vb(a.J),c="y"==b?d.e:0,d="y"==b?0:d.f,a.F(a.J,c,d,"0ms"),a.pa=a.pa.replace(b,""),"";b=webix.html.create("DIV",{"class":"webix_scroll_"+b},"");b.style[e]=Math.max(d*d/c-7,10)+"px";a.J.parentNode.appendChild(b);return b},ah:function(b,c,d){if(b>a.config.deltaStep){if(a.jl&&(a.Fo(c),a.dc(c),-1==(a.pa||"").indexOf(c)))a.pa="";return!1}return d},oc:function(){var b,c;if(c=webix.ui.get(a.J||this))a.J?b=a.Vb(a.J):c.scrollState&&(b=c.scrollState(),b={e:b.x,f:b.y}),webix.callEvent("onAfterScroll",
[b]),c.callEvent&&c.callEvent("onAfterScroll",[b]);a.pa||(webix.html.remove(a.Q),a.Q=[null,null]);a.Pg=!1},Fo:function(b){window.clearTimeout(a.Xi);a.jl=!1},Ik:function(b){if(a.Q[0]||a.Q[1])a.oq(b,a.Q[0]?"x":"y");else return!0},Zk:function(b){var c=b.target||event.srcElement;if(!(a.Rb||c.tagName&&"textarea"==c.tagName.toLowerCase()))if(a.T=a.Pd(b),a.Ti&&!a.Pi())a.Ik(b),a.T=null;else{a.vc("onTouchStart");a.Ik(b)&&(a.Xi=window.setTimeout(a.Go,a.config.longTouchDelay));var d=webix.ui.get(b);if(d&&d.touchable&&
(!c.className||0!==c.className.indexOf("webix_view")))a.Dd=d.getNode(b),webix.html.addCss(a.Dd,"webix_touch")}},Go:function(b){a.T&&(a.vc("onLongTouch"),webix.callEvent("onClick",[a.T]),a.Yi=!0)},oq:function(b,c){a.dc(c);var d=a.Q[0]||a.Q[1];if(d){var e=a.tf("onBeforeScroll");e&&e.callEvent("onBeforeScroll",[a.T,a.aa])}if(d&&(!a.J||d.parentNode!=a.J.parentNode))a.zd(),a.oc(),a.T=a.Pd(b);a.Ig(b)},ri:function(b,c){a.vb=a.aa;a.aa=a.Pd(b);a.ma.Wq=Math.abs(a.T.x-a.aa.x);a.ma.yc=Math.abs(a.T.y-a.aa.y);
a.vb&&(a.aa.time-a.vb.time<a.config.scrollDelay?(a.ma.Ee=a.ma.Ee/1.3+a.aa.x-a.vb.x,a.ma.Fe=a.ma.Fe/1.3+a.aa.y-a.vb.y):a.ma.Fe=a.ma.Ee=0,a.ma.kd=a.ma.kd/1.3+(a.aa.time-a.vb.time));return a.ma},uf:function(b){a.N={dx:b.offsetWidth,dy:b.offsetHeight,px:b.parentNode.offsetWidth,py:b.parentNode.offsetHeight}},Pi:function(b){var c=a.T.target;if(!webix.env.touch&&!webix.env.transition&&!webix.env.transform)return null;for(;c&&"BODY"!=c.tagName;){if(c.getAttribute){var d=c.getAttribute("touch_scroll");if(d&&
(!b||-1!=d.indexOf(b)))return[c,d]}c=c.parentNode}return null},dc:function(b){if(b=this.Pi(b))a.pa=b[1],a.J=b[0],a.uf(b[0]);return b},vc:function(b){webix.callEvent(b,[a.T,a.aa]);var c=a.tf(b);c&&c.callEvent(b,[a.T,a.aa])},tf:function(b){var c=webix.ui.get(a.T);if(!c)return null;for(;c;){if(c.hasEvent&&c.hasEvent(b))return c;c=c.getParent()}return null},Pd:function(b){return!b.touches[0]?(b=a.aa,b.time=new Date,b):{target:b.target,x:b.touches[0].pageX,y:b.touches[0].pageY,time:new Date}},Ln:function(a){return{target:a.target,
x:a.pageX,y:a.pageY,time:new Date}}};webix.ready(function(){(webix.env.touch||webix.env.$touch)&&a.$init()})})();webix.attachEvent("onDataTable",function(a,b){webix.env.touch&&(webix.Touch.$init(),b.scrollSize=0,webix.extend(a,!0===b.prerender?a.Gq:a.Fq))});
webix.extend(webix.ui.datatable,{Gq:{tg:function(a,b){webix.Touch.F(this.o.childNodes[1].firstChild,0,0,"0ms");this.Gb(a,b,"0ms")},dk:function(){var a=webix.Touch.Vb(this.o.childNodes[1].firstChild);return{x:-a.e,y:-a.f}},$init:function(){webix.Touch.limit();this.defaults.scrollAlignY=!1;this.o.setAttribute("touch_scroll","xy");this.attachEvent("onBeforeScroll",function(){webix.Touch.J=this.o.childNodes[1].firstChild;webix.Touch.uf(webix.Touch.J);webix.Touch.Ra=this});this.attachEvent("onTouchEnd",
function(){webix.Touch.Ra=null});webix.Touch.Ff(this.o.childNodes[1].firstChild);webix.Touch.F(this.o.childNodes[1].firstChild,0,0,"0ms");this.Gb(0,0,"0ms")},Gb:function(a,b,c){this.h.leftSplit&&webix.Touch.F(this.o.childNodes[0].firstChild,0,b,c);this.h.rightSplit&&webix.Touch.F(this.o.childNodes[2].firstChild,0,b,c);this.h.header&&webix.Touch.F(this.M.childNodes[1].firstChild,a,0,c);this.h.footer&&webix.Touch.F(this.va.childNodes[1].firstChild,a,0,c);this.callEvent("onSyncScroll",[a,b,c])},Rk:function(){}},
Fq:{tg:function(a,b){webix.delay(function(){this.callEvent("onAfterScroll",[{e:-a,f:-b}])},this)},$init:function(){webix.Touch.limit();this.defaults.scrollAlignY=!1;this.o.setAttribute("touch_scroll","xy");this.attachEvent("onBeforeScroll",function(){var a=webix.Touch;a.J=this.o.childNodes[1].firstChild;a.uf(a.J);a.N.dy=this.Hd;a.Ra=this;this.Hq=a.config.ellastic;this.Iq=a.config.gravity;this.Xk=1;a.config.ellastic=!1;a.config.gravity=0});this.attachEvent("onAfterScroll",function(a){webix.Touch.Ra=
null;webix.Touch.br=null;this.Xk&&(webix.Touch.config.ellastic=this.Hq,webix.Touch.config.gravity=this.Iq,this.Xk=0);this.Qa=0;var b=webix.Touch.config.translate;webix.Touch.config.translate="translate";this.Gb(a.e,0,"0ms");webix.Touch.config.translate=b;this.nc=-a.e;this.Qa=-a.f;this.render();return!1});webix.Touch.Ff(this.o.childNodes[1].firstChild);webix.Touch.F(this.o.childNodes[1].firstChild,0,0,"0ms");this.Gb(0,0,"0ms")},Gb:function(a,b,c){b+=this.Qa;webix.Touch.F(this.o.childNodes[1].firstChild,
a,b,c);this.h.leftSplit&&webix.Touch.F(this.o.childNodes[0].firstChild,0,b,c);this.h.rightSplit&&webix.Touch.F(this.o.childNodes[2].firstChild,0,b,c);this.h.header&&webix.Touch.F(this.M.childNodes[1].firstChild,a,0,c);this.h.footer&&webix.Touch.F(this.va.childNodes[1].firstChild,a,0,c);this.callEvent("onSyncScroll",[a,b,c])},Rk:function(a){a.f-=this.Qa}}});
webix.extend(webix.ui.datatable,{$init:function(){this.data.attachEvent("onStoreLoad",webix.bind(this.Sg,this));this.attachEvent("onStructureLoad",this.Sg);this.attachEvent("onResize",this.Gp)},Sg:function(){if(this.dataCount()){for(var a=!1,b=this.k,c=0;c<b.length;c++)b[c].adjust&&(a=this.Rg(c,!1,!0)||a);a&&this.Mg()}},Gp:function(){var a=this.h.columns;if(a)for(var b=0;b<a.length;b++)a[b].fillspace&&this.bn(b)},bn:function(a){var b=this.h.columns;if(b){for(var c=this.p-this.oa,d=0;d<b.length;d++)d!=
a&&(c-=b[d].width);0<c&&this.setColumnWidth(a,c)}},wn:function(a,b){var c=webix.html.create("DIV",{"class":"webix_table_cell"},"");c.style.cssText="white-space:nowrap; width:1px; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;";document.body.appendChild(c);for(var d=this.h.columns[a],e=-Infinity,f=0;f<this.data.order.length;f++){var g=this.nb(this.item(this.data.order[f]),d,f);c.innerHTML=g;e=Math.max(c.scrollWidth,e)}if(b)for(f=0;f<d.headers.length;f++)g=d.headers[f].text,
c.innerHTML=g,e=Math.max(c.scrollWidth,e);document.body.removeChild(c);return e-2+(webix.env.isIE?webix.skin.layoutPadding.space:0)},Rg:function(a,b,c){b=this.wn(a,b);return this.setColumnWidth(a,b,c)},adjustColumn:function(a,b){this.Rg(this.columnIndex(a),b)}});
webix.extend(webix.ui.datatable,{math_setter:function(a){a&&this.Jo();return a},xa:"$",Jo:function(){this.data.attachEvent("onStoreUpdated",webix.bind(this.lp,this));this.data.attachEvent("onStoreLoad",webix.bind(this.wj,this));this.attachEvent("onStructureLoad",this.wj)},lp:function(a,b){if(a&&!("delete"==b||"paint"==b))for(var c=0;c<this.k.length;c++)this.cg(a,this.k[c].id,!0)},cg:function(a,b,c){var d=this.item(a);if(!0===c)var e=d[this.xa+b]||d[b];else e=d[b],this.$i={};if(!("undefined"===typeof e||
null===e)){if(0<e.length&&"="===e.substr(0,1)){if("undefined"===typeof d[this.xa+b]||!0!==c)d[this.xa+b]=d[b];d[b]=this.jh(e,a,b)}else"undefined"!==typeof d[this.xa+b]&&delete d[this.xa+b],this.Lj(a,b);if("undefined"!==typeof d.depends&&"undefined"!==typeof d.depends[b])for(var f in d.depends[b])a=d.depends[b][f][0]+"__"+d.depends[b][f][1],"undefined"===typeof this.$i[a]&&(this.$i[a]=!0,this.cg(d.depends[b][f][0],d.depends[b][f][1],!0))}},mr:function(a,b){var c=this.item(a);"undefined"!==typeof c[this.xa+
b]&&(c[b]=c[this.xa+b])},wj:function(){if(this.k&&this.data.order.length){this.Zm();for(var a=0;a<this.dataCount();a++)for(var b=this.idByIndex(a),c=0;c<this.k.length;c++){var d=this.columnId(c);this.cg(b,d)}}},Zm:function(){for(var a=0;a<this.k.length;a++)if(this.k[a].math)for(var b=this.columnId(a),c="="+this.k[a].math,c=c.replace(/\$r/g,"#$r#"),c=c.replace(/\$c/g,"#$c#"),d=0;d<this.dataCount();d++){var e=this.idByIndex(d),f=this.item(e);f[b]=this.kp(c,e,b)}},kp:function(a,b,c){return webix.Template(a)({$r:b,
$c:c})},Kn:function(a,b){if(this.exists(a)&&"undefined"!==typeof this.item(a)[b])var c=this.item(a);else return"#out_of_range";var d=c[this.xa+b]||c[b],d=d.toString();if("="!==d.substring(0,1))return d;"undefined"===typeof c[this.xa+b]&&(c[this.xa+b]=c[b]);c[b]=this.jh(d,a,b,!0);return c[b]},jh:function(a,b,c,d){if(!0===d){if(this.fo(b,c))return"#selfreference"}else this.mq();this.Dq(b,c);this.item(b);a=a.substring(1);d=this.Sn(a);var e=this.Tn(a);d?(a=this.Sj(a,e),a=this.hp(a,d)):(a=this.Sj(a,e,
!0),e=[]);var f=this.Uf(a);if(!1!==f)return f;this.qn(b,c);this.Lj(b,c);for(f=0;f<e.length;f++)this.sl([b,c],e[f]);f=this.Uf(a);if(!1!==f)return f;if(null===d)return a;a=this.em(a);f=this.Uf(a);return!1!==f?f:a},Sn:function(a){var b=/(\+|\-|\*|\/)/g;return a=a.match(b)},Tn:function(a){var b=/\[([^\]]+),([^\]]+)\]/g;a=a.match(b);null===a&&(a=[]);for(b=0;b<a.length;b++){var c=a[b],d=c,c=c.substr(1,c.length-2),c=c.split(",");c[0]=this.Kg(c[0]);c[1]=this.Kg(c[1]);":"===c[0].substr(0,1)&&(c[0]=this.idByIndex(c[0].substr(1)));
":"===c[1].substr(0,1)&&(c[1]=this.columnId(c[1].substr(1)));c[2]=d;a[b]=c}return a},Sj:function(a,b,c){var d="(",e=")";c&&(d=e="");for(c=0;c<b.length;c++){var f=b[c],g=this.Kn(f[0],f[1]);a=a.replace(f[2],d+g+e)}return a},hp:function(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],e=this.jq(a,e);c.push(e[0]);a=e[1]}c.push(a);e=/^(-?\d|\.|\(|\))+$/;for(d=0;d<c.length;d++){var f=this.Kg(c[d]);if(!1===e.test(f))return"#error";c[d]=f}e="";for(d=0;d<c.length-1;d++)e+=c[d]+b[d];return e+=c[c.length-1]},
em:function(a){try{webix.temp_value="",eval("webix.temp_value = "+a)}catch(b){webix.temp_value="#error"}a=webix.temp_value;webix.temp_value=null;return a.toString()},jq:function(a,b){var c=a.indexOf(b),d=a.substr(0,c),c=a.substr(c+1);return[d,c]},Kg:function(a){a=a.replace(/^ */g,"");return a=a.replace(/ *$/g,"")},mq:function(){this.$d=[]},Dq:function(a,b){this.$d[a+"__"+b]=!0},qn:function(a,b){"undefined"!==typeof this.$d[a+"__"+b]&&delete this.$d[a+"__"+b]},fo:function(a,b){return"undefined"!==
typeof this.$d[a+"__"+b]?!0:!1},sl:function(a,b){var c=this.item(b[0]);"undefined"===typeof c.depends&&(c.depends={});"undefined"===typeof c.depends[b[1]]&&(c.depends[b[1]]={});c.depends[b[1]][a[0]+"__"+a[1]]=a;c=this.item(a[0]);"undefined"===typeof c.triggers&&(c.triggers={});"undefined"===typeof c.triggers[a[1]]&&(c.triggers[a[1]]={});c.triggers[a[1]][b[0]+"__"+b[1]]=b},Lj:function(a,b){if(this.exists(a,b)){var c=this.item(a,b);if("undefined"!==typeof c.triggers)for(var d in c.triggers[b]){var e=
c.triggers[b][d];delete this.item(e[0]).depends[e[1]][a+"__"+b]}}},Uf:function(a){var b=/#\w+/;a=a.match(b);return null!==a&&0<a.length?a[0]:!1}});
webix.extend(webix.ui.datatable,{Qd:function(a){return this.getColumn(a.column).editor},getEditor:function(a,b){1==arguments.length&&(b=a.column,a=a.row);return!a?this.fa:(this.L[a]||{})[b]},mf:function(a){for(var b in this.L){var c=this.L[b],d;for(d in c)"$count"!=d&&a.call(this,c[d])}},Ii:function(a,b,c){var d=a.row,e=a.column,f=b.config=this.getColumn(e);!1!==c&&this.showCell(d,e);c=b.render();b.$inline&&(c=this.Ui(a));b.node=c;var d=this.item(d),f=f.editFormat,g=d[e];webix.isUndefined(g)&&(g=
"");b.setValue(f?f(g):g);b.value=d[e];this.Ie(a,b);b.$inline||this.zk(a,c,!0);b.afterRender&&b.afterRender();return c},pk:function(a,b){var c=this.getColumn(a.column).editParse;this.item(a.row)[a.column]=c?c(b):b;return a.row},Ie:function(a,b,c){c=this.L[a.row]=this.L[a.row]||{};c.$count=(c.$count||0)+1;b.row=a.row;b.column=a.column;this.fa=c[a.column]=b;this.R++;this.Pf=this.scrollState()},Jj:function(a){this.fa==a&&(this.fa=0);a.destroy&&a.destroy();var b=this.L[a.row];delete b[a.column];b.$count--;
b.$count||delete this.L[a.row];this.R--},nh:function(a,b){var c=this.L[a];if(c){this.L[b]=c;delete this.L[a];for(var d in c)c[d].row=b}},Vi:function(a){var b=this.getColumn(a.column);return b&&(b.node&&b.attached)&&(a=this.indexById(a.row),a>=b.Hb&&a<b.ll)?b.node.childNodes[a-b.Hb]:0},editCell:function(a,b,c,d){return webix.EditAbility.edit.call(this,{row:a,column:b},c,d)},editRow:function(a,b){a&&a.row&&(a=a.row);var c=!1;this.eachColumn(function(b){this.edit({row:a,column:b},c,!c);c=!0})},editColumn:function(a,
b){a&&a.column&&(a=a.column);var c=!1;this.eachRow(function(b){this.edit({row:b,column:a},c,!c);c=!0})},eachRow:function(a){for(var b=0;b<this.data.order.length;b++)a.call(this,this.data.order[b])},eachColumn:function(a){for(var b=0;b<this.k.length;b++){var c=this.k[b];a.call(this,c.id,b,c)}},Ug:function(a){if(this.getSelected){var b=this.getSelected(!0);if(1==b.length)return this.Ab(a),!1}},Fd:function(a){return this.h.editable&&!this.R&&(a=this.getSelected(!0),1==a.length)?(this.editNext(a[0]),
!1):!0},lf:function(a,b,c){var d=this.indexById(a.row),e=this.columnIndex(a.column);a=this.data.order;var f=this.k;if(c)for(c=d;c<a.length;c++){for(d=e+1;d<f.length;d++)if(e={row:a[c],column:f[d].id},b.call(this,e))return e;e=-1}else for(c=d;0<=c;c--){for(d=e-1;0<=d;d--)if(e={row:a[c],column:f[d].id},b.call(this,e))return e;e=f.length}return null},lm:function(){this.R&&(this.Ci?this.Ci=!1:(this.ia.scrollTo(this.scrollState().y+this.o.childNodes[1].firstChild.scrollTop),this.o.childNodes[1].firstChild.scrollTop=
0,this.Ci=!0))},km:function(){this.R&&this.Z.scrollTo(this.o.childNodes[1].scrollLeft)},uh:function(){this.attachEvent("onScrollY",this.Mq);this.o.childNodes[1].firstChild.onscroll=webix.bind(this.lm,this);this.o.childNodes[1].onscroll=webix.bind(this.km,this)},Mq:function(){if(this.R){var a=this.Pf;this.Pf=this.scrollState();var b=this.Pf.y-a.y;this.mf(function(a){a.node.top-=b;a.node.style.top=a.node.top+"px"})}}});webix.extend(webix.ui.datatable,webix.EditAbility);
webix.extend(webix.ui.datatable,{$init:function(){this.ao={};this.bo=[];this.zf=[0,0]},moveColumn:function(a,b){var c=this.columnIndex(a);if(c!=b){var d=this.h.columns,e=d.splice(c,1);webix.PowerArray.insertAt.call(d,e[0],b-(b>c?1:0));this.Hj()}},hideColumn:function(a,b){var c=this.h.columns,d=this.bo,e=this.ao;if(!1!==b){var f=this.columnIndex(a);if(-1==f)return;if(!d.length){for(var g=0;g<c.length;g++)d[g]=c[g].id;this.zf=[this.h.leftSplit,this.O]}f<this.h.leftSplit&&this.h.leftSplit--;f>=this.O&&
this.h.rightSplit--;this.Af(f);var h=e[a]=c.splice(f,1)[0];h.Hb=-1}else{h=e[a];if(!h)return;f=null;for(g=0;g<d.length&&d[g]!=a;g++)e[d[g]]||(f=d[g]);f=f?this.columnIndex(f)+1:0;webix.PowerArray.insertAt.call(c,h,f);g<this.zf[0]&&this.h.leftSplit++;g>=this.zf[1]&&this.h.rightSplit++;e[a]=null}this.Hj()},refreshColumns:function(a){for(var b=0;b<this.k.length;b++){var c=this.k[b];c.attached=c.node=null}for(b=0;3>b;b++)this.o.childNodes[b].firstChild.innerHTML="";a&&(this.k=this.config.columns=a);this.Hh();
this.render()},Hj:function(){this.Yg();this.render()},showColumn:function(a){return this.hideColumn(a,!1)}});
webix.extend(webix.ui.datatable,{$a:function(a){return function(b){if(b&&b.moveSelection&&!b.R)return b.moveSelection(a)}},navigation_setter:function(a){a&&!webix.UIManager.Xn&&(webix.UIManager.Xn=!0,webix.UIManager.addHotKey("up",this.$a("up")),webix.UIManager.addHotKey("down",this.$a("down")),webix.UIManager.addHotKey("pageup",this.$a("pgup")),webix.UIManager.addHotKey("pagedown",this.$a("pgdown")),webix.UIManager.addHotKey("home",this.$a("top")),webix.UIManager.addHotKey("end",this.$a("bottom")),
webix.UIManager.addHotKey("right",this.$a("right")),webix.UIManager.addHotKey("left",this.$a("left")));return a},moveSelection:function(a){var b=this.getSelected(!0);if(1==b.length){var c=b[0].row,b=b[0].column;if("top"==a||"bottom"==a){if(c&&("top"==a?c=this.data.first():"bottom"==a&&(c=this.data.last())),b){var d=0;"bottom"==a&&(d=this.config.columns.length-1);b=this.columnId(d)}}else if(c&&("up"==a||"down"==a||"pgup"==a||"pgdown"==a)){d=this.indexById(c);c="pgup"==a||"pgdown"==a?Math.round(this.Sb/
this.h.rowHeight):1;if("up"==a||"pgup"==a)d-=c;else if("down"==a||"pgdown"==a)d+=c;0>d&&(d=0);d>=this.data.order.length&&(d=this.data.order.length-1);c=this.idByIndex(d)}else if(b&&("right"==a||"left"==a)){d=this.columnIndex(b);"right"==a?d++:"left"==a&&d--;if(0>d||d>=this.config.columns.length)return;b=this.columnId(d)}else return;this.showCell(c,b);this.Ab({row:c,column:b});return!1}}});webix.extend(webix.ui.datatable,webix.DataMove);webix.extend(webix.ui.datatable,webix.DragItem);
webix.extend(webix.ui.datatable,{$dragHTML:function(a,b){if(this.Jh)return this.zm(a,b);for(var c="<div class='webix_dd_drag'>",d=this.h.columns,e=0;e<d.length;e++)var f=this.nb(a,d[e]),c=c+("<div>"+f+"</div>");return c+"</div>"},zm:function(a,b){for(var c=this.$view.offsetWidth-this.oa,c="<div class='webix_dd_drag' style='width:"+(c-2)+"px;overflow:hidden;'>",d=this.h.columns,e=0;e<d.length;e++)var f=this.nb(a,d[e]),c=c+("<div style='width:"+d[e].width+"px;'>"+f+"</div>");return c+"</div>"},D:function(a,
b){return this.Ta(a)},Ta:function(a,b){return a&&(!a.header||!b)?this.data.order[a.rind]:0},dragColumn_setter:function(a){if("order"==a)var b={$drag:webix.bind(function(a,d){var e=this.locate(d);if(!e||!this.callEvent("onBeforeColumnDrag",[e.col,d]))return!1;webix.DragControl.ta={from:b,start:e,custom:"column_dnd"};e=this.getColumn(e.col);this.zp=webix.html.posRelative(d);this.Do=e.width;return"<div class='webix_dd_drag_column' style='width:"+e.width+"px'>"+(e.header[0].text||"&nbsp;")+"</div>"},
this),$dragPos:webix.bind(function(a,b,e){var f=webix.DragControl.getContext(),g=webix.html.offset(this.$view);e.style.display="none";var h=document.elementFromPoint(a.x,g.y+1),i=this.locate(h),j=webix.DragControl.getContext().start.col;if(i&&i.col!=j&&(!this.sh||i.col!=this.bc)&&"column_dnd"==f.custom&&webix.ui.get(h)==this){if(!this.callEvent("onBeforeColumnDropOrder",[j,i.col,b]))return;b=this.columnIndex(j);f=this.columnIndex(i.col);this.moveColumn(j,f+(b<f?1:0));this.bc=i.col;this.sh=!0}i&&i.col==
j&&(this.sh=!1);e.style.display="block";a.x-=this.zp.x;a.y=g.y;a.x<g.x?a.x=g.x:(e=g.x+this.$view.offsetWidth-this.oa-this.Do,a.x>e&&(a.x=e));webix.DragControl.ve=!0},this),$drop:webix.bind(function(a,b,e){a=webix.DragControl.getContext().start;this.callEvent("onAfterColumnDropOrder",[a.col,this.bc,e])},this)};else a&&(b={Gf:!0,$drag:webix.bind(function(a,d){var e=this.locate(d);if(!e||!this.callEvent("onBeforeColumnDrag",[e.col,d]))return!1;webix.DragControl.ta={from:b,start:e,custom:"column_dnd"};
return"<div class='webix_dd_drag_column'>"+(this.getColumn(e.col).header[0].text||"&nbsp;")+"</div>"},this),$drop:webix.bind(function(a,b,e){a=this.locate(e);if(!a)return!1;b=webix.DragControl.getContext().start.col;if(b!=a.col&&this.callEvent("onBeforeColumnDrop",[b,a.col,e])){var f=this.columnIndex(b),g=this.columnIndex(a.col);this.moveColumn(b,g+(f<g?1:0));this.callEvent("onAfterColumnDrop",[b,a.col,e])}},this),$dragIn:webix.bind(function(a,d,e){a=webix.DragControl.getContext();if("column_dnd"!=
a.custom||a.from!=b)return!1;e=e.target||e.srcElement;e!=this.Hc&&(this.Hc&&webix.html.removeCss(this.Hc,"webix_dd_over_column"),webix.html.addCss(e,"webix_dd_over_column"));return this.Hc=e},this),$dragDestroy:webix.bind(function(a,b){this.Hc&&webix.html.removeCss(this.Hc,"webix_dd_over_column");webix.html.remove(b)},this)});webix.DragControl.addDrag(this.M,b);webix.DragControl.addDrop(this.M,b,!0)}});
webix.extend(webix.ui.datatable,{fc:function(a,b){this.rh(a);for(var c in b)this.addCellCss(a,c,"webix_invalid_cell");this.data.addMark(a,"webix_invalid",!0)},Da:function(a){this.rh(a);this.data.removeMark(a,"webix_invalid",!0)},rh:function(a){this.item(a);if(a=this.data.getMark(a,"$cellCss"))for(var b in a)a[b]=a[b].replace("webix_invalid_cell","").replace("  "," ")},addRowCss:function(a,b){this.addMark(a,b,!0)},removeRowCss:function(a,b){this.removeMark(a,b,!0)},addCellCss:function(a,b,c){var d=
this.data.getMark(a,"$cellCss"),e=d||{},f=e[b]||"";e[b]=f.replace(c,"").replace("  "," ")+" "+c;d||this.data.addMark(a,"$cellCss",!1,e)},removeCellCss:function(a,b,c){if(a=this.data.getMark(a,"$cellCss")){var d=a[b]||"";d&&(a[b]=d.replace(c,"").replace("  "," "))}}});webix.extend(webix.ui.datatable,webix.ValidateCollection);webix.TreeTableClick={};(function(){})();
webix.TreeTablePaste={insert:function(a){for(var b=this.getSelectedId(!0),c=0;c<a.length;c++){for(var d={},e=0;e<this.h.columns.length;e++)d[this.h.columns[e].id]=a[c][e]||"";!webix.isUndefined(d.id)&&this.exists(d.id)&&(d.id=webix.uid());this.add(d,null,b[0])}}};
webix.protoUI({name:"treetable",$init:function(){webix.extend(this.data,webix.TreeStore,!0);webix.extend(this.type,webix.TreeType);webix.extend(this,webix.TreeDataMove,!0);for(var a in webix.TreeClick)this.on_click[a]||(this.on_click[a]=this.Lq(webix.TreeClick[a]));this.type.treetable=webix.Template("{common.space()}{common.icon()} {common.folder()} #value#");this.data.provideApi(this,!0)},ef:!1,Lq:function(a){return function(b,c){c=c.row;return a.call(this,b,c)}},getState:function(){var a=webix.DataState.getState.call(this);
webix.extend(a,webix.TreeAPI.getState.call(this));return a},setState:function(a){webix.TreeAPI.setState.call(this,a)&&webix.DataState.setState.call(this,a)},clipboard_setter:function(a){webix.extend(this.Ma,webix.TreeTablePaste);return webix.TablePaste.clipboard_setter.call(this,a)}},webix.TreeAPI,webix.TreeStateCheckbox,webix.ui.datatable,webix.TreeDataLoader);
webix.Canvas=webix.proto({$init:function(a){this.Nb=[];this.Pl=a.name;this.X=webix.toNode(a.container||a);this.zj(a.name,a.style)},zj:function(a,b){this.$=webix.html.create("canvas",{width:this.X.offsetWidth||this.p,height:this.X.offsetHeight||this.q,canvas_id:a,style:b||""});this.X.appendChild(this.$);!this.$.getContext&&webix.env.isIE&&(webix.require("thirdparty/excanvas/excanvas.js"),G_vmlCanvasManager.init_(document),G_vmlCanvasManager.initElement(this.$));return this.$},getCanvas:function(a){return(this.$||
this.zj(this.m)).getContext(a||"2d")},Fp:function(){this.$&&(this.$.setAttribute("width",this.$.parentNode.offsetWidth),this.$.setAttribute("height",this.$.parentNode.offsetHeight))},renderText:function(a,b,c,d,e){if(c)return e&&(e=Math.max(e,0)),b&&(b=Math.max(b,0)),a=webix.html.create("DIV",{"class":"webix_canvas_text"+(d?" "+d:""),style:"left:"+a+"px; top:"+b+"px;"},c),this.X.appendChild(a),this.Nb.push(a),e&&(a.style.width=e+"px"),a},renderTextAt:function(a,b,c,d,e,f,g){if(e=this.renderText.call(this,
c,d,e,f,g))a&&(e.style.top="middle"==a?parseInt(d-e.offsetHeight/2,10)+"px":d-e.offsetHeight+"px"),b&&(e.style.left="left"==b?c-e.offsetWidth+"px":parseInt(c-e.offsetWidth/2,10)+"px");return e},clearCanvas:function(a){for(var b=[],b=0;b<this.Nb.length;b++)this.X.removeChild(this.Nb[b]);this.Nb=[];if(!a&&this.X.s){for(b=this.mi();b.length;)b[0].parentNode.removeChild(b[0]),b.splice(0,1);this.X.s.getElementsByTagName("AREA").length||(this.X.s.parentNode.removeChild(this.X.s),this.X.s=null)}this.getCanvas().clearRect(0,
0,this.$.offsetWidth,this.$.offsetHeight)},toggleCanvas:function(){this.Hg("none"==this.$.style.display)},showCanvas:function(){this.Hg(!0)},hideCanvas:function(){this.Hg(!1)},Hg:function(a){var b,c;for(c=0;c<this.Nb.length;c++)this.Nb[c].style.display=a?"":"none";if(this.X.s){b=this.mi();for(c=0;c<b.length;c++)a?b[c].removeAttribute("disabled"):b[c].setAttribute("disabled","true")}this.$.style.display=a?"":"none"},mi:function(){var a=[],b,c;b=this.X.s.getElementsByTagName("AREA");for(c=0;c<b.length;c++)b[c].getAttribute("userdata")==
this.Pl&&a.push(b[c]);return a}});webix.Group={$init:function(){this.data.attachEvent("onClearAll",webix.bind(function(){this.ungroup(!1)},this));webix.extend(this.data,webix.GroupStore)},group:function(a,b){this.data.ungroup(!1);this.data.group(a);!1!==b&&this.render()},ungroup:function(a){this.data.ungroup();!1!==a&&this.render()}};
webix.GroupStore={sum:function(a,b){a=webix.Template(a);var c=0;(b||this).each(function(b){c+=1*a(b)});return c},min:function(a,b){a=webix.Template(a);var c=Infinity;(b||this).each(function(b){1*a(b)<c&&(c=1*a(b))});return 1*c},max:function(a,b){a=webix.Template(a);var c=-Infinity;(b||this).each(function(b){1*a(b)>c&&(c=1*a(b))});return c},Xg:function(a,b){a=webix.Template(a);return a(b[0])},ungroup:function(){this.Yf&&(this.order=this.Yf,this.pull=this.mj,this.mj=this.Yf=null);this.callEvent("onStoreUpdated",
[])},wf:function(a){this.blockEvent();this.group(a);this.unblockEvent()},group:function(a){var b=webix.Template(a.by);a.map[b]||(a.map[b]=[b,this.Xg]);var c={},d=[];this.each(function(a){var e=b(a);c[e]||(d.push({id:e}),c[e]=webix.toArray());c[e].push(a)});for(var e in a.map){var f=a.map[e][1]||this.Xg;"function"!=typeof f&&(f=this[f]);for(var g=0;g<d.length;g++)d[g][e]=f.call(this,a.map[e][0],c[d[g].id])}this.Yf=this.order;this.mj=this.pull;this.order=webix.toArray();this.pull={};for(g=0;g<d.length;g++)a=
this.id(d[g]),this.pull[a]=d[g],this.order.push(a);this.callEvent("onStoreUpdated",[])}};
webix.color={Cq:"0123456789ABCDEF".split(""),toHex:function(a,b){a=parseInt(a,10);for(var c="";0<a;)c=this.Cq[a%16]+c,a=Math.floor(a/16);for(;c.length<b;)c="0"+c;return c},hexToDec:function(a){return parseInt(a,16)},toRgb:function(a){var b,c;"string"!=typeof a?(b=a[0],c=a[1],a=a[2]):-1!=a.indexOf("rgb")?(a=a.substr(a.indexOf("(")+1,a.lastIndexOf(")")-a.indexOf("(")-1).split(","),b=a[0],c=a[1],a=a[2]):("#"==a.substr(0,1)&&(a=a.substr(1)),b=this.hexToDec(a.substr(0,2)),c=this.hexToDec(a.substr(2,2)),
a=this.hexToDec(a.substr(4,2)));b=parseInt(b,10)||0;c=parseInt(c,10)||0;a=parseInt(a,10)||0;if(0>b||255<b)b=0;if(0>c||255<c)c=0;if(0>a||255<a)a=0;return[b,c,a]},hsvToRgb:function(a,b,c){var d,e,f,g,h;d=Math.floor(a/60)%6;e=a/60-d;a=c*(1-b);f=c*(1-e*b);b=c*(1-(1-e)*b);h=g=e=0;switch(d){case 0:e=c;g=b;h=a;break;case 1:e=f;g=c;h=a;break;case 2:e=a;g=c;h=b;break;case 3:e=a;g=f;h=c;break;case 4:e=b;g=a;h=c;break;case 5:e=c,g=a,h=f}e=Math.floor(255*e);g=Math.floor(255*g);h=Math.floor(255*h);return[e,g,
h]},rgbToHsv:function(a,b,c){var d,e,f;a/=255;b/=255;c/=255;d=Math.min(a,b,c);e=Math.max(a,b,c);f=0;e==d?f=0:e==a&&b>=c?f=60*(b-c)/(e-d)+0:e==a&&b<c?f=60*(b-c)/(e-d)+360:e==b?f=60*(c-a)/(e-d)+120:e==c&&(f=60*(a-b)/(e-d)+240);return[f,0===e?0:1-d/e,e]}};
webix.HtmlMap=webix.proto({$init:function(a){this.I="map_"+webix.uid();this.Rc=a;this.Sf=[]},addRect:function(a,b,c){this.xh(a,"RECT",b,c)},addPoly:function(a,b){this.xh(a,"POLY",b)},xh:function(a,b,c,d){var e="";4==arguments.length&&(e="userdata='"+d+"'");this.Sf.push("<area "+this.Rc+"='"+a+"' shape='"+b+"' coords='"+c.join()+"' "+e+"></area>")},addSector:function(a,b,c,d,e,f,g){var h=[];h.push(d);for(h.push(Math.floor(e*g));b<c;b+=Math.PI/18)h.push(Math.floor(d+f*Math.cos(b))),h.push(Math.floor((e+
f*Math.sin(b))*g));h.push(Math.floor(d+f*Math.cos(c)));h.push(Math.floor((e+f*Math.sin(c))*g));h.push(d);h.push(Math.floor(e*g));return this.addPoly(a,h)},render:function(a){var b=webix.html.create("DIV");b.style.cssText="position:absolute; width:100%; height:100%; top:0px; left:0px;";a.appendChild(b);var c=webix.env.isIE?"":"src='data:image/gif;base64,R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs='";b.innerHTML="<map id='"+this.I+"' name='"+this.I+"'>"+this.Sf.join("\n")+
"</map><img "+c+" class='webix_map_img' usemap='#"+this.I+"'>";a.s=b;this.Sf=[]}});
webix.protoUI({name:"chart",$init:function(a){this.z=[this.h];this.ir=[];this.m.className+=" webix_chart";this.$ready.push(this.hb);a.preset&&this.wm(a);this.attachEvent("onMouseMove",this.sq);this.data.provideApi(this,!0)},hb:function(){this.data.attachEvent("onStoreUpdated",webix.bind(function(){this.render()},this))},defaults:{color:"RAINBOW",alpha:"1",label:!1,value:"{obj.value}",padding:{},type:"pie",lineColor:"#ffffff",cant:0.5,barWidth:30,line:{width:2,color:"#1293f8"},item:{radius:3,borderColor:"#636363",
borderWidth:1,color:"#ffffff",alpha:1,type:"r",shadow:!1},shadow:!0,gradient:!1,border:!0,labelOffset:20,origin:"auto"},I:"webix_area_id",on_click:{webix_chart_legend_item:function(a,b,c){b=c.getAttribute("series_id");if(this.callEvent("onLegendClick",[a,b,c])){a=this.h;var d=a.legend.values;a=d&&d[b].toggle||a.legend.toggle;"undefined"!=typeof b&&1<this.z.length&&a&&(-1!=c.className.indexOf("hidden")?this.showSeries(b):this.hideSeries(b))}}},on_dblclick:{},on_mouse_move:{},$setSize:function(a,b){if(webix.ui.view.prototype.$setSize.call(this,
a,b)){for(var c in this.canvases)this.canvases[c].Fp();this.render()}},type_setter:function(a){"undefined"==typeof this.h.offset&&(this.h.offset=!("area"==a||"stackedArea"==a));"radar"==a&&!this.h.yAxis&&this.define("yAxis",{});"scatter"==a&&(this.h.yAxis||this.define("yAxis",{}),this.h.xAxis||this.define("xAxis",{}));return a},clearCanvas:function(){if(this.canvases&&"object"==typeof this.canvases)for(var a in this.canvases)this.canvases[a].clearCanvas()},render:function(){var a,b,c,d,e;if(this.isVisible(this.h.id)&&
this.callEvent("onBeforeRender",[this.data])){if(this.canvases&&"object"==typeof this.canvases)for(b in this.canvases)this.canvases[b].clearCanvas();else this.canvases={};this.h.legend&&(this.canvases.legend||(this.canvases.legend=this.Fa("legend")),this.ff(this.data.getRange(),this.p,this.q));a=this.un(this.p,this.q);d=new webix.HtmlMap(this.I);e=this.h;c=this.vn();for(b=0;b<this.z.length;b++)this.h=this.z[b],this.canvases[b]||(this.canvases[b]=this.Fa(b,"z-index:"+(2+b))),this["$render_"+this.h.type](this.canvases[b].getCanvas(),
c,a.start,a.end,b,d);d.render(this.m);this.m.lastChild.style.zIndex=100;this.vl(this.m.lastChild,a);this.callEvent("onAfterRender",[]);this.h=e}},vl:function(a,b){var c={};c.left=b.start.x;c.top=b.start.y;c.width=b.end.x-b.start.x;c.height=b.end.y-b.start.y;for(var d in c)a.style[d]=c[d]+"px"},vn:function(){var a,b,c,d,e,f;d=this.data.getRange();a=-1!=this.h.type.toLowerCase().indexOf("barh")?"yAxis":"xAxis";if((b=this.h[a])&&b.units&&"object"==typeof b.units){c=b.units;a=[];if("undefined"!=typeof c.start&&
"undefined"!=typeof c.end&&"undefined"!=typeof c.next)for(e=c.start;e<=c.end;)a.push(e),e=c.next.call(this,e);else"[object Array]"===Object.prototype.toString.call(c)&&(a=c);c=[];if(a.length){e=b.value;f={};for(b=0;b<d.length;b++)f[e(d[b])]=b;for(b=0;b<a.length;b++)"undefined"!=typeof f[a[b]]?(d[f[a[b]]].$unit=a[b],c.push(d[f[a[b]]])):c.push({$unit:a[b]})}return c}return d},series_setter:function(a){if("object"==typeof a){this.ge(!a.length?a:a[0],{});for(var b=1;b<a.length;b++)this.addSeries(a[b])}return a},
value_setter:webix.Template,xValue_setter:webix.Template,yValue_setter:function(a){this.define("value",a)},alpha_setter:webix.Template,label_setter:webix.Template,lineColor_setter:webix.Template,borderColor_setter:webix.Template,pieInnerText_setter:webix.Template,gradient_setter:function(a){"function"!=typeof a&&(a&&!0===a)&&(a="light");return a},colormap:{RAINBOW:function(a){a=Math.floor(1536*(this.indexById(a.id)/this.dataCount()));1536==a&&(a-=1);return this.sp[Math.floor(a/256)](a%256)}},color_setter:function(a){return this.colormap[a]||
webix.Template(a)},fill_setter:function(a){return!a||"0"==a?!1:webix.Template(a)},wm:function(a){this.define("preset",a.preset);delete a.preset},preset_setter:function(a){var b,c,d;this.defaults=webix.extend({},this.defaults);d=this.presets[a];if("object"==typeof d){for(b in d)if("object"==typeof d[b])if(!this.defaults[b]||"object"!=typeof this.defaults[b])this.defaults[b]=webix.extend({},d[b]);else for(c in this.defaults[b]=webix.extend({},this.defaults[b]),d[b])this.defaults[b][c]=d[b][c];else this.defaults[b]=
d[b];return a}return!1},legend_setter:function(a){if(!a)return this.legendObj&&(this.legendObj.innerHTML="",this.legendObj=null),!1;"object"!=typeof a&&(a={template:a});this.ya(a,{width:150,height:18,layout:"y",align:"left",valign:"bottom",template:"",toggle:-1!=this.h.type.toLowerCase().indexOf("stacked")?"":"hide",marker:{type:"square",width:15,height:15,radius:3},margin:4,padding:3});a.template=webix.Template(a.template);return a},item_setter:function(a){"object"!=typeof a&&(a={color:a,borderColor:a});
this.ya(a,webix.extend({},this.defaults.item));var b=["alpha","borderColor","color","radius"];this.Ve(b,a);return a},line_setter:function(a){"object"!=typeof a&&(a={color:a});webix.extend(this.defaults.line,a,!0);a=webix.extend({},this.defaults.line);a.color=webix.Template(a.color);return a},padding_setter:function(a){"object"!=typeof a&&(a={left:a,right:a,top:a,bottom:a});this.ya(a,{left:50,right:20,top:35,bottom:40});return a},xAxis_setter:function(a){if(!a)return!1;"object"!=typeof a&&(a={template:a});
this.ya(a,{title:"",color:"#000000",lineColor:"#cfcfcf",template:"{obj}",lines:!0});var b=["lineColor","template","lines"];this.Ve(b,a);this.Bd=webix.extend({},a);return a},yAxis_setter:function(a){this.ya(a,{title:"",color:"#000000",lineColor:"#cfcfcf",template:"{obj}",lines:!0,bg:"#ffffff"});var b=["lineColor","template","lines","bg"];this.Ve(b,a);this.Ec=webix.extend({},a);return a},Ve:function(a,b){for(var c=0;c<a.length;c++)b[a[c]]=webix.Template(b[a[c]])},Fa:function(a,b,c){return new webix.Canvas({container:c||
this.m,name:a,style:b||""})},gf:function(a,b,c,d,e,f){var g=0;this.h.yAxis&&(this.canvases.y=this.Fa("axis_y"),g=this.Uh(this.canvases.y.getCanvas(),a,b,c,d,e));this.h.xAxis&&(this.canvases.x=this.Fa("axis_x"),this.Th(this.canvases.x.getCanvas(),a,b,c,f,g));return g},Th:function(a,b,c,d,e,f){var g=c.x-0.5;f=parseInt(f?f:d.y,10)+0.5;for(var h=d.x,i,j=!0,k=0;k<b.length;k++){!0===this.h.offset?i=g+e/2+k*e:(i=k==b.length-1?d.x:g+k*e,j=!!k);i=Math.ceil(i)-0.5;var l="auto"!=this.h.origin&&"bar"==this.h.type&&
parseFloat(this.h.value(b[k]))<this.h.origin;this.Om(i,f,b[k],j,l);(this.h.offset||k)&&this.h.xAxis.lines.call(this,b[k])&&this.Pm(a,i,d.y,c.y,b[k])}this.canvases.x.renderTextAt(!0,!1,g,d.y+this.h.padding.bottom-3,this.h.xAxis.title,"webix_axis_title_x",d.x-c.x);this.G(a,g,f,h,f,this.h.xAxis.color,1);this.h.xAxis.lines.call(this,{})&&this.h.offset&&this.G(a,h+0.5,d.y,h+0.5,c.y+0.5,this.h.xAxis.color,0.2)},Uh:function(a,b,c,d,e,f){var g;b={};if(this.h.yAxis){var h=c.x-0.5,i=d.y,j=c.y,k=d.y;this.h.yAxis.step&&
(g=parseFloat(this.h.yAxis.step));if("undefined"==typeof this.Ec.step||"undefined"==typeof this.Ec.start||"undefined"==typeof this.Ec.end)b=this.Oe(e,f),e=b.start,f=b.end,g=b.step,this.h.yAxis.end=f,this.h.yAxis.start=e;this.ik(c,d);if(0!==g){if(f==e)return i;for(var l=(i-j)*g/(f-e),p=0,m=e;m<=f;m+=g){b.fixNum&&(m=parseFloat((new Number(m)).toFixed(b.fixNum)));var n=Math.floor(i-p*l)+0.5;!(m==e&&"auto"==this.h.origin)&&this.h.yAxis.lines.call(this,m)&&this.G(a,h,n,d.x,n,this.h.yAxis.lineColor.call(this,
m),1);m==this.h.origin&&(k=n);var q=m;1>g&&(q=Math.min(this.ec(g),0>=e?0:this.ec(e)),q=Math.pow(10,-q),m=q=Math.round(m*q)/q);this.canvases.y.renderText(0,n-5,this.h.yAxis.template(q.toString()),"webix_axis_item_y",c.x-5);p++}this.G(a,h,i+1,h,j,this.h.yAxis.color,1);return k}}},ik:function(a,b){var c="webix_axis_title_y"+(webix.qo&&9!=webix.qo?" webix_ie_filter":"");if(c=this.canvases.y.renderTextAt("middle",!1,0,parseInt((b.y-a.y)/2+a.y,10),this.h.yAxis.title,c))c.style.left=(webix.env.transform?
(c.offsetHeight-c.offsetWidth)/2:0)+"px"},Oe:function(a,b){"auto"!=this.h.origin&&this.h.origin<a&&(a=this.h.origin);var c,d,e;c=(b-a)/8||1;var f=Math.floor(this.ec(c));e=Math.pow(10,f);c=5<c/e?10:5;c=parseInt(c,10)*e;if(c>Math.abs(a))d=0>a?-c:0;else{e=Math.abs(a);d=Math.floor(this.ec(e));var g=e/Math.pow(10,d);d=Math.ceil(10*g)/10*Math.pow(10,d)-c;for(1<e&&0.1<c&&(d=Math.ceil(d));0>a?d<=a:d>=a;)d-=c;0>a&&(d=-d-2*c)}for(e=d;e<b;)e+=c,e=parseFloat((new Number(e)).toFixed(Math.abs(f)));return{start:d,
end:e,step:c,fixNum:Math.abs(f)}},Ub:function(a,b){var c,d;d=arguments.length&&"h"==a?this.Bd:this.Ec;b=b||"value";if(d&&"undefined"!=typeof d.end&&"undefined"!=typeof d.start&&d.step)c=parseFloat(d.end),d=parseFloat(d.start);else if(c=this.data.max(this.z[0][b]),d=d&&"undefined"!=typeof d.start?parseFloat(d.start):this.data.min(this.z[0][b]),1<this.z.length)for(var e=1;e<this.z.length;e++){var f=this.data.max(this.z[e][b]),g=this.data.min(this.z[e][b]);f>c&&(c=f);g<d&&(d=g)}return{max:c,min:d}},
ec:function(a){return Math.floor(Math.log(a)/Math.LN10)},Om:function(a,b,c,d,e){if(this.h.xAxis&&(a=this.canvases.x.renderTextAt(e,d,a,b-(e?2:0),this.h.xAxis.template(c))))a.className+=" webix_axis_item_x"},Pm:function(a,b,c,d,e){this.h.xAxis&&this.h.xAxis.lines&&this.G(a,b,c,b,d,this.h.xAxis.lineColor.call(this,e),1)},G:function(a,b,c,d,e,f,g){a.strokeStyle=f;a.lineWidth=g;a.beginPath();a.moveTo(b,c);a.lineTo(d,e);a.stroke();a.lineWidth=1},mb:function(a,b){return[b!=a?b-a:a,1]},sp:[function(a){return"#FF"+
webix.color.toHex(a/2,2)+"00"},function(a){return"#FF"+webix.color.toHex(a/2+128,2)+"00"},function(a){return"#"+webix.color.toHex(255-a,2)+"FF00"},function(a){return"#00FF"+webix.color.toHex(a,2)},function(a){return"#00"+webix.color.toHex(255-a,2)+"FF"},function(a){return"#"+webix.color.toHex(a,2)+"00FF"}],addSeries:function(a){var b=webix.extend({},this.h);this.h=webix.extend({},b);this.ge(a,{});this.z.push(this.h);this.h=b},sq:function(a,b,c){if(c.getAttribute("userdata")&&(this.Og=c.getAttribute("userdata"),
this.z[this.Og])){for(b=0;b<this.z.length;b++)(a=this.z[b].tooltip)&&a.disable();c.getAttribute("disabled")||(a=this.z[this.Og].tooltip)&&a.enable()}},hideSeries:function(a){this.canvases[a].hideCanvas();this.h.legend.values&&this.h.legend.values[a]&&(this.h.legend.values[a].$hidden=!0);this.ff()},showSeries:function(a){this.canvases[a].showCanvas();this.h.legend.values&&this.h.legend.values[a]&&delete this.h.legend.values[a].$hidden;this.ff()},ff:function(a,b){var c,d,e,f,g,h=0,i=0,j,k;a=a||[];b=
b||this.p;j=this.canvases.legend.getCanvas();d=this.h.legend;f="x"!=this.h.legend.layout?"width:"+d.width+"px":"";this.Xd&&(this.Xd.innerHTML="",this.Xd.parentNode.removeChild(this.Xd));this.canvases.legend.clearCanvas(!0);e=webix.html.create("DIV",{"class":"webix_chart_legend",style:"left:"+h+"px; top:"+i+"px;"+f},"");d.padding&&(e.style.padding=d.padding+"px");this.Xd=e;this.m.appendChild(e);f=[];if(d.values)for(c=0;c<d.values.length;c++)f.push(this.Ph(e,d.values[c].text,"undefined"!=typeof d.values[c].id?
typeof d.values[c].id:c,d.values[c].$hidden));else for(c=0;c<a.length;c++)f.push(this.Ph(e,d.template(a[c])));0===e.offsetWidth&&(e.style.width="auto");g=e.offsetWidth;c=e.offsetHeight;g<b&&("x"==d.layout&&"center"==d.align&&(h=(b-g)/2),"right"==d.align&&(h=b-g),d.margin&&"center"!=d.align&&(h+=("left"==d.align?1:-1)*d.margin));c<this.m.offsetHeight&&("middle"==d.valign&&"center"!=d.align&&"x"!=d.layout?i=(this.m.offsetHeight-c)/2:"bottom"==d.valign&&(i=this.m.offsetHeight-c),d.margin&&"middle"!=
d.valign&&(i+=("top"==d.valign?1:-1)*d.margin));e.style.left=h+"px";e.style.top=i+"px";j.save();for(c=0;c<f.length;c++)k=f[c],d.values&&d.values[c].$hidden?(g=!0,e=d.values[c].disableColor?d.values[c].disableColor:"#d9d9d9"):(g=!1,e=d.values?d.values[c].color:this.h.color.call(this,a[c])),this.Hm(j,k.offsetLeft+h,k.offsetTop+i,e,k.offsetHeight,g,c);j.restore()},Ph:function(a,b,c,d){var e="";"x"==this.h.legend.layout&&(e="float:left;");e=webix.html.create("DIV",{style:e+"padding-left:"+(10+this.h.legend.marker.width)+
"px","class":"webix_chart_legend_item"+(d?" hidden":"")},b);2<arguments.length&&e.setAttribute("series_id",c);a.appendChild(e);return e},Hm:function(a,b,c,d,e,f,g){var h=[],h=this.h.legend.marker;d&&(a.strokeStyle=a.fillStyle=d);if("round"==h.type||!h.radius){a.beginPath();a.lineWidth=h.height;a.lineCap=h.type;b+=a.lineWidth/2+5;c+=e/2;a.moveTo(b,c);var i=b+h.width-h.height+1;a.lineTo(i,c);a.stroke();a.fill()}else if("item"==h.type){if(this.h.line&&"scatter"!=this.h.type&&!this.h.disableLines){a.beginPath();
a.lineWidth=this.z[g].line.width;a.strokeStyle=f?d:this.z[g].line.color.call(this,{});var i=b+5,j=c+e/2;a.moveTo(i,j);i+=h.width;a.lineTo(i,j);a.stroke()}a.beginPath();g=this.z[g].item;j=parseInt(g.radius.call(this,{}),10)||3;f?(a.lineWidth=g.borderWidth,a.strokeStyle=d,a.fillStyle=d):(a.lineWidth=g.borderWidth,a.fillStyle=g.color.call(this,{}),a.strokeStyle=g.borderColor.call(this,{}),a.globalAlpha=g.alpha.call(this,{}));a.beginPath();b+=h.width/2+5;this.ze(a,b,c+e/2,j+1,g.type);a.fill();a.stroke();
a.globalAlpha=1}else a.beginPath(),a.lineWidth=1,b+=5,c+=e/2-h.height/2,h=[[b+h.radius,c+h.radius,h.radius,Math.PI,3*Math.PI/2,!1],[b+h.width-h.radius,c],[b+h.width-h.radius,c+h.radius,h.radius,-Math.PI/2,0,!1],[b+h.width,c+h.height-h.radius],[b+h.width-h.radius,c+h.height-h.radius,h.radius,0,Math.PI/2,!1],[b+h.radius,c+h.height],[b+h.radius,c+h.height-h.radius,h.radius,Math.PI/2,Math.PI,!1],[b,c+h.radius]],this.Zc(a,h),a.stroke(),a.fill()},un:function(a,b){var c,d,e,f;c=this.h.padding.left;d=this.h.padding.top;
e=a-this.h.padding.right;f=b-this.h.padding.bottom;if(this.h.legend){var g=this.h.legend,h=this.h.legend.width,i=this.h.legend.height;"x"==g.layout?"center"==g.valign?"right"==g.align?e-=h:"left"==g.align&&(c+=h):"bottom"==g.valign?f-=i:d+=i:"right"==g.align?e-=h:"left"==g.align&&(c+=h)}return{start:{x:c,y:d},end:{x:e,y:f}}},sf:function(a){var b,c,d;if(this.h.yAxis&&"undefined"!=typeof this.h.yAxis.end&&"undefined"!=typeof this.h.yAxis.start&&this.h.yAxis.step)c=parseFloat(this.h.yAxis.end),d=parseFloat(this.h.yAxis.start);
else{for(b=0;b<a.length;b++){a[b].$sum=0;a[b].$min=Infinity;for(c=0;c<this.z.length;c++)d=parseFloat(this.z[c].value(a[b])||0),isNaN(d)||(-1!=this.z[c].type.toLowerCase().indexOf("stacked")&&(a[b].$sum+=d),d<a[b].$min&&(a[b].$min=d))}c=-Infinity;d=Infinity;for(b=0;b<a.length;b++)a[b].$sum>c&&(c=a[b].$sum),a[b].$min<d&&(d=a[b].$min);0<d&&(d=0)}return{max:c,min:d}},se:function(a,b,c,d,e,f,g,h){var i;"light"==f?(a="x"==h?a.createLinearGradient(b,c,d,c):a.createLinearGradient(b,c,b,e),i=[[0,"#FFFFFF"],
[0.9,g],[1,g]],f=2):"falling"==f||"rising"==f?(a="x"==h?a.createLinearGradient(b,c,d,c):a.createLinearGradient(b,c,b,e),b=webix.color.toRgb(g),b=webix.color.rgbToHsv(b[0],b[1],b[2]),b[1]*=0.5,b="rgb("+webix.color.hsvToRgb(b[0],b[1],b[2])+")","falling"==f?i=[[0,b],[0.7,g],[1,g]]:"rising"==f&&(i=[[0,g],[0.3,g],[1,b]]),f=0):(a.globalAlpha=0.37,f=0,a="x"==h?a.createLinearGradient(b,e,b,c):a.createLinearGradient(b,c,d,c),i=[[0,"#9d9d9d"],[0.3,"#e8e8e8"],[0.45,"#ffffff"],[0.55,"#ffffff"],[0.7,"#e8e8e8"],
[1,"#9d9d9d"]]);this.Yn(a,i);return{gradient:a,offset:f}},lb:function(a,b,c,d){a*=-1;b+=Math.cos(a)*d;c-=Math.sin(a)*d;return{x:b,y:c}},Yn:function(a,b){for(var c=0;c<b.length;c++)a.addColorStop(b[c][0],b[c][1])},Zc:function(a,b){var c,d;for(c=0;c<b.length;c++)d=c?"lineTo":"moveTo",2<b[c].length&&(d="arc"),a[d].apply(a,b[c])},Zq:function(a,b,c,d,e){a.addRect(b,[c[0].x-d.x,c[0].y-d.y,c[1].x-d.x,c[1].y-d.y],e)}},webix.Group,webix.AutoTooltip,webix.DataLoader,webix.MouseEvents,webix.EventSystem,webix.ui.view);
webix.extend(webix.ui.chart,{$render_pie:function(a,b,c,d,e,f){this.mg(a,b,c,d,1,f,e)},mg:function(a,b,c,d,e,f,g){if(b.length){var h=this.pf(c,d);d=this.h.radius?this.h.radius:h.radius;if(!(0>d)){var i=this.In(b),j=this.oi(i),k=this.ni(i,j),l=this.h.x?this.h.x:h.x,h=this.h.y?this.h.y:h.y;1==e&&this.h.shadow&&this.rl(a,l,h,d);var h=h/e,p=-Math.PI/2,m=[];a.scale(1,e);this.h.gradient&&this.eq(a,l,h,d,1!=e?l+d/3:l,1!=e?h+d/3:h);for(var n=0;n<b.length;n++)if(i[n]){a.strokeStyle=this.h.lineColor.call(this,
b[n]);a.beginPath();a.moveTo(l,h);m.push(p);var q=-Math.PI/2+k[n]-1E-4;a.arc(l,h,d,p,q,!1);a.lineTo(l,h);var s=this.h.color.call(this,b[n]);a.fillStyle=s;a.fill();this.h.pieInnerText&&this.Rh(l,h,5*d/6,p,q,e,this.h.pieInnerText(b[n],j),!0);this.h.label&&this.Rh(l,h,d+this.h.labelOffset,p,q,e,this.h.label(b[n]));1!=e&&(this.wh(a,l,h,p,q,d,!0),a.fillStyle="#000000",a.globalAlpha=0.2,this.wh(a,l,h,p,q,d,!1),a.globalAlpha=1,a.fillStyle=s);f.addSector(b[n].id,p,q,l-c.x,h-c.y/e,d,e,g);p=q}a.globalAlpha=
0.8;for(n=0;n<m.length;n++)c=this.lb(m[n],l,h,d),this.G(a,l,h,c.x,c.y,this.h.lineColor.call(this,b[n]),2);1==e&&(a.lineWidth=2,a.strokeStyle="#ffffff",a.beginPath(),a.arc(l,h,d+1,0,2*Math.PI,!1),a.stroke());a.globalAlpha=1;a.scale(1,1/e)}}},In:function(a){for(var b=[],c=0;c<a.length;c++)b.push(parseFloat(this.h.value(a[c])||0));return b},oi:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c];return b},ni:function(a,b){var c,d=[],e=0;b=b||this.oi(a);for(var f=0;f<a.length;f++)c=a[f],d[f]=2*Math.PI*
(b?(c+e)/b:1/a.length),e+=c;return d},pf:function(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.x+c/2,f=a.y+d/2,c=Math.min(c/2,d/2);return{x:e,y:f,radius:c}},wh:function(a,b,c,d,e,f,g){a.lineWidth=1;if(0>=d&&0<=e||0<=d&&e<=Math.PI||0.003<Math.abs(d-Math.PI)&&d<=Math.PI&&e>=Math.PI){0>=d&&0<=e&&(d=0,g=!1,this.Sh(a,b,c,f,d,e));d<=Math.PI&&e>=Math.PI&&(e=Math.PI,g=!1,this.Sh(a,b,c,f,d,e));var h=(this.h.pieHeight||Math.floor(f/4))/this.h.cant;a.beginPath();a.arc(b,c,f,d,e,!1);a.lineTo(b+f*Math.cos(e),c+f*Math.sin(e)+
h);a.arc(b,c+h,f,e,d,!0);a.lineTo(b+f*Math.cos(d),c+f*Math.sin(d));a.fill();g&&a.stroke()}},Sh:function(a,b,c,d,e,f){a.beginPath();a.arc(b,c,d,e,f,!1);a.stroke()},rl:function(a,b,c,d){a.globalAlpha=0.5;for(var e="#c4c4c4 #c6c6c6 #cacaca #dcdcdc #dddddd #e0e0e0 #eeeeee #f5f5f5 #f8f8f8".split(" "),f=e.length-1;-1<f;f--)a.beginPath(),a.fillStyle=e[f],a.arc(b+1,c+1,d+f,0,2*Math.PI,!0),a.fill();a.globalAlpha=1},An:function(a){a.addColorStop(0,"#ffffff");a.addColorStop(0.7,"#7a7a7a");a.addColorStop(1,"#000000");
return a},eq:function(a,b,c,d,e,f){a.beginPath();var g;"function"!=typeof this.h.gradient?(g=a.createRadialGradient(e,f,d/4,b,c,d),g=this.An(g)):g=this.h.gradient(g);a.fillStyle=g;a.arc(b,c,d,0,2*Math.PI,!0);a.fill();a.globalAlpha=0.7},Rh:function(a,b,c,d,e,f,g,h){if(g=this.canvases[0].renderText(0,0,g,0,1)){var i=g.scrollWidth;g.style.width=i+"px";i>a&&(i=a);var j=0.2>e-d?4:8;h&&(j=i/1.8);var k=d+(e-d)/2;c-=(j-8)/2;var l=-j,p="right";if(k>=Math.PI/2&&k<Math.PI||k<=3*Math.PI/2&&k>=Math.PI)l=-i-l+
1,p="left";var m=0;!h&&(1>f&&0<k&&k<Math.PI)&&(m=(this.h.height||Math.floor(c/4))/f);b=(b+Math.floor((c+m)*Math.sin(k)))*f+-8;c=a+Math.floor((c+j/2)*Math.cos(k))+l;f=e<Math.PI/2+0.01;if((j=d<Math.PI/2)&&f)c=Math.max(c,a+3),0.2>e-d&&(c=a);else if(!j&&!f)c=Math.min(c,a-i);else if(!h&&(k>=Math.PI/2&&k<Math.PI||k<=3*Math.PI/2&&k>=Math.PI))c+=i/3;g.style.top=b+"px";g.style.left=c+"px";g.style.width=i+"px";g.style.textAlign=p;g.style.whiteSpace="nowrap"}},$render_pie3D:function(a,b,c,d,e,f){this.mg(a,b,
c,d,this.h.cant,f)},$render_donut:function(a,b,c,d,e,f){b.length&&(this.mg(a,b,c,d,1,f),b=this.h,c=this.pf(c,d),d=b.radius?b.radius:c.radius,d=b.innerRadius&&b.innerRadius<d?b.innerRadius:d/3,e=b.x?b.x:c.x,b=b.y?b.y:c.y,a.fillStyle="#ffffff",a.beginPath(),a.arc(e,b,d,0,2*Math.PI,!0),a.fill())}});
webix.extend(webix.ui.chart,{$render_bar:function(a,b,c,d,e,f){var g,h,i,j,k,l,p,m,n,q;g=d.y-c.y;q=!!this.h.yAxis;n=!!this.h.xAxis;h=this.Ub();j=h.max;k=h.min;h=(d.x-c.x)/b.length;!e&&("auto"==this.h.origin||q)&&this.gf(b,c,d,k,j,h);q&&(j=parseFloat(this.h.yAxis.end),k=parseFloat(this.h.yAxis.start));l=this.mb(k,j);i=l[0];l=l[1];m=i?g/i:i;!q&&!("auto"!=this.h.origin&&n)&&(p=10,m=i?(g-p)/i:p);!e&&("auto"!=this.h.origin&&!q&&this.h.origin>k)&&this.Th(a,b,c,d,h,d.y-m*(this.h.origin-k));g=parseInt(this.h.barWidth,
10);var s=0,x=0;for(i=0;i<this.z.length;i++)i==e&&(x=s),"bar"==this.z[i].type&&s++;this.z&&g*s+4>h&&(g=parseInt(h/s-4,10));var s=(h-g*s)/2,r="undefined"!=typeof this.h.radius?parseInt(this.h.radius,10):Math.round(g/5),u=!1,t=this.h.gradient;t&&"function"!=typeof t?(u=t,t=!1):t&&(t=a.createLinearGradient(0,d.y,0,c.y),this.h.gradient(t));n||this.G(a,c.x,d.y+0.5,d.x,d.y+0.5,"#000000",1);for(i=0;i<b.length;i++){var v=parseFloat(this.h.value(b[i])||0);if(!isNaN(v)){v>j&&(v=j);var v=v-k,v=v*l,w=c.x+s+i*
h+(g+1)*x,y=d.y;if(0>v||this.h.yAxis&&0===v&&!("auto"!=this.h.origin&&this.h.origin>k))this.canvases[e].renderTextAt(!0,!0,w+Math.floor(g/2),y,this.h.label(b[i]));else{!q&&!("auto"!=this.h.origin&&n)&&(v+=p/m);var z=t||this.h.color.call(this,b[i]);a.globalAlpha=this.h.alpha.call(this,b[i]);var A=this.Bm(a,c,w,y,g,k,r,m,v,z,t,u);u&&this.Dm(a,w,y,g,k,r,m,v,z,u);this.h.border&&this.Cm(a,w,y,g,k,r,m,v,z);a.globalAlpha=1;A[0]!=w?this.canvases[e].renderTextAt(!1,!0,w+Math.floor(g/2),A[1],this.h.label(b[i])):
this.canvases[e].renderTextAt(!0,!0,w+Math.floor(g/2),A[3],this.h.label(b[i]));f.addRect(b[i].id,[w-c.x,A[3]-c.y,A[2]-c.x,A[1]-c.y],e)}}}},Xe:function(a,b,c,d,e,f,g){var h=this.h.xAxis,i=c;h&&("auto"!=this.h.origin&&this.h.origin>g)&&(i=c-=(this.h.origin-g)*e,d-=this.h.origin-g,0>d&&(d*=-1,a.translate(b+f,c),a.rotate(Math.PI),c=b=0),c-=0.5);return{value:d,x0:b,y0:c,start:i}},Bm:function(a,b,c,d,e,f,g,h,i,j,k,l){a.save();a.fillStyle=j;d=this.Xe(a,c,d,i,h,e,f);e=this.xg(a,d.x0,d.y0,e,g,h,d.value,this.h.border?
1:0);k&&!l&&a.lineTo(d.x0+(this.h.border?1:0),b.y);a.fill();a.restore();a=d.x0;b=d.x0!=c?c+e[0]:e[0];k=d.x0!=c?d.start-e[1]-d.y0:d.y0;c=d.x0!=c?d.start-d.y0:e[1];return[a,k,b,c]},te:function(a,b){var c;c=webix.color.toRgb(b);c=webix.color.rgbToHsv(c[0],c[1],c[2]);c[2]/=2;b="rgb("+webix.color.hsvToRgb(c[0],c[1],c[2])+")";a.strokeStyle=b;1==a.globalAlpha&&(a.globalAlpha=0.9)},Cm:function(a,b,c,d,e,f,g,h,i){a.save();b=this.Xe(a,b,c,h,g,d,e);this.te(a,i);this.xg(a,b.x0,b.y0,d,f,g,b.value,a.lineWidth/
2,1);a.stroke();a.restore()},Dm:function(a,b,c,d,e,f,g,h,i,j){a.save();b=this.Xe(a,b,c,h,g,d,e);i=this.se(a,b.x0,b.y0,b.x0+d,b.y0-g*b.value+2,j,i,"y");j=this.h.border?1:0;a.fillStyle=i.gradient;this.xg(a,b.x0+i.offset,b.y0,d-2*i.offset,f,g,b.value,i.offset+j);a.fill();a.restore()},xg:function(a,b,c,d,e,f,g,h,i){a.beginPath();var j=0;if(e>f*g){var k=(e-f*g)/e;1>=k&&-1<=k&&(j=-Math.acos(k)+Math.PI/2)}a.moveTo(b+h,c);k=c-Math.floor(f*g)+e+(e?0:h);e<f*g&&a.lineTo(b+h,k);e&&0<e&&a.arc(b+e,k,e-h,-Math.PI+
j,-Math.PI/2,!1);g=b+d-e-h;f=k-e+(e?h:0);a.lineTo(g,f);e&&0<e&&a.arc(g,k,e-h,-Math.PI/2,0-j,!1);d=b+d-h;a.lineTo(d,c);i||a.lineTo(b+h,c);return[d,f]}});
webix.extend(webix.ui.chart,{$render_line:function(a,b,c,d,e,f){var g,h,i,j,k,l,p;j=this.wd(a,b,c,d,e);g=this.h;if(b.length){k=g.offset?c.x+0.5*j.cellWidth:c.x;i=[];for(h=0;h<b.length;h++)if(p=this.Od(b[h],c,d,j))l=!h?k:j.cellWidth*h-0.5+k,i.push({x:l,y:p,index:h});this.Yd=c;for(h=1;h<=i.length;h++)l=i[h-1].x,p=i[h-1].y,h<i.length&&(d=i[h].x,j=i[h].y,this.G(a,l,p,d,j,g.line.color.call(this,b[h-1]),g.line.width),g.line&&g.line.shadow&&(a.globalAlpha=0.3,this.G(a,l+2,p+g.line.width+8,d+2,j+g.line.width+
8,"#eeeeee",g.line.width+3),a.globalAlpha=1)),this.Gd(a,l,p,b[i[h-1].index],g.label(b[i[h-1].index]),e,f,c)}},Gd:function(a,b,c,d,e,f,g){var h=this.h.item,i=parseInt(h.radius.call(this,d),10)||0,j=this.Yd;if(i){a.save();if(h.shadow){a.lineWidth=1;a.strokeStyle="#bdbdbd";a.fillStyle="#bdbdbd";for(var k=[0.1,0.2,0.3],l=k.length-1;0<=l;l--)a.globalAlpha=k[l],a.strokeStyle="#d0d0d0",a.beginPath(),this.ze(a,b,c+2*i/3,i+l+1,h.type),a.stroke();a.beginPath();a.globalAlpha=0.3;a.fillStyle="#bdbdbd";this.ze(a,
b,c+2*i/3,i+1,h.type);a.fill()}a.restore();a.lineWidth=h.borderWidth;a.fillStyle=h.color.call(this,d);a.strokeStyle=h.borderColor.call(this,d);a.globalAlpha=h.alpha.call(this,d);a.beginPath();this.ze(a,b,c,i+1,h.type);a.fill();a.stroke();a.globalAlpha=1}e&&this.canvases[f].renderTextAt(!1,!0,b,c-i-this.h.labelOffset,this.h.label.call(this,d));g&&(a=this.h.eventRadius||i+1,g.addRect(d.id,[b-a-j.x,c-a-j.y,b+a-j.x,c+a-j.y],f))},ze:function(a,b,c,d,e){var f=[];e&&("square"==e||"s"==e)?(d*=Math.sqrt(2)/
2,f=[[b-d-a.lineWidth/2,c-d],[b+d,c-d],[b+d,c+d],[b-d,c+d],[b-d,c-d]]):e&&("diamond"==e||"d"==e)?(e=1<a.lineWidth?a.lineWidth*Math.sqrt(2)/4:0,f=[[b,c-d],[b+d,c],[b,c+d],[b-d,c],[b+e,c-d-e]]):f=e&&("triangle"==e||"t"==e)?[[b,c-d],[b+Math.sqrt(3)*d/2,c+d/2],[b-Math.sqrt(3)*d/2,c+d/2],[b,c-d]]:[[b,c,d,0,2*Math.PI,!0]];this.Zc(a,f)},Od:function(a,b,c,d){var e=d.minValue,f=d.maxValue,g=d.unit,h=d.valueFactor;a=this.h.value(a);h*=parseFloat(a||0)-e;this.h.yAxis||(h+=d.startValue/g);d=c.y-g*h;0>h&&(d=c.y);
a>f&&(d=b.y);a<e&&(d=c.y);return d},wd:function(a,b,c,d,e){a={};a.totalHeight=d.y-c.y;a.cellWidth=(d.x-c.x)/(!this.h.offset?b.length-1:b.length);var f=!!this.h.yAxis,g=-1!=this.h.type.indexOf("stacked")?this.sf(b):this.Ub();a.maxValue=g.max;a.minValue=g.min;e||this.gf(b,c,d,a.minValue,a.maxValue,a.cellWidth);f&&(a.maxValue=parseFloat(this.h.yAxis.end),a.minValue=parseFloat(this.h.yAxis.start));c=this.mb(a.minValue,a.maxValue);b=c[0];a.valueFactor=c[1];a.unit=b?a.totalHeight/b:10;a.startValue=0;f||
(a.startValue=10,a.unit!=a.totalHeight&&(a.unit=b?(a.totalHeight-a.startValue)/b:10));return a}});
webix.extend(webix.ui.chart,{$render_barH:function(a,b,c,d,e,f){var g,h,i,j,k,l,p,m,n,q,s,x,r,u,t,v,w;i=(d.y-c.y)/b.length;p=this.Ub("h");m=p.max;p=p.min;h=d.x-c.x;w=!!this.h.yAxis;e||this.Nh(a,b,c,d,p,m,i);w&&(m=parseFloat(this.h.xAxis.end),p=parseFloat(this.h.xAxis.start));q=this.mb(p,m);g=q[0];q=q[1];u=g?h/g:10;w||(x=10,u=g?(h-x)/g:10);h=parseInt(this.h.barWidth,10);h*this.z.length+4>i&&(h=i/this.z.length-4);g=Math.floor((i-h*this.z.length)/2);s="undefined"!=typeof this.h.radius?parseInt(this.h.radius,
10):Math.round(h/5);n=!1;(k=this.h.gradient)&&"function"!=typeof k?(n=k,k=!1):k&&(k=a.createLinearGradient(c.x,c.y,d.x,c.y),this.h.gradient(k));w||this.G(a,c.x-0.5,c.y,c.x-0.5,d.y,"#000000",1);for(l=0;l<b.length;l++)if(r=parseFloat(this.h.value(b[l]||0)),r>m&&(r=m),r-=p,r*=q,t=c.x,v=c.y+g+l*i+(h+1)*e,0>r&&"auto"==this.h.origin||this.h.xAxis&&0===r&&!("auto"!=this.h.origin&&this.h.origin>p))this.canvases[e].renderTextAt("middle","right",t+10,v+h/2+g,this.h.label(b[l]));else{0>r&&("auto"!=this.h.origin&&
this.h.origin>p)&&(r=0);w||(r+=x/u);j=k||this.h.color.call(this,b[l]);this.h.border&&this.Mh(a,t,v,h,p,s,u,r,j);a.globalAlpha=this.h.alpha.call(this,b[l]);var y=this.Em(a,d,t,v,h,p,s,u,r,j,k,n);n&&this.Fm(a,t,v,h,p,s,u,r,j,n);a.globalAlpha=1;y[3]==v?(this.canvases[e].renderTextAt("middle","left",y[0]-5,y[3]+Math.floor(h/2),this.h.label(b[l])),f.addRect(b[l].id,[y[0]-c.x,y[3]-c.y,y[2]-c.x,y[3]+h-c.y],e)):(this.canvases[e].renderTextAt("middle",!1,y[2]+5,y[1]+Math.floor(h/2),this.h.label(b[l])),f.addRect(b[l].id,
[y[0]-c.x,v-c.y,y[2]-c.x,y[3]-c.y],e))}},gd:function(a,b,c,d,e,f,g,h,i){var j=0;e>f*g&&(j=-Math.asin((e-f*g)/e)+Math.PI/2);a.moveTo(b,c+h);var k=b+f*g-e-(e?0:h);e<f*g&&a.lineTo(k,c+h);e&&0<e&&a.arc(k,c+e,e-h,-Math.PI/2+j,0,!1);g=c+d-e-(e?0:h);f=k+e-(e?h:0);a.lineTo(f,g);e&&0<e&&a.arc(k,g,e-h,0,Math.PI/2-j,!1);d=c+d-h;a.lineTo(b,d);i||a.lineTo(b,c+h);return[f,d]},Nh:function(a,b,c,d,e,f,g){a=0;this.h.xAxis&&(this.canvases.x=this.Fa("axis_x"),a=this.Oh(this.canvases.x.getCanvas(),b,c,d,e,f));this.h.yAxis&&
(this.canvases.y=this.Fa("axis_y"),this.Gm(this.canvases.y.getCanvas(),b,c,d,g,a))},Gm:function(a,b,c,d,e,f){if(this.h.yAxis){var g;f=parseInt(f?f:c.x,10)-0.5;g=d.y+0.5;var h=c.y;this.G(a,f,g,f,h,this.h.yAxis.color,1);for(var i=0;i<b.length;i++){var j="auto"!=this.h.origin&&"barH"==this.h.type&&parseFloat(this.h.value(b[i]))<this.h.origin;g=h+e/2+i*e;this.canvases.y.renderTextAt("middle",j?!1:"left",j?f+5:f-5,g,this.h.yAxis.template(b[i]),"webix_axis_item_y",j?0:f-10);this.h.yAxis.lines.call(this,
b[i])&&this.G(a,c.x,g,d.x,g,this.h.yAxis.lineColor.call(this,b[i]),1)}this.G(a,c.x+0.5,h+0.5,d.x,h+0.5,this.h.yAxis.lineColor.call(this,{}),1);this.ik(c,d)}},Oh:function(a,b,c,d,e,f){var g;b={};var h=this.h.xAxis;if(h){var i=d.y+0.5,j=c.x-0.5,k=d.x-0.5,l=c.x;this.G(a,j,i,k,i,h.color,1);h.step&&(g=parseFloat(h.step));if("undefined"==typeof this.Bd.step||"undefined"==typeof this.Bd.start||"undefined"==typeof this.Bd.end)b=this.Oe(e,f),e=b.start,f=b.end,g=b.step,this.h.xAxis.end=f,this.h.xAxis.start=
e,this.h.xAxis.step=g;if(0!==g){for(var p=(k-j)*g/(f-e),m=0,n=e;n<=f;n+=g){b.fixNum&&(n=parseFloat((new Number(n)).toFixed(b.fixNum)));var q=Math.floor(j+m*p)+0.5;!(n==e&&"auto"==this.h.origin)&&h.lines.call(this,n)&&this.G(a,q,i,q,c.y,this.h.xAxis.lineColor.call(this,n),1);n==this.h.origin&&(l=q+1);this.canvases.x.renderTextAt(!1,!0,q,i+2,h.template(n.toString()),"webix_axis_item_x");m++}this.canvases.x.renderTextAt(!0,!1,j,d.y+this.h.padding.bottom-3,this.h.xAxis.title,"webix_axis_title_x",d.x-
c.x);h.lines.call(this,{})||this.G(a,j,c.y-0.5,k,c.y-0.5,this.h.xAxis.color,0.2);return l}}},We:function(a,b,c,d,e,f,g){var h=this.h.yAxis,i=b;h&&("auto"!=this.h.origin&&this.h.origin>g)&&(i=b+=(this.h.origin-g)*e,d-=this.h.origin-g,0>d&&(d*=-1,a.translate(b,c+f),a.rotate(Math.PI),b=0.5,c=0),b+=0.5);return{value:d,x0:b,y0:c,start:i}},Em:function(a,b,c,d,e,f,g,h,i,j,k,l){a.save();c=this.We(a,c,d,i,h,e,f);a.fillStyle=j;a.beginPath();e=this.gd(a,c.x0,c.y0,e,g,h,c.value,this.h.border?1:0);k&&!l&&a.lineTo(b.x,
c.y0+(this.h.border?1:0));a.fill();a.restore();a=c.y0;b=c.y0!=d?d:e[1];k=c.y0!=d?c.start-e[0]:c.start;d=c.y0!=d?c.start:e[0];return[k,a,d,b]},Mh:function(a,b,c,d,e,f,g,h,i){a.save();b=this.We(a,b,c,h,g,d,e);a.beginPath();this.te(a,i);a.globalAlpha=0.9;this.gd(a,b.x0,b.y0,d,f,g,b.value,a.lineWidth/2,1);a.stroke();a.restore()},Fm:function(a,b,c,d,e,f,g,h,i,j){a.save();b=this.We(a,b,c,h,g,d,e);i=this.se(a,b.x0,b.y0+d,b.x0+g*b.value,b.y0,j,i,"x");a.fillStyle=i.gradient;a.beginPath();this.gd(a,b.x0,b.y0+
i.offset,d-2*i.offset,f,g,b.value,i.offset);a.fill();a.globalAlpha=1;a.restore()}});
webix.extend(webix.ui.chart,{$render_stackedBar:function(a,b,c,d,e,f){var g,h,i,j=d.y-c.y;i=!!this.h.yAxis;var k=!!this.h.xAxis;h=this.sf(b);g=h.max;h=h.min;var l=Math.floor((d.x-c.x)/b.length);e||this.gf(b,c,d,h,g,l);i&&(g=parseFloat(this.h.yAxis.end),h=parseFloat(this.h.yAxis.start));g=this.mb(h,g);i=g[0];g=g[1];j=i?j/i:10;i=parseInt(this.h.barWidth,10);i+4>l&&(i=l-4);var p=Math.floor((l-i)/2),m=this.h.gradient?this.h.gradient:!1;k||this.G(a,c.x,d.y+0.5,d.x,d.y+0.5,"#000000",1);for(k=0;k<b.length;k++){var n=
parseFloat(this.h.value(b[k]||0));if(n){e||(n-=h);var n=n*g,q=c.x+p+k*l,s=d.y;e?s=b[k].$startY:b[k].$startY=s;if(!(s<c.y+1))if(0>n||this.h.yAxis&&0===n)this.canvases.y.renderTextAt(!0,!0,q+Math.floor(i/2),s,this.h.label(b[k]));else{var x=this.h.color.call(this,b[k]);a.globalAlpha=this.h.alpha.call(this,b[k]);a.fillStyle=this.h.color.call(this,b[k]);a.beginPath();var r=this.zg(a,q-(this.h.border?0.5:0),s,i+(this.h.border?0.5:0),j,n,0,c.y);a.fill();m&&(a.save(),r=this.se(a,q,s,q+i,r[1],m,x,"y"),a.fillStyle=
r.gradient,a.beginPath(),r=this.zg(a,q+r.offset,s,i-2*r.offset,j,n,this.h.border?1:0,c.y),a.fill(),a.restore());this.h.border&&(a.save(),this.te(a,x),a.beginPath(),this.zg(a,q-0.5,s,i+1,j,n,0,c.y,1),a.stroke(),a.restore());a.globalAlpha=1;this.canvases[e].renderTextAt(!1,!0,q+Math.floor(i/2),r[1]+(s-r[1])/2-7,this.h.label(b[k]));f.addRect(b[k].id,[q-c.x,r[1]-c.y,r[0]-c.x,(b[k].$startY||s)-c.y],e);b[k].$startY=this.h.border?r[1]+1:r[1]}}else if(!e||!b[k].$startY)b[k].$startY=d.y}},zg:function(a,b,
c,d,e,f,g,h,i){a.moveTo(b,c);e=c-e*f+g;e<h&&(e=h);a.lineTo(b,e);h=e;a.lineTo(b+d,h);d=b+d;a.lineTo(d,c);i||a.lineTo(b,c);return[d,h-2*g]}});
webix.extend(webix.ui.chart,{$render_stackedBarH:function(a,b,c,d,e,f){var g,h,i,j,k=d.x-c.x,l=!!this.h.yAxis;h=this.sf(b);g=h.max;h=h.min;var p=Math.floor((d.y-c.y)/b.length);e||this.Nh(a,b,c,d,h,g,p);l&&(g=parseFloat(this.h.xAxis.end),h=parseFloat(this.h.xAxis.start));i=this.mb(h,g);j=i[0];i=i[1];var m=j?k/j:10;if(!l)var n=10,m=j?(k-n)/j:10;j=parseInt(this.h.barWidth,10);j+4>p&&(j=p-4);var q=(p-j)/2,s=0,x=!1,r=this.h.gradient;r&&(x=!0);l||this.G(a,c.x-0.5,c.y,c.x-0.5,d.y,"#000000",1);for(var u=
0,t=d=0;t<this.z.length;t++)t==e&&(d=u),"stackedBarH"==this.z[t].type&&u++;for(var t=0;t<b.length;t++){d||(b[t].$startX=c.x);u=parseFloat(this.h.value(b[t]||0));u>g&&(u=g);var u=u-h,u=u*i,v=c.x,w=c.y+q+t*p;d?v=b[t].$startX:b[t].$startX=v;if(0>u||this.h.yAxis&&0===u)this.canvases.y.renderTextAt("middle",!0,v+10,w+j/2,this.h.label(b[t]));else{l||(u+=n/m);var y=this.h.color.call(this,b[t]);a.globalAlpha=this.h.alpha.call(this,b[t]);a.fillStyle=this.h.color.call(this,b[t]);a.beginPath();var z=this.gd(a,
v,w,j,s,m,u,this.h.border?1:0);r&&!x&&a.lineTo(c.x+k,w+(this.h.border?1:0));a.fill();x&&(z=this.se(a,v,w+j,v,w,x,y,"x"),a.fillStyle=z.gradient,a.beginPath(),z=this.gd(a,v,w,j,s,m,u,0),a.fill());this.h.border&&this.Mh(a,v,w,j,h,s,m,u,y);a.globalAlpha=1;this.canvases[e].renderTextAt("middle",!0,b[t].$startX+(z[0]-b[t].$startX)/2-1,w+(z[1]-w)/2,this.h.label(b[t]));f.addRect(b[t].id,[b[t].$startX-c.x,w-c.y,z[0]-c.x,z[1]-c.y],e);b[t].$startX=z[0]}}}});
webix.extend(webix.ui.chart,{$render_spline:function(a,b,c,d,e,f){var g,h,i,j,k,l,p,m,n;j=this.wd(a,b,c,d,e);g=this.h;this.Yd=c;i=[];if(b.length){l=g.offset?c.x+0.5*j.cellWidth:c.x;for(h=0;h<b.length;h++)if(p=this.Od(b[h],c,d,j))k=!h?l:j.cellWidth*h-0.5+l,i.push({x:k,y:p,index:h});k=this.Fn(i);for(h=0;h<i.length;h++){l=i[h].x;m=i[h].y;if(h<i.length-1){p=i[h+1].x;n=i[h+1].y;for(j=l;j<p;j++){var q=this.rf(j,l,h,k.a,k.b,k.c,k.d);q<c.y&&(q=c.y);q>d.y&&(q=d.y);var s=this.rf(j+1,l,h,k.a,k.b,k.c,k.d);s<
c.y&&(s=c.y);s>d.y&&(s=d.y);this.G(a,j,q,j+1,s,g.line.color(b[h]),g.line.width)}this.G(a,p-1,this.rf(j,l,h,k.a,k.b,k.c,k.d),p,n,g.line.color(b[h]),g.line.width)}this.Gd(a,l,m,b[i[h].index],g.label(b[i[h].index]),e,f)}}},Fn:function(a){var b,c,d,e,f,g,h=[];g=[];var i=a.length;for(f=0;f<i-1;f++)h[f]=a[f+1].x-a[f].x,g[f]=(a[f+1].y-a[f].y)/h[f];b=[];c=[];b[0]=0;b[1]=2*(h[0]+h[1]);c[0]=0;c[1]=6*(g[1]-g[0]);for(f=2;f<i-1;f++)b[f]=2*(h[f-1]+h[f])-h[f-1]*h[f-1]/b[f-1],c[f]=6*(g[f]-g[f-1])-h[f-1]*c[f-1]/b[f-
1];g=[];g[i-1]=g[0]=0;for(f=i-2;1<=f;f--)g[f]=(c[f]-h[f]*g[f+1])/b[f];b=[];c=[];d=[];e=[];for(f=0;f<i-1;f++)b[f]=a[f].y,c[f]=-h[f]*g[f+1]/6-h[f]*g[f]/3+(a[f+1].y-a[f].y)/h[f],d[f]=g[f]/2,e[f]=(g[f+1]-g[f])/(6*h[f]);return{a:b,b:c,c:d,d:e}},rf:function(a,b,c,d,e,f,g){return d[c]+(a-b)*(e[c]+(a-b)*(f[c]+(a-b)*g[c]))}});
webix.extend(webix.ui.chart,{$render_area:function(a,b,c,d,e,f){var g,h,i,j,k,l,p,m,n;l=this.wd(a,b,c,d,e);h=this.h;j=h.eventRadius||Math.floor(l.cellWidth/2);if(b.length){p=[];m=!h.offset?c.x:c.x+0.5*l.cellWidth;for(i=0;i<b.length;i++)k=b[i],i?m+=l.cellWidth:p.push([m,d.y]),(n=this.Od(k,c,d,l))?(p.push([m,n]),f.addRect(k.id,[m-j-c.x,n-j-c.y,m+j-c.x,n+j-c.y],e),h.yAxis||(g=!h.offset&&i==b.length-1?"left":"center",this.canvases[e].renderTextAt(!1,g,m,n-h.labelOffset,h.label(k)))):i||p.push([m,d.y]);
p.push([m,d.y]);p.push([p[0][0],d.y]);a.globalAlpha=this.h.alpha.call(this,b[0]);a.fillStyle=this.h.color.call(this,b[0]);a.beginPath();this.Zc(a,p);a.fill();h.border&&(a.lineWidth=h.borderWidth||1,h.borderColor?a.strokeStyle=h.borderColor.call(this,b[0]):this.te(a,a.fillStyle),a.beginPath(),this.Zc(a,p),a.stroke());a.lineWidth=1;a.globalAlpha=1}},$render_stackedArea:function(a,b,c,d,e,f){var g,h,i,j,k,l,p,m,n,q,s;m=this.wd(a,b,c,d,e);i=this.h;l=i.eventRadius||Math.floor(m.cellWidth/2);if(b.length){n=
[];s=[];q=!i.offset?c.x:c.x+0.5*m.cellWidth;var x=function(a,c){return e?b[a].$startY?c-d.y+b[a].$startY:0:c},r=function(a,b,c){c=(c.y-b.y)/(c.x-b.x);return c*a+b.y-c*b.x};for(j=0;j<b.length;j++)p=b[j],j?q+=m.cellWidth:(g=x(j,d.y),n.push([q,g])),g=x(j,this.Od(p,c,d,m)),s.push(isNaN(g)&&!j?b[j].$startY||d.y:g),g&&(n.push([q,g]),f.addRect(p.id,[q-l-c.x,g-l-c.y,q+l-c.x,g+l-c.y],e),i.yAxis||(h=!i.offset&&k?"left":"center",this.canvases[e].renderTextAt(!1,h,q,g-i.labelOffset,i.label(p))));n.push([q,x(j-
1,d.y)]);if(e)for(j=b.length-2;0<j;j--)q-=m.cellWidth,(g=b[j].$startY)&&n.push([q,g]);n.push([n[0][0],n[0][1]]);a.globalAlpha=this.h.alpha.call(this,b[0]);a.fillStyle=this.h.color.call(this,b[0]);a.beginPath();this.Zc(a,n);a.fill();for(j=0;j<b.length;j++){g=s[j];if(!g){j==b.length-1&&(g=b[j].$startY);for(a=j+1;a<b.length;a++)if(s[a]){g={x:c.x,y:s[0]};a={x:c.x+m.cellWidth*a,y:s[a]};g=r(c.x+m.cellWidth*j,g,a);break}}b[j].$startY=g}}}});
webix.extend(webix.ui.chart,{$render_radar:function(a,b,c,d,e,f){this.Bp(a,b,c,d,e,f)},Bp:function(a,b,c,d,e,f){if(b.length){var g=this.pf(c,d);d=this.h.radius?this.h.radius:g.radius;for(var h=this.h.x?this.h.x:g.x,g=this.h.y?this.h.y:g.y,i=[],j=0;j<b.length;j++)i.push(1);i=this.ni(i,b.length);this.Yd=c;e||this.Im(i,h,g,d,b);this.Jm(a,i,h,g,d,b,e,f)}},Jm:function(a,b,c,d,e,f,g,h){var i,j,k,l,p,m,n,q,s,x,r,u;k=this.h;p=k.yAxis.start;j=k.yAxis.end;j=this.mb(p,j);e=(l=j[0])?e/l:e/2;u=j[1];j=x=-Math.PI/
2;q=[];for(l=n=0;l<f.length;l++)r||(r=k.value(f[l]),r=(parseFloat(r||0)-p)*u),m=Math.floor(e*r),r=k.value(l!=f.length-1?f[l+1]:f[0]),r=(parseFloat(r||0)-p)*u,s=Math.floor(e*r),i=j,j=l!=f.length-1?x+b[l]-1E-4:x,m=n||this.lb(i,c,d,m),n=this.lb(j,c,d,s),q.push(m);k.fill&&this.cn(a,q,f);k.disableLines||this.pq(a,q,f);k.disableItems||this.Km(a,q,f,g,h)},Km:function(a,b,c,d,e){for(var f=0;f<b.length;f++)this.Gd(a,b[f].x,b[f].y,c[f],this.h.label.call(this,c),d,e)},cn:function(a,b,c){var d,e;a.globalAlpha=
this.h.alpha.call(this,{});a.beginPath();for(var f=0;f<b.length;f++)a.fillStyle=this.h.fill.call(this,c[f]),d=b[f],e=b[f+1]||b[0],f||a.moveTo(d.x,d.y),a.lineTo(e.x,e.y);a.fill();a.globalAlpha=1},pq:function(a,b,c){for(var d,e,f=0;f<b.length;f++)d=b[f],e=b[f+1]||b[0],this.G(a,d.x,d.y,e.x,e.y,this.h.line.color.call(this,c[f]),this.h.line.width)},Im:function(a,b,c,d,e){var f=this.h.yAxis,g=this.h.xAxis,h=f.start,i=f.end,j=f.step,k={},l=this.Ec;if("undefined"==typeof l.step||"undefined"==typeof l.start||
"undefined"==typeof l.end)h=this.Ub(),k=this.Oe(h.min,h.max),h=k.start,i=k.end,j=k.step,f.end=i,f.start=h;var p=[],m,n,q=0,s=d*j/(i-h),x;1>j&&(m=Math.min(this.ec(j),0>=h?0:this.ec(h)),x=Math.pow(10,-m));var r=[];this.canvases.scale=this.Fa("radar_scale");var u=this.canvases.scale.getCanvas();for(m=i;m>=h;m-=j){k.fixNum&&(m=parseFloat((new Number(m)).toFixed(k.fixNum)));p.push(Math.floor(q*s)+0.5);x&&(m=Math.round(m*x)/x);n=c-d+p[p.length-1];this.canvases.scale.renderTextAt("middle","left",b,n,f.template(m.toString()),
"webix_axis_item_y webix_radar");if(2>a.length){this.Qh(u,"arc",b,c,d-p[p.length-1],-Math.PI/2,3*Math.PI/2,m);return}var t=-Math.PI/2,v=t,w;for(n=0;n<a.length;n++)m==i&&r.push(v),w=t+a[n]-1E-4,this.Qh(u,l.lineShape||"line",b,c,d-p[p.length-1],v,w,m,n,e[m]),v=w;q++}for(m=0;m<r.length;m++)a=this.lb(r[m],b,c,d),g.lines.call(this,e[m],m)&&this.G(u,b,c,a.x,a.y,g?g.lineColor.call(this,e[m]):"#cfcfcf",1),this.Lm(u,b,c,d,r[m],g?g.template.call(this,e[m]):"&nbsp;")},Qh:function(a,b,c,d,e,f,g,h,i){var j,k;
if(0>e)return!1;j=this.lb(f,c,d,e);k=this.lb(g,c,d,e);var l=this.h.yAxis;l.bg&&(a.beginPath(),a.moveTo(c,d),"arc"==b?a.arc(c,d,e,f,g,!1):(a.lineTo(j.x,j.y),a.lineTo(k.x,k.y)),a.fillStyle=l.bg(h,i),a.moveTo(c,d),a.fill(),a.closePath());l.lines.call(this,h)&&(a.lineWidth=1,a.beginPath(),"arc"==b?a.arc(c,d,e,f,g,!1):(a.moveTo(j.x,j.y),a.lineTo(k.x,k.y)),a.strokeStyle=l.lineColor.call(this,h),a.stroke())},Lm:function(a,b,c,d,e,f){a=this.canvases.scale.renderText(0,0,f,"webix_axis_radar_title",1);f=a.scrollWidth;
var g=a.offsetHeight,h=0.001;b=this.lb(e,b,c,d+5);d=c=0;if(0>e||e>Math.PI)d=-g;e>Math.PI/2&&(c=-f);if(Math.abs(e+Math.PI/2)<h||Math.abs(e-Math.PI/2)<h)c=-f/2;else if(Math.abs(e)<h||Math.abs(e-Math.PI)<h)d=-g/2;a.style.top=b.y+d+"px";a.style.left=b.x+c+"px";a.style.width=f+"px";a.style.whiteSpace="nowrap"}});
webix.extend(webix.ui.chart,{$render_scatter:function(a,b,c,d,e,f){if(!this.h.xValue)return null;var g=this.Ub(),h=this.Ub("h","xValue");e||(this.canvases.x=this.Fa("axis_x"),this.canvases.y=this.Fa("axis_y"),this.Uh(this.canvases.y.getCanvas(),b,c,d,g.min,g.max),this.Oh(this.canvases.x.getCanvas(),b,c,d,h.min,h.max));var g={min:this.h.yAxis.start,max:this.h.yAxis.end},h={min:this.h.xAxis.start,max:this.h.xAxis.end},i=this.Dn(a,b,c,d,h,g);this.Yd=c;for(var j=0;j<b.length;j++)this.Mm(a,f,c,d,i,h,g,
b[j],e)},Dn:function(a,b,c,d,e,f){a={};a.totalHeight=d.y-c.y;a.totalWidth=d.x-c.x;this.ih(a,e.min,e.max,a.totalWidth,"X");this.ih(a,f.min,f.max,a.totalHeight,"Y");return a},Mm:function(a,b,c,d,e,f,g,h,i){f=this.kh(e,d,c,f,h,"X");c=this.kh(e,c,d,g,h,"Y");this.Gd(a,f,c,h,this.h.label.call(this,h),i,b)},kh:function(a,b,c,d,e,f){e=this.h["X"==f?"xValue":"value"].call(this,e);var g=a["valueFactor"+f],g=(parseFloat(e||0)-d.min)*g;a=a["unit"+f];a=c[f.toLowerCase()]-("X"==f?-1:1)*Math.floor(a*g);0>g&&(a=
c[f.toLowerCase()]);e>d.max&&(a=b[f.toLowerCase()]);e<d.min&&(a=c[f.toLowerCase()]);return a},ih:function(a,b,c,d,e){b=this.mb(b,c);e=e||"";a["relValue"+e]=b[0];a["valueFactor"+e]=b[1];a["unit"+e]=a["relValue"+e]?d/a["relValue"+e]:10}});
webix.extend(webix.ui.chart,{presets:{simple:{item:{borderColor:"#ffffff",color:"#2b7100",shadow:!1,borderWidth:2},line:{color:"#8ecf03",width:2}},plot:{color:"#1293f8",item:{borderColor:"#636363",borderWidth:1,color:"#ffffff",type:"r",shadow:!1},line:{color:"#1293f8",width:2}},diamond:{color:"#b64040",item:{borderColor:"#b64040",color:"#b64040",type:"d",radius:3,shadow:!0},line:{color:"#ff9000",width:2}},point:{color:"#fe5916",disableLines:!0,fill:!1,disableItems:!1,item:{color:"#feb916",borderColor:"#fe5916",
radius:2,borderWidth:1,type:"r"},alpha:1},line:{line:{color:"#3399ff",width:2},item:{color:"#ffffff",borderColor:"#3399ff",radius:2,borderWidth:2,type:"d"},fill:!1,disableItems:!1,disableLines:!1,alpha:1},area:{fill:"#3399ff",line:{color:"#3399ff",width:1},disableItems:!0,alpha:0.2,disableLines:!1},round:{item:{radius:3,borderColor:"#3f83ff",borderWidth:1,color:"#3f83ff",type:"r",shadow:!1,alpha:0.6}},square:{item:{radius:3,borderColor:"#447900",borderWidth:2,color:"#69ba00",type:"s",shadow:!1,alpha:1}},
column:{color:"RAINBOW",gradient:!1,barWidth:45,radius:0,alpha:1,border:!0},stick:{barWidth:5,gradient:!1,color:"#67b5c9",radius:2,alpha:1,border:!1},alpha:{color:"#b9a8f9",barWidth:70,gradient:"falling",radius:0,alpha:0.5,border:!0}}});
webix.protoUI({name:"calendar",defaults:{date:new Date,select:!1,navigation:!0,monthSelect:!0,weekHeader:!0,weekNumber:!1,skipEmptyWeeks:!1,calendarHeader:"%F %Y",calendarWeekHeader:"W#",calendarTime:"%H:%i",events:webix.Date.isHoliday,minuteStep:5,width:259,height:250},calendarHeader_setter:webix.Date.dateToStr,calendarWeekHeader_setter:webix.Date.dateToStr,calendarTime_setter:webix.Date.dateToStr,date_setter:function(a){return this.ye(a)},$init:function(){this.nr={};this.wg=null;this.ea=0},$setSize:function(a,
b){webix.ui.view.prototype.$setSize.call(this,a,b)&&this.render()},$getSize:function(a,b){if(this.h.cellHeight){var c=this.Ld(this.h.date);this.h.height=this.h.cellHeight*c.rows+webix.skin.calendarHeight}return webix.ui.view.prototype.$getSize.call(this,a,b)},Ld:function(a,b){if(!this.lk||b){var c=a.getMonth(),d=a.getFullYear(),e=new Date(d,c+1,1),d=webix.Date.weekStart(new Date(d,c,1)),f=Math.round((e.valueOf()-d.valueOf())/864E5),f=this.h.skipEmptyWeeks?Math.ceil(f/7):6;this.lk={Mo:c,Ek:d,Qo:e,
Ip:f}}return this.lk},xn:function(a){var b=this.Ld(a),c=this.h;a=[];for(var d=[],e=this.p-42,f=this.q-webix.skin.calendarHeight-10-(this.h.timepicker?25:0),c=c.weekNumber?8:7,g=0;g<c;g++)d[g]=Math.ceil(e/(c-g)),e-=d[g];b=b.Ip;for(e=0;e<b;e++)a[e]=Math.ceil(f/(b-e)),f-=a[e];return[d,a]},refresh:function(){this.render()},render:function(){this.ea=0;this.ol=!1;var a=this.h;if(this.isVisible(a.id)){this.om=webix.Date.datePart(new Date);this.callEvent("onBeforeRender",[]);var b=this.h.date,c=this.Ld(b,
!0),d=this.xn(b),e=d[0],d=d[1],f="<div class='webix_cal_month'><span class='webix_cal_month_name'>"+a.calendarHeader(b)+"</span>";a.navigation&&(f+="<div class='webix_cal_prev_button'></div><div class='webix_cal_next_button'></div>");f+="</div>";a.weekHeader&&(f+="<div class='webix_cal_header'>"+this.Vq(e)+"</div>");f+="<div class='webix_cal_body'>"+this.Bl(e,d,c)+"</div>";this.h.timepicker&&(f+="<div class='webix_cal_time'>"+this.Aq(b)+"</div>");this.m.innerHTML=f;this.callEvent("onAfterRender",
[])}},Aq:function(a){return"<div><span class='webix_icon icon-clock'></span> "+this.h.calendarTime(a)+"</div>"},Vq:function(a){var b=this.h,c="",d=0;b.weekNumber&&(d=1,c+="<div class='webix_cal_week_header' style='width: "+a[0]+"px;' >"+b.calendarWeekHeader()+"</div>");for(var b=webix.Date.startOnMonday?1:0,e=0;7>e;e++)var f=(b+e)%7,g=webix.i18n.calendar.dayShort[f],c=c+("<div day='"+f+"' style='width: "+a[e+d]+"px;' >"+g+"</div>");return c},um:function(a,b){var c="webix_cal_day";webix.Date.equal(a,
this.om)&&(c+=" webix_cal_today");webix.Date.equal(a,this.wg)&&(c+=" webix_cal_select");a.getMonth()!=b.Mo&&(c+=" webix_cal_outside");this.h.events&&(c+=" "+this.h.events(a));return c},Bl:function(a,b,c){for(var d=this.h,e="",f=webix.Date.copy(c.Ek),d=d.weekNumber?1:0,g=webix.Date.getISOWeek(webix.Date.add(f,2,"day",!0)),h=0;h<b.length;h++){e+="<div class='webix_cal_row' style='height:"+b[h]+"px'>";d&&(e+="<div class='webix_cal_week_num' style='width:"+a[0]+"px'>"+g+"</div>");for(var i=d;i<a.length;i++)var j=
this.um(f,c),e=e+("<div day='"+i+"' class='"+j+"' style='width:"+a[i]+"px'>"+f.getDate()+"</div>"),f=webix.Date.add(f,1,"day");e+="</div>";g++}return e},lh:function(a,b){var c=this.h.date,d=this.Ge[this.ea].Pe,d=webix.Date.add(c,a*d,"month",!0);this.mh(c,d)},mh:function(a,b){this.callEvent("onBeforeMonthChange",[a,b])&&(this.ea?this.Ce(b):this.showCalendar(b),this.callEvent("onAfterMonthChange",[b,a]))},Ge:{"-2":{hd:function(a,b){a.setMinutes(b)}},"-1":{hd:function(a,b){a.setHours(b)}},"0":{Pe:1},
1:{Gn:function(a){return a.getFullYear()},yn:function(a){return webix.i18n.calendar.monthShort[a]},hd:function(a,b){a.setMonth(b)},Pe:12},2:{Gn:function(a){a=a.getFullYear();this.pl=a=a-a%10-1;return a+" - "+(a+10)},yn:function(a){return this.pl+a},hd:function(a,b){a.setFullYear(this.pl+b)},Pe:120}},Ce:function(a){var b,c,d,e,f="",g=this.h.weekHeader?2:1,h=this.m.childNodes;a&&(this.h.date=a);this.ol||(this.ne=this.m.offsetHeight-h[0].offsetHeight-42,this.Tj=h[g].offsetWidth,this.ol=1);if(this.Ng){b=
this.ne/6;e=(this.Tj-1)/6;f+="<div class='webix_time_header'>"+this.yq(e)+"</div>";f+="<div  class='webix_cal_body' style='height:"+this.ne+"px'>";f+="<div class='webix_hours'>";d=this.h.date.getHours();for(c=0;24>c;c++)a=d==c?" webix_selected":"",f+="<div class='webix_cal_block"+a+"' data-value='"+c+"' style='"+this.nf(e,b)+(0==c%4?"clear:both;":"")+"'>"+webix.Date.toFixed(c)+"</div>";f+="</div><div class='webix_minutes'>";d=this.h.date.getMinutes();for(c=0;60>c;c+=this.h.minuteStep)a=d==c?" webix_selected":
"",f+="<div class='webix_cal_block webix_cal_block_min"+a+"' data-value='"+c+"' style='"+this.nf(e,b)+"'>"+webix.Date.toFixed(c)+"</div>";f+="</div>";f+="</div>";f+="<div  class='webix_time_footer'>"+this.Gg()+"</div>";this.m.innerHTML=f}else{h[0].firstChild.innerHTML=null;b=this.ne/3;e=this.Tj/4;d=1==this.ea?this.h.date.getMonth():this.h.date.getFullYear();for(c=0;12>c;c++)a=d==(1==this.ea?c:null)?" webix_selected":"",f+="<div class='webix_cal_block"+a+"' data-value='"+c+"' style='"+this.nf(e,b)+
"'>null</div>";g-1&&(h[g-1].style.display="none");h[g].innerHTML=f;h[g+1]?h[g+1].innerHTML=this.Gg():this.m.innerHTML+="<div  class='webix_time_footer'>"+this.Gg()+"</div>";h[g].style.height=this.ne+"px"}},nf:function(a,b){return"width:"+a+"px; height:"+b+"px; line-height:"+b+"px;"},Gg:function(){return"<input type='button' style='width:100%' class='webix_cal_done' value='"+webix.i18n.calendar.done+"'>"},yq:function(a){return"<div class='webix_cal_hours' style='width:"+4*a+"px'>"+webix.i18n.calendar.hours+
"</div><div class='webix_cal_minutes' style='width:"+2*a+"px'>"+webix.i18n.calendar.minutes+"</div>"},Lo:function(a){var b=this.h.date,c=webix.Date.copy(b);this.Ge[this.ea].hd(c,a);this.ea--;this.mh(b,c)},on_click:{webix_cal_prev_button:function(a,b,c){this.lh(-1)},webix_cal_next_button:function(a,b,c){this.lh(1)},webix_cal_day:function(a,b,c){a=webix.html.index(c)-(this.h.weekNumber?1:0);c=webix.html.index(c.parentNode);c=webix.Date.add(this.Ld().Ek,a+7*c,"day",!0);this.selectDate(c,!0);this.callEvent("onDateSelect",
[c]);this.callEvent("onChange",[c])},webix_cal_time:function(a){this.Ge[this.ea-1]&&(this.Ng=!0,this.ea--,this.Ce())},webix_cal_done:function(a){this.showCalendar(this.h.date)},webix_cal_month_name:function(a){this.Ng=!1;2!=this.ea&&this.h.monthSelect&&(this.ea=Math.max(this.ea,0)+1,this.Ce())},webix_cal_block:function(a,b,c){this.Ng?(a=-1!=c.className.indexOf("webix_cal_block_min")?this.ea-1:this.ea,b=this.h.date,b=webix.Date.copy(b),this.Ge[a].hd(b,1*c.getAttribute("data-value")),this.Ce(b)):this.Lo(1*
c.getAttribute("data-value"))}},ye:function(a,b){if(!a)return new Date;"string"==typeof a&&(a=b?webix.Date.strToDate(b)(a):webix.i18n.parseFormatDate(a));return a},showCalendar:function(a){a=this.ye(a);this.h.date=a;this.render();this.resize()},getSelectedDate:function(){return webix.Date.copy(this.wg)},getVisibleDate:function(){return webix.Date.copy(this.h.date)},setValue:function(a,b){a=this.ye(a,b);this.selectDate(a,!0)},getValue:function(a){var b=this.getSelectedDate();a&&(b=webix.Date.dateToStr(a)(b));
return b},selectDate:function(a,b){this.wg=a=this.ye(a);b?this.showCalendar(a):this.render()},locate:function(){return null}},webix.MouseEvents,webix.ui.view,webix.EventSystem);
webix.protoUI({name:"property",$init:function(){this.m.className+=" webix_property"},defaults:{nameWidth:100,editable:!0},on_render:{checkbox:function(a,b){return"<input type='checkbox' class='webix_property_check' "+(a?"checked":"")+">"},color:function(a,b){return'<div class="webix_property_col_val"><span>'+a+"</span><div class='webix_property_col_ind' style=\"background-color:"+(a||"#FFFFFF")+';"></div></div>'}},on_edit:{label:!1},I:"webix_f_id",on_click:{webix_property_check:function(a){a=this.locate(a);
this.item(a).value=!this.item(a).value;this.callEvent("onCheck",[a,this.item(a).value]);return!1}},on_dblclick:{},registerType:function(a,b){b.template&&(this.on_render[a]=b.template);b.editor&&(this.on_edit[a]=b.editor);if(b.click)for(var c in b.click)this.on_click[c]=b.click[c]},elements_setter:function(a){this.Sd={};for(var b=0;b<a.length;b++){var c=a[b];c.id=c.id||webix.uid();c.label=c.label||"";c.value=c.value||"";this.Sd[c.id]=b}return a},showItem:function(a){webix.RenderStack.showItem.call(this,
a)},locate:function(a){return webix.html.locate(a,this.I)},D:function(a){return this.l.childNodes[this.Sd[a]]},item:function(a){return this.h.elements[this.Sd[a]]},Qd:function(a){a=this.item(a).type;if("checkbox"==a)return"inline-checkbox";var b=this.on_edit[a];return!1===b?!1:b||a},si:function(a){return this.item(a)},lf:function(a,b,c){var d=this.Sd[a.id];a=this.h.elements;if(c)for(c=d+1;c<a.length;c++){if(b.call(this,a[c].id))return a[c].id}else for(c=d-1;0<=c;c--)if(b.call(this,a[c].id))return a[c].id;
return null},update:function(){this.refresh()},Ob:function(a){a=this.D(a);return{left:a.offsetLeft+this.h.nameWidth,top:a.offsetTop,height:a.offsetHeight,width:this.Eh,parent:this.m}},setValues:function(a){this.Vl();for(var b in a){var c=this.item(b);c&&(c.value=a[b])}this.qp=a;this.refresh()},Vl:function(){for(var a=this.h.elements,b=0;b<a.length;b++)a[b].value=""},getValues:function(){for(var a=webix.clone(this.qp||{}),b=0;b<this.h.elements.length;b++){var c=this.h.elements[b];"label"!=c.type&&
(a[c.id]=c.value)}return a},refresh:function(){this.render()},$setSize:function(a,b){webix.ui.view.prototype.$setSize.call(this,a,b)&&(this.Eh=this.p-this.h.nameWidth,this.render())},ha:function(){var a=[],b=this.h.elements;if(b)for(var c=0;c<b.length;c++){var d=b[c];d.css&&"object"==typeof d.css&&(d.css=webix.html.createCss(d.css));var e="<div webix_f_id='"+d.id+"' class='webix_property_line "+(d.css||"")+"'>";if("label"==d.type)a[c]=e+"<div class='webix_property_label_line'>"+d.label+"</div></div>";
else{var f=this.on_render[d.type],g="<div class='webix_property_label' style='width:"+this.h.nameWidth+"px'>"+d.label+"</div><div class='webix_property_value' style='width:"+this.Eh+"px'>",h=d.value;f&&(h=f.call(this,d.value,d));a[c]=e+g+h+"</div></div>"}}return a.join("")},type:{height:22,templateStart:webix.Template(""),templateEnd:webix.Template("</div>")}},webix.EditAbility,webix.MouseEvents,webix.Scrollable,webix.SingleRender,webix.AtomDataLoader,webix.EventSystem,webix.ui.view);
webix.protoUI({name:"colorboard",defaults:{template:'<div style="width:100%;height:100%;background-color:{obj.val}"></div>',palette:null,height:220,width:220,cols:12,rows:10,minLightness:0.15,maxLightness:1},$init:function(a){webix.event(this.i,"mousedown",webix.bind(function(a){var c=webix.html.locate(a,"webix_val");this.setValue(c);this.callEvent("onSelect",[this.ib,a])},this))},gn:function(a){var b=this.h.palette;a=a.toUpperCase();for(var c=0,d=b.length;c<d;c++)for(var e=0,f=b[c].length;e<f;e++)if(b[c][e].toUpperCase()==
a)return{row:c,col:e};return null},$setSize:function(a,b){webix.ui.view.prototype.$setSize.call(this,a,b)&&this.render()},getValue:function(){return this.ib},Lc:function(){return this.i.firstChild},setValue:function(a){if(a)return"#"!=a.charAt(0)&&(a="#"+a),this.ib=a,this.Nm(a),a},fd:null,En:function(){if(this.fd&&this.fd.parentNode)return this.fd;var a=this.fd=document.createElement("div");a.className="webix_color_selector";this.i.lastChild.appendChild(a);return a},Nm:function(a,b){if(this.isVisible()){var c=
0,d=0;b||(c=this.gn(a))&&(b=this.i.lastChild.childNodes[c.row].childNodes[c.col]);if(b&&b.parentNode&&b.parentNode.parentNode){var e=b.parentNode,c=b.offsetLeft-e.offsetLeft,d=-(this.$height-(b.offsetTop-e.parentNode.offsetTop)),e=this.En(),c=["left:"+c+"px","top:"+d+"px","width:"+b.style.width,"height:"+b.style.height].join(";");"undefined"!==typeof e.style.cssText?e.style.cssText=c:e.setAttribute("style",c)}}},jo:function(a){function b(a){return webix.color.toHex(a,2)}function c(a,b,c){if(b){var e=
0.5>c?c*(1+b):c+b-c*b,f=2*c-e;c=d(f,e,a+1/3);b=d(f,e,a);a=d(f,e,a-1/3)}else c=b=a=c;return{r:255*c,g:255*b,b:255*a}}function d(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return c<1/6?a+6*(b-a)*c:0.5>=c?b:c<2/3?a+6*(b-a)*(2/3-c):a}function e(a){for(var c=[],d=255,e=d/a,f=0;f<a;f++)d=Math.round(0<d?d:0),c.push("#"+b(Math.floor(d))+b(Math.floor(d))+b(Math.floor(d))),d-=e;c[c.length-1]="#000000";return c}var f=[],g=a.rows-1,h=1/a.cols,i=(a.maxLightness-a.minLightness)/g,j=null;f.push(e(a.cols));for(var k=0,l=a.minLightness;k<
g;k++){for(var j=[],p=0,m=0;p<a.cols;p++){var n=c(m,1,l);j.push("#"+b(Math.floor(n.r))+b(Math.floor(n.g))+b(Math.floor(n.b)));m+=h}f.push(j);l+=i}this.h.palette=f},render:function(){function a(a,b,c){for(var f='<div class="webix_color_row">',g=0;g<a.length;g++)e.width=b[g],e.height=c,e.val=a[g],f+=d(e);return f+"</div>"}if(this.isVisible(this.h.id)){this.h.palette||this.jo(this.h);var b=this.h.palette;this.callEvent("onBeforeRender",[]);for(var c=this.h,d=webix.Template('<div style="width:{obj.width}px;height:{obj.height}px;" webix_val="{obj.val}">'+
(c.template||"")+"</div>"),e={width:0,height:0,val:0},f=this.$width,c=this.$height,g=[],h='<div class="webix_color_palette">',i="object"==typeof b[0]?b[0]:b,j=0;j<i.length;j++)g[j]=Math.floor(f/(i.length-j)),f-=g[j];if("object"==typeof b[0])for(f=0;f<b.length;f++)i=Math.floor(c/(b.length-f)),c-=i,j=b[f],h+=a(j,g,i);else h+=a(b,g,c);this.i.innerHTML=h+"</div>";this.fd=null;this.ib&&this.setValue(this.ib);this.callEvent("onAfterRender",[])}},refresh:function(){this.render()}},webix.ui.view,webix.EventSystem);
webix.protoUI({name:"resizer",defaults:{width:5,height:5},$init:function(a){var b=this.getParent().La;webix.event(this.i,"mousedown",this.Jp,this);webix.event(document.body,"mouseup",this.Op,this);var c=this.Cn();this.sg=!1;this.Hp=c;this.cb="x"==c?"width":"height";"x"==c?a.height=0:a.width=0;0<b?(this.i.className+=" webix_resizer_v"+c,this.i.style.marginRight="-"+b+"px","x"==c?a.width=b:a.height=b,this.$nospace=!0):this.i.className+=" webix_resizer_"+c;this.i.innerHTML="<div class='webix_resizer_content'></div>";
"y"==c&&0<b&&(this.i.style.marginBottom="-"+(a.height||this.defaults.height)+"px")},Jp:function(a){var b=this.qf();b&&(a=a||event,this.sg=!0,this.wb={x:a.pageX,y:a.pageY},this.Oa=[],this.Np(a,b[0]))},Op:function(){this.wb=this.sg=!1},Np:function(a,b){var c,d,e;c=this.Hp;this.getParent().i.style.position="relative";d=webix.html.offset(this.i);e=webix.html.offset(this.getParent().i);e=d[c]-e[c];d=webix.html.offset(b.$view)[c]-webix.html.offset(this.getParent().$view)[c];this.P=[c,b,e,d];this.ed=new webix.ui.resizearea({container:this.getParent().i,
dir:c,eventPos:this.wb[c],start:e-1,height:this.$height,width:this.$width,border:1,margin:this.getParent()["_padding"+c.toUpperCase()]});this.ed.attachEvent("onResizeEnd",webix.bind(this.Kp,this));this.ed.attachEvent("onResize",webix.bind(this.Mp,this))},Cn:function(){return this.getParent().v?"y":"x"},Mp:function(){var a,b,c,d,e,f,g,h,i;if(this.P){a=this.qf();e=this.P[0];d=this.ed.Wd-this.P[2];h=this.Vj(a,e,d);i=a[0]["$"+this.cb]+a[1]["$"+this.cb];g="y"==e?["minHeight","maxHeight"]:["minWidth","maxWidth"];
for(f=0;2>f;f++){b=a[f].h;c=f?-d:d;var j=b[g[0]];b=b[g[1]];if(0<c&&b&&b<=h[f]||0>c&&(j||2)>=h[f]){this.Oa[f]=0<c?b:j||2;a=this.Wj(a,e);this.ed.Ga.style["y"==e?"top":"left"]=this.P[3]+a[0]+"px";break}else 2>h[f]?this.ed.Ga.style["y"==e?"top":"left"]=this.P[3]+f*i+1+"px":this.Oa[f]=null}}},qf:function(){var a,b;a=this.getParent().j;for(b=0;b<a.length;b++)if(a[b]==this)return!a[b-1]||a[b-1].h.$noresize||!a[b+1]||a[b+1].h.$noresize?null:[a[b-1],a[b+1]]},Kp:function(a){var b,c,d=this.getParent().v;this.lr=
null;if(this.P){b=this.P[0];c=a-this.P[2];a=this.qf();if(a[0]&&a[1]){c=this.Lp(a,b,c);for(b=0;2>b;b++){var e=a[b].$getSize(0,0);(d?e[2]==e[3]:3>Math.abs(e[1]-e[0]))?(a[b].h[this.cb]=c[b],a[b].vd&&a[b].vd(this.cb,c[b],d)):a[b].h.gravity*=c[b]/(a[b]["$"+this.cb]||0.5)}a[0].resize();webix.callEvent("onLayoutResize",[this.getParent().h.id,[a[0].h.id,a[1].h.id]])}this.P=!1}this.sg=this.P=!1;this.Oa=null},Wj:function(a){var b,c;a=a[0]["$"+this.cb]+a[1]["$"+this.cb];this.Oa[0]?(b=this.Oa[0],c=a-b):this.Oa[1]&&
(c=this.Oa[1],b=a-c);return[b,c]},Vj:function(a,b,c){b=[];for(var d=0;2>d;d++)b[d]=a[d]["$"+this.cb]+(d?-1:1)*c;return b},Lp:function(a,b,c){if(this.Oa[0]||this.Oa[1])b=this.Wj(a,b);else{b=this.Vj(a,b,c);for(a=0;2>a;a++)0>b[a]&&(c=b[0]+b[1],b[a]=1,b[1-a]=c-1)}return b}},webix.MouseEvents,webix.ui.view);
webix.protoUI({name:"multiview",defaults:{animate:{}},$init:function(){this.B=0;this.v=1;this.i.style.position="relative";this.i.className+=" webix_multiview";this.sa=[]},xl:function(a,b){var c=webix.ui.get(a);c.ad||(c.le=[],c.ad={});c.ad[b]||(c.ad[b]=!0,c.le.push(b))},ng:function(a){var b=webix.ui.get(a);this.sa[this.sa.length-2]!=a?(10==this.sa.length&&this.sa.splice(0,1),this.sa.push(a)):this.sa.splice(this.sa.length-1,1);if(b.ad){for(a=0;a<b.le.length;a++)webix.ui.get(b.le[a]).render();b.le=[];
b.ad={}}},pb:function(){},ka:function(a){a=a||this.Ea;for(var b=0;b<a.length;b++)a[b].u=this.h.borderless?{top:1,left:1,right:1,bottom:1}:this.h.u||{};webix.ui.baselayout.prototype.ka.call(this,a);for(b=1;b<this.j.length;b++)webix.html.remove(this.j[b].i);for(b=0;b<a.length;b++){var c=this.j[b];if(!c.j||c.ke){var d=c.h.u;d.top&&(c.i.style.borderTopWidth="0px");d.left&&(c.i.style.borderLeftWidth="0px");d.right&&(c.i.style.borderRightWidth="0px");d.bottom&&(c.i.style.borderBottomWidth="0px")}}this.ng(this.getActive())},
cells_setter:function(a){this.Ea=a},zn:function(a,b){return a<b?"right":"left"},Eb:function(a,b){if(this.Zb)return webix.delay(this.Eb,this,[a],100);for(var c=-1,d=0;d<this.j.length;d++)if(this.j[d]==a){c=d;break}if(!(0>c||c==this.B)){var e=this.j[this.B]?this.j[this.B].config.id:null,f=this.j[c]?this.j[c].config.id:null;if((b||"undefined"==typeof b)&&webix.animate.isSupported()&&this.h.animate){var g=webix.extend({},this.h.animate);g.direction=this.zn(c,this.B);var g=webix.Settings.ya(b||{},g),h=
webix.animate.formLine(this.j[c].i,this.j[this.B].i,g);this.j[c].$getSize(0,0);this.j[c].$setSize(this.p,this.q);var i=g.callback;g.callback=function(){webix.animate.breakLine(h);this.Zb=!1;i&&i.call(this);i=g.master=g.callback=null};g.master=this;this.B=c;this.ng(this.getActive());webix.animate(h,g);this.Zb=!0}else webix.html.remove(this.j[this.B].i),this.B=c,this.j[this.B].$getSize(),this.j[this.B].$setSize(this.p,this.q),this.ng(this.getActive()),this.i.appendChild(this.j[d].i);this.callEvent("onViewChange",
[e,f])}},$getSize:function(a,b){var c=this.j[this.B].$getSize(0,0),d=webix.ui.baseview.prototype.$getSize.call(this,0,0);1E5<=d[1]&&(d[1]=0);1E5<=d[3]&&(d[3]=0);d[0]=(d[0]||c[0])+a;d[1]=(d[1]||c[1])+a;d[2]=(d[2]||c[2])+b;d[3]=(d[3]||c[3])+b;return d},$setSize:function(a,b){this.cc=[a,b];webix.ui.baseview.prototype.$setSize.call(this,a,b);this.j[this.B].$setSize(a,b)},isVisible:function(a,b){return b&&b!=this.getActive()?(a&&this.xl(b,a),!1):webix.ui.view.prototype.isVisible.call(this,a,this.h.id)},
getActive:function(){return this.j.length?this.j[this.B].h.id:null},back:function(a){a=a||1;return this.callEvent("onBeforeBack",[this.getActive(),a])&&this.sa.length>a?(a=this.sa[this.sa.length-a-1],webix.ui.get(a).show(),a):null}},webix.ui.baselayout,webix.EventSystem);
webix.protoUI({name:"form",defaults:{type:"form",autoheight:!0},ar:-1,ii:"webix_form",ji:!0,$getSize:function(a,b){var c=webix.ui.layout.prototype.$getSize.call(this,a,b);if(this.h.scroll||!this.h.autoheight)c[3]+=1E5;return c}},webix.ui.toolbar);
webix.protoUI({name:"menu",Rf:"webix_menu",$init:function(){this.attachEvent("onMouseMove",this.No);this.attachEvent("onMouseOut",function(){this.Qe||this.Pc()})},Zg:function(a){this.h.autoheight&&(a=this.dataCount());for(var b=0,c=0;c<a;c++)var d=this.data.pull[this.data.order[c]],b="Separator"==d.$template?b+4:b+this.type.height;return b},on_mouse_move:{},type:{css:"menu",width:"auto",height:"auto",templateStart:function(a,b){return a.$template?"<div webix_l_id='#id#' class='webix_context_sep'>":
webix.ui.list.prototype.type.templateStart(a,b)+(a.submenu&&b.subsign?"<div class='webix_submenu_icon'></div>":"")},templateSeparator:webix.Template("<div class='sep_line'></div>")},getSubMenu:function(a){if(this.data.pull[a])return this;for(var b=0;b<this.data.order.length;b++){var c=this.item(this.data.order[b]);if(c.submenu&&(c=this.ti(c).getSubMenu(a)))return c}},ti:function(a){var b=$$(a.submenu);b||(a.submenu=this.mm(a.submenu),b=$$(a.submenu));return b},No:function(a,b,c){if(a=this.item(a))this.Qe=
null,this.Xc&&a.submenu!=this.Xc&&this.Pc(!0),a.submenu&&!this.config.hidden&&(b=this.ti(a),b.show(c,this.h.subMenuPos),b.fe=this.h.id,this.Xc=a.submenu)},Pc:function(a){if(this.Xc){var b=$$(this.Xc);b.Pc&&b.Pc(a);if(a||!b.xk)b.yk=new Date(2012,1,1),b.hide(),this.Xc=null}},mm:function(a){a={view:"submenu",data:a};a=webix.ui(a);return a.h.id},defaults:{scroll:"",layout:"x",mouseEventDelay:100,subMenuPos:"bottom",height:webix.skin.menuHeight}},webix.ui.list);
webix.protoUI({name:"submenu",$init:function(){this.n=webix.clone(this.Rm);this.n.w=this;this.attachEvent("onMouseOut",function(){!this.Qe&&!this.xk&&this.hide()});this.attachEvent("onMouseMoving",function(){this.fe&&($$(this.fe).Qe=!0)});this.attachEvent("onItemClick",function(a,b,c){var d=this.item(a);if(d&&!d.$template){for(d=this;d.fe;)d=$$(d.fe);d!=this&&d.callEvent("onItemClick",[a,b,c]);d.Pc(!0);d.co&&d.hide()}})},Rm:{$getSize:function(a,b){return webix.ui.menu.prototype.$getSize.call(this.w,
a,b)},$setSize:function(a,b){},destructor:function(){this.w=null}},body_setter:function(){},defaults:{width:150,subMenuPos:"right",layout:"y",autoheight:!0},type:{height:webix.skin.menuHeight,subsign:!0}},webix.ui.menu,webix.ui.popup);
webix.ContextHelper={defaults:{padding:"4",hidden:!0},body_setter:function(a){a=webix.ui.window.prototype.body_setter.call(this,a);this.n.i.style.borderWidth="0px";return a},attachTo:function(a){a.on_context?a.attachEvent("onAfterContextMenu",webix.bind(this.gq,this)):webix.event(a,"contextmenu",this.fq,this)},getContext:function(){return this.K},fq:function(a){this.K=webix.toNode(a||event);return this.wk(a)},gq:function(a,b,c){this.K={obj:webix.ui.get(b),id:a};return this.wk(b)},wk:function(a){if(this.callEvent("onBeforeShow",
[a]))return this.show(a,null,!0),webix.callEvent("onClick",[a]),webix.html.preventEvent(a)},xk:!0,master_setter:function(a){this.attachTo(a);return null}};webix.protoUI({name:"context"},webix.ContextHelper,webix.ui.popup);webix.protoUI({name:"contextmenu",co:!0},webix.ContextHelper,webix.ui.submenu);
webix.protoUI({name:"tabbar",defaults:{height:webix.skin.tabbarHeight,tabMargin:webix.skin.tabMargin,tabOffset:"undefined"!=typeof webix.skin.tabOffset?webix.skin.tabOffset:10,topOffset:webix.skin.tabTopOffset||0,bottomOffset:webix.skin.tabBottomOffset||0,template:function(a,b){var c,d,e,f,g,h,i=a.options;if(i.length){b.Dc(i);!a.value&&i.length&&(a.value=i[0].id);e="";a.tabOffset&&(e+="<div class='webix_tab_filler' style='width:"+a.tabOffset+"px;'>&nbsp;</div>");d=b.Ud-2*a.tabOffset-("bottom"!=a.type?
a.tabMargin*(i.length-1):0)-i.length+1;h=a.tabOffset;for(f=0;f<i.length;f++)c="",i[f].id==a.value&&(c=" webix_selected"),i[f].css&&(c+=" "+i[f].css),g=i[f].width||a.optionWidth||Math.floor(d/(i.length-f)),d-=g,h+=g+(f?a.tabMargin+1:0)+1,g="width:"+g+"px;",0<a.tabMargin&&(f&&"bottom"!=a.type)&&(e+="<div class='webix_tab_filler' style='width:"+a.tabMargin+"px;'></div>"),e+="<div class='webix_item_tab"+c+"' button_id='"+i[f].id+"' style='"+g+"'>",e+=i[f].value,e+="</div>";(c=b.p-h)&&"bottom"!=a.type&&
(e+="<div class='webix_tab_filler' style='width:"+c+"px;'>&nbsp;</div>")}else e="<div class='webix_tab_filler' style='width:"+b.Ud+"px; border-right:0px;'></div>";g=(c=a.topOffset+a.bottomOffset)&&"bottom"!=a.type?"height:"+(b.q-c)+"px'":"";c="";a.topOffset&&"bottom"!=a.type&&(c+="<div class='webix_before_all_tabs' style='width:100%;height:"+a.topOffset+"px'></div>");c+="<div style='"+g+"' class='webix_all_tabs "+(a.type?"webixtype_"+a.type:"")+"'>"+e+"</div>";a.bottomOffset&&"bottom"!=a.type&&(c+=
"<div class='webix_after_all_tabs' style='width:100%;height:"+a.bottomOffset+"px'></div>");return c}},type_setter:function(a){"bottom"==a&&(this.h.tabOffset=0);return a}},webix.ui.segmented);webix.ui.construct.tabview=function(a){var b={type:"clean",rows:[{options:a.tabs,multiview:!0},{cells:a.cells}]},c=b.rows;webix.extend(c[0],a,!0);delete c[0].tabs;delete c[0].cells;c[0].view="tabbar";webix.isUndefined(a.animate)||(c[1].animate=a.animate);return b};
webix.protoUI({name:"htmlform",bf:null,$init:function(a){this.elements=null;if(a.content&&(a.container==a.content||!a.container&&a.content==document.body))this.im=!0},content_setter:function(a){a=webix.toNode(a);if(this.im)for(;1<a.childNodes.length;)this.i.childNodes[0].appendChild(a.childNodes[0]);else this.i.childNodes[0].appendChild(a);return!0},render:function(){this.bf||(webix.ui.template.prototype.render.apply(this,arguments),this.bf=this.getValues())},ub:function(){this.elements||(this.elements=
this.i.querySelectorAll("[name]"));return this.elements},getValues:function(){for(var a=this.Aa?webix.clone(this.Aa):{},b=this.ub(),c=0;c<b.length;c++)"input"===this.Fg(b[c])&&"radio"===this.Ke(b[c],"type")&&!1===b[c].checked||(a[b[c].name]=this.Qn(b[c]));return a},setValues:function(a){this.render();this.Aa=webix.clone(a);for(var b=this.ub(),c=0;c<b.length;c++)webix.isUndefined(a[b[c].name])||this.mk(b[c],a[b[c].name]);this.callEvent("onChange",[])},focus:function(a){a=webix.isUndefined(a)?this.ub()[0]:
this.i.querySelector('[name="'+a+'"]');webix.isUndefined(a)||a.focus()},clear:function(){this.render();for(var a=this.ub(),b=0;b<a.length;b++)this.mk(a[b],this.bf[a[b].name]||"")},Fg:function(a){return!a.tagName?null:a.tagName.toLowerCase()},Ke:function(a,b){if(!a.getAttribute)return null;var c=a.getAttribute(b);return c.toLowerCase?c.toLowerCase():null},Qn:function(a){var b=this.Fg(a);return this.vf[b]?this.vf[b].call(this,a):this.vf.other.call(this,a)},vf:{input:function(a){var b=this.Ke(a,"type");
return"checkbox"===b?a.checked:a.value},textarea:function(a){return a.value},select:function(a){var b=a.selectedIndex;return a.options[b].value},other:function(a){return a.innerHTML}},mk:function(a,b){var c=this.Fg(a);return this.Cg[c]?this.Cg[c].call(this,a,b):this.Cg.other.call(this,a,b)},Cg:{input:function(a,b){var c=this.Ke(a,"type");"checkbox"===c?a.checked=b?!0:!1:"radio"===c?a.checked=a.value===b?!0:!1:a.value=b},textarea:function(a,b){a.value=b},select:function(a,b){a.value=b},other:function(a,
b){a.innerHTML=b}},fc:function(a,b){this.Da(a,b);var c=this.i.querySelector('[name="'+a+'"]');c&&webix.html.addCss(c,"invalid")},Da:function(a,b){var c=this.i.querySelector('[name="'+a+'"]');c&&webix.html.removeCss(c,"invalid")}},webix.ui.template,webix.Values,webix.ValidateData);
webix.dp=function(a){"object"==typeof a&&a.h&&(a=a.h.id);if(webix.dp.hg[a])return webix.dp.hg[a];if("string"==typeof a||"number"==typeof a)a={master:webix.ui.get(a)};a=new webix.DataProcessor(a);return webix.dp.hg[a.h.master.h.id]=a};webix.dp.hg={};
webix.DataProcessor=webix.proto({defaults:{autoupdate:!0,mode:"post",operation_name:"webix_operation",connector_name:"!nativeeditor_status",serialize:function(a){return JSON.stringify(a)}},$init:function(){this.reset();this.Yb=!1;this.name="DataProcessor";this.$ready.push(this.hb)},reset:function(){this.Ua=[]},url_setter:function(a){if("string"==typeof a){var b=a.split("->");1<b.length&&(a=b[1],this.h.mode=b[0])}return a},master_setter:function(a){var b=a;"DataStore"!=a.name&&(b=a.data);this.h.store=
b;return a},hb:function(){this.h.store.attachEvent("onStoreUpdated",webix.bind(this.pj,this));this.h.url&&this.h.url.$proxy&&this.attachEvent("onBeforeDataSend",this.rp)},rp:function(a){var b=this.h.url;b.$proxy&&b.save&&b.save(this.config.master,a);return!1},ignore:function(a,b){var c=this.Yb;this.Yb=!0;a.call(b||this);this.Yb=c},off:function(){this.Yb=!0},on:function(){this.Yb=!1},hm:function(a){var b={},c;for(c in a)0!==c.indexOf("$")&&(b[c]=a[c]);return b},save:function(a,b){this.pj(a,this.h.store.item(a),
b||"update")},pj:function(a,b,c){if(!a||!0===this.Yb||!c||"paint"==c)return!0;b={id:a,data:this.hm(b)};switch(c){case "update":b.operation="update";break;case "add":b.operation="insert";break;case "delete":b.operation="delete";break;default:return!0}if("delete"!=b.operation&&!this.validate(b.data))return!1;if((c=this.h.master)&&c.getMark&&c.getMark(a,"webix_invalid"))b.Vd=!0;this.Tl(b)&&this.Ua.push(b);this.h.autoupdate&&this.send();return!0},Tl:function(a){for(var b=0;b<this.Ua.length;b++){var c=
this.Ua[b];if(c.id==a.id)return"delete"==a.operation&&("insert"==c.operation?this.Ua.splice(b,1):c.operation="delete"),c.data=a.data,c.Vd=a.Vd,!1}return!0},send:function(){this.Vp()},Vp:function(){if(this.h.url){for(var a=this.Ua,b=[],c=0;c<a.length;c++)if(!a[c].Gi&&!a[c].Vd){var d=a[c].id,e=a[c].operation;this.h.store.exists(d)&&(a[c].data=webix.copy(this.h.store.item(d)));webix.isUndefined(a[c].data.$parent)||(a[c].data.parent=a[c].data.$parent);this.callEvent("onBefore"+e,[d,a[c]])&&(a[c].Gi=!0,
b.push(a[c]))}b.length&&this.callEvent("onBeforeDataSend",[b])&&this.sc(this.h.url,this.Nq(b),this.h.mode)}},Nq:function(a){var b={};if("connector"==this.h.mode){for(var c=[],d=0;d<a.length;d++){var e=a[d];c.push(e.id);this.dl(e.data,b,e.id+"_",e.operation,this.h.connector_name)}b.ids=c.join(",")}else this.dl(a[0].data,b,"",a[0].operation,this.h.operation_name);webix.securityKey&&(b.webix_security=webix.securityKey);return b},dl:function(a,b,c,d,e){for(var f in a)0!==f.indexOf("$")&&(b[c+f]=a[f]);
b[c+e]=d},sc:function(a,b,c){if("function"==typeof a)return a(b);"connector"==this.h.mode&&(a+=-1==a.indexOf("?")?"?":"&",a+="editing=true",c="post");webix.ajax()[c](a,b,{success:webix.bind(this.processResult,this),error:webix.bind(this.Aj,this)})},Aj:function(a,b,c){this.callEvent("onLoadError",arguments);webix.callEvent("onLoadError",[a,b,c,this])},Li:function(a,b,c,d){var e=this.rn(c,b);b&&this.callEvent("onError",[a,e])?e.Vd=!0:(d&&c!=d&&this.h.store.changeId(c,d),this.callEvent("onAfter"+a.type,
[a]))},processResult:function(a,b,c){this.callEvent("onBeforeSync",[d,a,b,c]);b=(d="connector"==this.h.mode)?b.xml():b.json();if(!b)return this.Aj(a,b,c);var d;if(d){var e=b.data.action;e.length||(e=[e]);d=[];for(var f=0;f<e.length;f++){var g=e[f];d.push(g);var h="error"==g.type||"invalid"==g.type;this.Li(g,h,g.sid,g.tid)}}else d=b,h="error"==d.status||"invalid"==d.status,this.Li(d,h,d.id,d.newid);this.callEvent("onAfterSync",[d,a,b,c])},escape:function(a){return this.h.escape?this.h.escape(a):encodeURIComponent(a)},
rn:function(a,b){for(var c=-1,d=null,e=0;e<this.Ua.length;e++)if(this.Ua[e].id==a){c=e;break}0<=c&&(d=this.Ua[c],b?d.Gi=!1:this.Ua.splice(c,1));return d}},webix.Settings,webix.EventSystem,webix.ValidateData);
webix.jsonp=function(a,b,c,d){var e="webix_jsonp_"+webix.uid(),f=document.createElement("script");f.id=e;f.type="text/javascript";var g=document.getElementsByTagName("head")[0];b||(b={});b.jsonp="webix.jsonp."+e;webix.jsonp[e]=function(){c.apply(d||window,arguments);f.parentNode.removeChild(f);c=g=d=f=null;delete webix.jsonp[e]};var h=[],i;for(i in b)h.push(i+"="+encodeURIComponent(b[i]));a+=(-1==a.indexOf("?")?"?":"&")+h.join("&");f.src=a;g.appendChild(f)};
webix.markup={ip:{width:!0,height:!0},Pn:function(a){a=a.querySelectorAll("[data-view]");for(var b=[],c=[],d=0;d<a.length;d++)if(!a[d].parentNode.getAttribute("data-view")){var e=a[d].parentNode;c[e]||(b.push(e),c[e]=!0)}return b},init:function(a){var b=!1,c=a.getElementsByTagName(webix.env.isIE8?"ui":"x:ui");c.length||(c=this.Pn(a),b=!0);for(a=0;a<c.length;a++){var d=this.Kk(c[a],null,b);this.ho(d[0],c[a],b)}},ho:function(a,b,c){b.innerHTML="";b!=document.body&&(c?a.container=b:(a.container=b.parentNode,
webix.html.remove(b)));webix.ui(a)},Bi:function(a,b,c){a=a.attributes;for(var d=0;d<a.length;d++){var e=a[d].name;if(!(c&&0!==e.indexOf("data-"))){var e=e.replace("data-",""),f=a[d].value;-1!=f.indexOf("json://")&&(f=JSON.parse(f.replace("json://","")));this.ip[e]&&(f=parseInt(f,10));b[e]=f}}return b},Io:function(a,b,c){var d={view:b};this.Bi(a,d,c);if("cols"==b||"rows"==b)d.view="layout",d.stack=b;if("TABLE"==a.tagName)d.data=a,d.datatype="htmltable",a.parentNode.removeChild(a);else{var e=this.Qq(d.view);
e?d[e]=this.wq(a,d,c):d[d.stack||"elements"]=this.Kk(a,b,c)}return d},Mn:function(a,b){return b?"datasource"==a.getAttribute("data-role"):a.tagName==(webix.env.isIE8?"DATA":"X:DATA")},wq:function(a,b,c){for(var d=a.firstChild;d;){var e=d,d=d.nextSibling;if(1==e.nodeType&&this.Mn(e,c)){for(var f=[],g=e.getElementsByTagName("li"),h=0;h<g.length;h++){var i=this.Bi(g[h],{});i.value||(i.value=g[h].innerHTML);f.push(i)}b.data=f;webix.html.remove(e)}}return a.innerHTML},Rn:function(a,b){if(b)return a.getAttribute("data-view");
var c=a.tagName.toLowerCase();return 0===c.indexOf("x:")||"x"==a.scopeName?c.replace("x:",""):0},Kk:function(a,b,c){var d=[],e="";a=a.firstChild;for(var f="toolbar"==b?"label":"template";a;){if(1==a.nodeType){var g=this.Rn(a,c);g?(e&&(d.push({view:f,autoheight:!d.length&&"rows"==b,template:e}),e=""),d.push(this.Io(a,g,c))):e+=a.outerHTML}else 3===a.nodeType&&!this.Sm(a.nodeValue)&&(e+=a.nodeValue);a=a.nextSibling}e&&d.push({view:f,autoheight:"rows"==b,template:e});return d},Qq:function(a){return"layout"===
a||"toolbar"===a?"":"button"===a?"label":"template"},Sm:function(a){a=a.replace(/\s+/gm,"");return 0<a.length?!1:!0}};webix.ready(function(){webix.markup.init(document)});
(function(){function a(a,b){var d=a.callback;c(!1);a.box.parentNode.removeChild(a.box);j=a.box=null;d&&d(b)}function b(b){if(j){b=b||event;var c=b.which||event.keyCode;webix.message.keyboard&&((13==c||32==c)&&a(j,!0),27==c&&a(j,!1));b.preventDefault&&b.preventDefault();return!(b.cancelBubble=!0)}}function c(a){c.cover||(c.cover=document.createElement("DIV"),c.cover.onkeydown=b,c.cover.className="webix_modal_cover",document.body.appendChild(c.cover));c.cover.style.display=a?"inline-block":"none"}function d(a,
b,c){return"<div class='webix_popup_button"+(c?" "+c:"")+"' result='"+b+"' ><div>"+a+"</div></div>"}function e(a){k.area||(k.area=document.createElement("DIV"),k.area.className="webix_message_area",k.area.style[k.position]="5px",document.body.appendChild(k.area));k.hide(a.id);var b=document.createElement("DIV");b.innerHTML="<div>"+a.text+"</div>";b.className="webix-info webix-"+a.type;b.onclick=function(){k.hide(a.id);a=null};webix.$testmode&&(b.className+=" webix_no_transition");"bottom"==k.position&&
k.area.firstChild?k.area.insertBefore(b,k.area.firstChild):k.area.appendChild(b);0<a.expire&&(k.timers[a.id]=window.setTimeout(function(){k.hide(a.id)},a.expire));b.style.height=b.offsetHeight-2+"px";k.pull[a.id]=b;b=null;return a.id}function f(b,c,e){var f=document.createElement("DIV");f.className=" webix_modal_box webix-"+b.type;f.setAttribute("webixbox",1);var g="";b.width&&(f.style.width=b.width);b.height&&(f.style.height=b.height);b.title&&(g+='<div class="webix_popup_title">'+b.title+"</div>");
g+='<div class="webix_popup_text"><span>'+(b.content?"":b.text)+'</span></div><div  class="webix_popup_controls">';c&&(g+=d(b.ok||"OK",!0,"confirm"));e&&(g+=d(b.cancel||"Cancel",!1));if(b.buttons)for(var h=0;h<b.buttons.length;h++)g+=d(b.buttons[h],h);f.innerHTML=g+"</div>";b.content&&(g=b.content,"string"==typeof g&&(g=document.getElementById(g)),"none"==g.style.display&&(g.style.display=""),f.childNodes[b.title?1:0].appendChild(g));f.onclick=function(c){c=c||event;c=c.target||c.srcElement;c.className||
(c=c.parentNode);-1!=c.className.indexOf("webix_popup_button")&&(c=c.getAttribute("result"),a(b,"true"==c||("false"==c?!1:c)))};b.box=f;if(c||e||b.buttons)j=b;return f}function g(a,d,e){d=a.tagName?a:f(a,d,e);a.hidden||c(!0);document.body.appendChild(d);e=a.left||Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-d.offsetWidth)/2));var g=a.top||Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-d.offsetHeight)/2));d.style.top="top"==a.position?
"-3px":g+"px";d.style.left=e+"px";d.onkeydown=b;d.focus();a.hidden&&webix.modalbox.hide(d);return d}function h(a,b,c){"object"!=typeof a&&("function"==typeof b&&(c=b,b=""),a={text:a,type:b,callback:c});return a}function i(a,b,c,d){"object"!=typeof a&&(a={text:a,type:b,expire:c,id:d});a.id=a.id||k.uid();a.expire=a.expire||k.expire;return a}var j=null;document.attachEvent?document.attachEvent("onkeydown",b):document.addEventListener("keydown",b,!0);webix.alert=function(){var a=h.apply(this,arguments);
a.type=a.type||"confirm";return g(a,!0,!1)};webix.confirm=function(){var a=h.apply(this,arguments);a.type=a.type||"alert";return g(a,!0,!0)};webix.modalbox=function(){var a=h.apply(this,arguments);a.type=a.type||"alert";return g(a)};webix.modalbox.hide=function(a){for(;a&&a.getAttribute&&!a.getAttribute("webixbox");)a=a.parentNode;a&&(a.parentNode.removeChild(a),c(!1))};var k=webix.message=function(a,b,c,d){a=i.apply(this,arguments);a.type=a.type||"info";var f=a.type.split("-")[0];switch(f){case "alert":return g(a,
!0,!1);case "confirm":return g(a,!0,!0);case "modalbox":return g(a);default:return e(a)}};k.seed=(new Date).valueOf();k.uid=function(){return k.seed++};k.expire=4E3;k.keyboard=!0;k.position="top";k.pull={};k.timers={};k.hideAll=function(){for(var a in k.pull)k.hide(a)};k.hide=function(a){var b=k.pull[a];b&&b.parentNode&&(window.setTimeout(function(){b.parentNode.removeChild(b);b=null},2E3),b.style.height=0,b.className+=" hidden",k.timers[a]&&window.clearTimeout(k.timers[a]),delete k.pull[a])}})();
webix.protoUI({name:"carousel",defaults:{scrollSpeed:"300ms",panel:{}},$init:function(){this.i.className+=" webix_carousel";this.i.appendChild(webix.html.create("DIV",{"class":"webix_scroll_carousel"},""));this.m=this.i.firstChild;this.l=null;this.B=0;this.$ready.push(this.hb)},hb:function(){this.m.setAttribute("touch_scroll",this.v?"y":"x")},adjustScroll:function(a){var b=this.v?this.q:this.p,c;this.v?(c=Math.round(a.f/b),a.f=c*b):(c=Math.round(a.e/b),a.e=c*b);this.B=-c;this.h.panel&&this.Mj();return!0},
Eb:function(a){var b,c;c=-1;for(b=0;b<this.j.length;b++)if(this.j[b]==a){c=b;break}0>c||c==this.B||(this.B=c,b=this.v?this.q:this.p,a=-(this.v?0:c*b),c=-(this.v?c*b:0),this.scrollTo(a,c),this.h.panel&&this.lg())},scrollTo:function(a,b){webix.Touch&&webix.Touch.F(this.m,a,b,this.h.scrollSpeed||"100ms")},panel_setter:function(a){this.ya(a,{size:16,itemSize:16,align:"bottom"});return a},showNext:function(){this.B<this.j.length-1&&this.setActiveIndex(this.B+1)},showPrev:function(){0<this.B&&this.setActiveIndex(this.B-
1)},setActiveIndex:function(a){a=this.j[a].h.id;$$(a).show()},getActiveIndex:function(){return this.B},$getSize:function(a,b){return webix.ui.layout.prototype.$getSize.call(this,a,b)},$setSize:function(a,b){if(webix.ui.view.prototype.$setSize.call(this,a,b)){var c=this.j.length,d=this.q*(this.v?c:1),c=this.p*(this.v?1:c);this.m.style.height=d+"px";this.m.style.width=c+"px";webix.ui.layout.prototype.$setSize.call(this,c,d);webix.ui.view.prototype.$setSize.call(this,a,b);this.h.panel&&this.lg()}},getActive:function(){return this.j[this.B].h.id},
setActive:function(a){$$(a).show()}},webix.CarouselPanel,webix.ui.layout,webix.EventSystem);
webix.Type(webix.ui.list,{name:"uploader",template:"#name#  {common.removeIcon()}{common.percent()}<div style='float:right'>#sizetext#</div>",percent:function(a){return"transfer"==a.status?"<div style='width:60px; text-align:center; float:right'>"+a.percent+"%</div>":"<div class='webix_upload_"+a.status+"'><span class='"+("error"==a.status?"error_icon":"icon-ok webix_icon")+"'></span></div>"},removeIcon:function(a){return"<div class='webix_remove_upload'><span class='cancel_icon'></span></div>"},on_click:{webix_remove_upload:function(a,
b){$$(this.config.uploader).files.remove(b)}}});
webix.UploadDriver={html5:{Ib:function(a){this.files.attachEvent("onBeforeDelete",this.Hk);a={type:"file","class":"webix_hidden_upload",tabindex:-1};this.h.multiple&&(a.multiple="true");var b=webix.html.create("input",a);this.qr=this.m.appendChild(b);webix.event(this.i,"drop",webix.bind(function(a){this.Qm(a);webix.html.preventEvent(a)},this));webix.event(b,"change",webix.bind(function(){this.Qg(b.files)},this));webix.event(this.i,"click",webix.bind(function(){var a=new Date;if(250<a-(this.Pq||0))this.Pq=
a,this.fileDialog()},this));webix.event(this.i,"dragenter",webix.html.preventEvent);webix.event(this.i,"dragexit",webix.html.preventEvent);webix.event(this.i,"dragover",webix.html.preventEvent);this.Ib=function(){}},Qm:function(a){var b=a.dataTransfer.files;this.callEvent("onBeforeFileDrop",[b,a])&&this.Qg(b);this.callEvent("onAfterFileDrop",[b,a])},fileDialog:function(a){this.Ao=a;a=this.i.getElementsByTagName("INPUT");a[a.length-1].click()},send:function(a){"function"==typeof a&&(this.Nf=a,a=0);
if(a){var b=this.files.item(a);if("client"!==b.status)return!1;b.status="transfer";var c=new FormData;c.append("upload",b.file);b=b.xhr=new XMLHttpRequest;b.upload.addEventListener("progress",webix.bind(function(b){this.cl(a,100*(b.loaded/b.total))},this),!1);b.onload=webix.bind(function(b){this.an(a)},this);b.open("POST",this.h.upload,!0);b.send(c);this.cl(a,0);return!0}c=this.files.data.order;b=!0;if(c.length)for(var d=0;d<c.length;d++)b=!this.send(c[d])&&b;b&&this.el()},an:function(a){var b=this.files.item(a);
if(b){var c=webix.DataDriver.json.toObject(b.xhr.responseText);200!=b.xhr.status||!c||"error"==c.status?(b.status="error",delete b.percent,this.files.update(a),this.callEvent("onFileUploadError",[b,c])):this.dm(a,c);delete b.xhr}},stopUpload:function(a){webix.bind(this.Hk,this.files)(a)},Hk:function(a){a=this.item(a);"undefined"!==typeof a.xhr&&a.xhr.abort();delete a.xhr;a.status="client"}}};
webix.protoUI({name:"uploader",defaults:{autosend:!0,multiple:!0},nm:"button",$formElement:!0,Jb:!0,$init:function(a){a=webix.UploadDriver.html5;this.files=new webix.DataCollection;if(webix.isUndefined(XMLHttpRequest)||webix.isUndefined((new XMLHttpRequest).upload))a=webix.UploadDriver.flash;webix.extend(this,a)},apiOnly_setter:function(a){webix.delay(this.render,this);return this.$apiOnly=a},Qg:function(a){for(var b=0;b<a.length;b++)this.addFile(a[b])},link_setter:function(a){a&&webix.delay(function(){var a=
webix.ui.get(this.h.link);a.sync&&a.filter?a.sync(this.files):a.setValues&&this.files.data.attachEvent("onStoreUpdated",function(){a.setValues(this)});a.h.uploader=this.h.id},this);return a},addFile:function(a,b,c){var d=null;"object"==typeof a&&(d=a,a=d.name,b=d.size);var e=this.pn(b);c=c||a.split(".").pop();a={file:d,name:a,id:webix.uid(),size:b,sizetext:e,type:c,context:this.Ao,status:"client"};this.callEvent("onBeforeFileAdd",[a])&&(this.h.multiple||this.files.clearAll(),b=this.files.add(a),this.callEvent("onAfterFileAdd",
[a]),b&&this.h.autosend&&this.send(b))},pn:function(a){for(var b=0;1024<a;)b++,a/=1024;return Math.round(100*a)/100+" "+webix.i18n.fileSize[b]},dm:function(a,b){if("server"===b.status){var c=this.files.item(a);c.status="server";c.progress=100;webix.extend(c,b,!0);this.callEvent("onFileUpload",[c,b]);this.files.update(a)}this.isUploaded()&&this.el()},el:function(){this.callEvent("onUploadComplete",[]);this.Nf&&(this.Nf.call(this),this.Nf=0)},isUploaded:function(){for(var a=this.files.data.order,b=
0;b<a.length;b++)if("server"!=this.files.item(a[b]).status)return!1;return!0},cl:function(a,b){var c=this.files.item(a);c.percent=Math.round(b);this.files.update(a)},setValue:function(a){a?this.files.parse(a):this.files.clearAll()},getValue:function(){var a=[];this.files.data.each(function(b){"server"==b.status&&a.push(b.name||b.value)});return a.join(",")}},webix.ui.button);
webix.html.addMeta=function(a,b){document.getElementsByTagName("head").item(0).appendChild(webix.html.create("meta",{name:a,content:b}))};
(function(){var a=function(){var a=!!(window.orientation%180);webix.ui.orientation!==a&&(webix.ui.orientation=a,webix.callEvent("onRotate",[a]))};webix.ui.orientation=!!((webix.isUndefined(window.orientation)?90:window.orientation)%180);webix.event(window,"onorientationchange"in window?"orientationchange":"resize",a);webix.env.isFF&&(!webix.env.isWebKit&&window.matchMedia)&&(window.matchMedia("(orientation: portrait)").addListener(function(){webix.ui.orientation=!1}),window.matchMedia("(orientation: landscape)").addListener(function(){webix.ui.orientation=
!0}));webix.ui.fullScreen=function(){if(webix.env.touch){webix.html.addMeta("apple-mobile-web-app-capable","yes");webix.html.addMeta("viewport","initial-scale=1, maximum-scale=1, user-scalable=no");var b=document.body.offsetHeight||document.body.scrollHeight,c=-1!=navigator.userAgent.indexOf("iPhone");navigator.userAgent.indexOf("iPad");var d=c&&(356==b||208==b||306==b||158==b||444==b),e=568==window.screen.height,f=function(){var a=0,b=0;c?webix.ui.orientation?(a=e?568:480,b=d?268:300):(a=320,b=e?
d?504:548:d?416:460):webix.env.isAndroid?(document.body.style.width=document.body.style.height="1px",document.body.style.overflow="hidden",b=window.outerWidth/window.innerWidth,a=window.outerWidth/b,b=window.outerHeight/b):(a=window.innerWidth,b=window.innerHeight);b&&(document.body.style.height=b+"px",document.body.style.width=a+"px");webix.ui.ki=!1;webix.ui.resize();webix.delay(function(){window.scrollTo(0,1)})},b=function(){webix.ui.ki=!0;webix.env.isSafari?f():webix.delay(f,null,[],500)};webix.attachEvent("onClick",
function(a){"INPUT"==a.target.tagName||("TEXTAREA"==a.target.tagName||"SELECT"==a.target.tagName)||(d&&416>window.innerHeight||!d&&window.innerHeight<window.outerHeight)&&window.scrollTo(0,1)});webix.attachEvent("onRotate",b);a();webix.delay(b)}}})();
window.jQuery&&function(a){function b(a){if(a&&a.getAttribute)return a.getAttribute("view_id")}function c(c){return function(e){if("string"===typeof e){if(d[e])return d[e].apply(this,[]);a.error("Method "+e+" does not exist on jQuery.".name)}else{var f=[];this.each(function(){var a,d;(d=b(this)||b(this.firstChild))&&(a=webix.ui.get(d));if(!a){if(d=e?e.data:0)e.data=null;a=webix.copy(e||{autoheight:!0,autowidth:!0});a.view=c;d&&(e.data=a.data=d);"table"===this.tagName.toLowerCase()?(d=webix.html.create("div",
{id:this.getAttribute("id")||"","class":this.getAttribute("class")||""},""),this.parentNode.insertBefore(d,this),a.container=d,a=webix.ui(a),a.parse(this,"htmltable")):(a.container=this,a=webix.ui(a))}f.push(a)});return 1===f.length?f[0]:f}}}var d=[],e;for(e in webix.ui){var f="webix_"+e;a.fn[f]=c(e)}}(jQuery);
webix.history={track:function(a,b){this.Ki(a,b);webix.ui.get(a).attachEvent("onChange",function(){webix.history.Ei||webix.history.Cj(a,b)})},vk:function(a,b){webix.history.Ei=1;webix.ui.get(a).setValue(b);webix.history.Ei=0},Cj:function(a,b){a=webix.ui.get(a);var c="";b&&(c="#"+a.getValue());window.history.pushState({webix:!0,id:a.h.id,value:a.getValue()},"",c)},Ki:function(a,b){webix.event(window,"popstate",function(a){a.state&&a.state.webix&&webix.history.vk(a.state.id,a.state.value)});var c=window.location.hash;
b&&c&&(webix.history.vk(a,c.replace("#","")),webix.history.Cj(a));this.Ki=function(){}}};
(function(){var a=webix.CustomScroll={scrollStep:40,init:function(){webix.env.$customScroll=!0;webix.ui.scrollSize=0},Um:function(b){b.o.Ed=b.h.id;webix.event(b.o,"mouseover",a.cj);webix.event(b.o,"mouseout",a.ej)},enable:function(b,c){a.rb();var d=b;b.l&&(d=b.l.parentNode);d.Dh=c||"xy";webix.event(d,"mouseover",a.cj);webix.event(d,"mouseout",a.ej);webix.event(d,"mousewheel",a.hj);webix.event(d,"DOMMouseScroll",a.hj)},rb:function(b){webix.event(document.body,"mousemove",function(b){a.zc&&a.tl(a.zc,
a.zc.ek,webix.html.pos(b))});a.rb=function(){}},cj:function(b){clearTimeout(this.gj);!this.Wa&&!a.zc&&(this.Ed?b=a.Nn(webix.ui.get(this.Ed)):(b={dx:this.scrollWidth,dy:this.scrollHeight,px:this.offsetWidth,py:this.offsetHeight},b.pc=b.dx>b.px&&-1!=this.Dh.indexOf("x"),b.qc=b.dy>b.py&&-1!=this.Dh.indexOf("y")),this.Wa=b,b.pc&&(b.eb=a.Fc(this,"x",b.dx,b.px,"width","height"),b.Mk=b.px-b.eb.offsetWidth-4,b.Rq=b.dx-b.px),b.qc&&(b.Sa=a.Fc(this,"y",b.dy,b.py,"height","width"),b.Nk=b.py-b.Sa.offsetHeight-
4,b.Sq=b.dy-b.py),a.wc(this))},tl:function(b,c,d){var e=b.Wa,f=b.Ed;f&&(f=webix.ui.get(f));if(e.eb==b.zb){var g=(d.x-c.x)*e.Rq/e.Mk;f?f.Z.scrollTo(f.nc+g):a.ue(b,"scrollLeft",g)}e.Sa==b.zb&&(g=(d.y-c.y)*e.Sq/e.Nk,f?f.ia.scrollTo(f.Qa+g):a.ue(b,"scrollTop",g));b.ek=d;a.wc(b)},Nn:function(a){var c={};a.Z&&(c.dx=a.Z.h.scrollWidth,c.px=a.Z.$b||1,c.pc=c.dx>c.px);a.ia&&(c.dy=a.ia.h.scrollHeight,c.py=a.ia.$b||1,c.qc=c.dy>c.py);return c},ej:function(){clearTimeout(this.gj);this.gj=webix.delay(a.fj,this,[],
200)},Kj:function(a){a&&(webix.html.remove(a),a.kl&&(webix.eventRemove(a.kl),webix.eventRemove(a.Tq)))},fj:function(){if(this.Wa)if(this.zb)this.fk=!0;else{var b=this.Wa;a.Kj(b.eb);a.Kj(b.Sa);this.Wa=null}},hj:function(b){var c=this.Wa,d=b.wheelDelta/-40;!d&&(b.detail&&webix.isUndefined(b.wheelDelta))&&(d=b.detail);c&&(c.eb&&(b.wheelDeltaX||d&&!c.Sa)?(c=b.wheelDeltaX/-40||d,a.ue(this,"scrollLeft",c*a.scrollStep)):d&&c.Sa&&a.ue(this,"scrollTop",d*a.scrollStep));a.wc(this);return webix.html.preventEvent(b)},
ue:function(b,c,d){var e=b.Wa,e="scrollLeft"==c?e.dx-e.px:e.dy-e.py;b[c]+d>e&&(d=e-b[c]);webix.env.isIE&&a.wc(b,c,d+b[c]);b[c]+=d},Fc:function(b,c,d,e,f,g){c=webix.html.create("DIV",{"class":"webix_c_scroll_"+c},"<div></div>");c.style[f]=Math.max(e*e/d-7,40)+"px";b.style.position="relative";b.appendChild(c);b.kl=webix.event(c,"mousedown",a.Sp(b));b.Tq=webix.event(document.body,"mouseup",webix.bind(a.Tp,b));return c},Sp:function(b){return function(c){this.className+=" webix_scroll_active";a.zc=b;b.zb=
this;b.ek=webix.html.pos(c)}},Tp:function(b){this.zb&&(this.zb.className=this.zb.className.toString().replace(" webix_scroll_active",""),this.zb=!1,a.zc=0,this.fk&&(a.fj.call(this),this.fk=!1))},wc:function(a,c,d){var e=a.Wa;if(e&&(e.eb||e.Sa)){var f=a.Ed,g="scrollLeft"==c?d:a.scrollLeft,g=f?webix.ui.get(f).nc:g,h=f?0:g;a="scrollTop"==c?d:a.scrollTop;a=f?webix.ui.get(f).Qa:a;f=f?0:a;e.eb&&(e.eb.style.bottom=1-f+"px",e.eb.style.left=Math.round(e.Mk*g/(e.dx-e.px))+h+1+"px");e.Sa&&(e.Sa.style.right=
1-h+"px",e.Sa.style.top=Math.round(e.Nk*a/(e.dy-e.py))+f+1+"px")}}}})();
